(function(k){var y={init:function x(){D={stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,blocking:false,autorun:false,assertions:[],filters:[],queue:[]};var H=s("qunit-tests"),G=s("qunit-banner"),F=s("qunit-testresult");if(H){H.innerHTML=""}if(G){G.className=""}if(F){F.parentNode.removeChild(F)}},module:function b(F,G){l(function(){if(D.currentModule){y.moduleDone(D.currentModule,D.moduleStats.bad,D.moduleStats.all)}D.currentModule=F;D.moduleTestEnvironment=G;D.moduleStats={all:0,bad:0};y.moduleStart(F,G)})},asyncTest:function B(F,G,H){if(arguments.length===2){H=G;G=0}y.test(F,G,H,true)},test:function z(F,I,K,H){var G=F,J={};if(arguments.length===2){K=I;I=null}if(D.currentModule){G=D.currentModule+" module: "+G}if(!i(G)){return}l(function(){y.testStart(F);J=A({setup:function(){},teardown:function(){}},D.moduleTestEnvironment);D.assertions=[];D.expected=null;if(arguments.length>=3){D.expected=K;K=arguments[2]}try{if(!D.pollution){w()}J.setup.call(J)}catch(L){y.ok(false,"Setup failed on "+G+": "+L.message)}if(H){y.stop()}try{K.call(J)}catch(L){g("Test "+G+" died, exception and test follows",L,K);y.ok(false,"Died on test #"+(D.assertions.length+1)+": "+L.message);w();if(D.blocking){e()}}});l(function(){try{p();J.teardown.call(J)}catch(P){y.ok(false,"Teardown failed on "+G+": "+P.message)}try{y.reset()}catch(P){g("reset() failed, following Test "+G+", exception and reset fn follows",P,C)}if(D.expected&&D.expected!=D.assertions.length){y.ok(false,"Expected "+D.expected+" assertions, but "+D.assertions.length+" were run")}var N=0,L=0,M=s("qunit-tests");D.stats.all+=D.assertions.length;D.moduleStats.all+=D.assertions.length;if(M){var Q=document.createElement("ol");Q.style.display="none";for(var O=0;O<D.assertions.length;O++){var U=D.assertions[O];var T=document.createElement("li");T.className=U.result?"pass":"fail";T.innerHTML=U.message||"(no message)";Q.appendChild(T);if(U.result){N++}else{L++;D.stats.bad++;D.moduleStats.bad++}}var R=document.createElement("strong");R.innerHTML=G+" <b style='color:black;'>(<b class='fail'>"+L+"</b>, <b class='pass'>"+N+"</b>, "+D.assertions.length+")</b>";t(R,"click",function(){var V=R.nextSibling,W=V.style.display;V.style.display=W==="none"?"block":"none"});t(R,"dblclick",function(X){var W=(X||k.event).target;if(W.nodeName.toLowerCase()==="strong"){var Y="",V=W.firstChild;while(V.nodeType===3){Y+=V.nodeValue;V=V.nextSibling}Y=Y.replace(/(^\s*|\s*$)/g,"");if(k.location){k.location.href=k.location.href.match(/^(.+?)(\?.*)?$/)[1]+"?"+encodeURIComponent(Y)}}});var T=document.createElement("li");T.className=L?"fail":"pass";T.appendChild(R);T.appendChild(Q);M.appendChild(T);if(L){var S=s("qunit-testrunner-toolbar");if(S){S.style.display="block";s("qunit-filter-pass").disabled=null;s("qunit-filter-missing").disabled=null}}}else{for(var O=0;O<D.assertions.length;O++){if(!D.assertions[O].result){L++;D.stats.bad++;D.moduleStats.bad++}}}y.testDone(F,L,D.assertions.length);if(!k.setTimeout&&!D.queue.length){r()}});if(k.setTimeout&&!D.doneTimer){D.doneTimer=k.setTimeout(function(){if(!D.queue.length){r()}else{l(r)}},13)}},expect:function d(F){D.expected=F},ok:function n(F,G){y.log(F,G);D.assertions.push({result:!!F,message:G})},equals:function m(H,G,F){h(G==H,H,G,F)},same:function(G,F,H){h(y.equiv(G,F),G,F,H)},start:function e(){if(k.setTimeout){k.setTimeout(function(){if(D.timeout){clearTimeout(D.timeout)}D.blocking=false;q()},13)}else{D.blocking=false;q()}},stop:function u(F){D.blocking=true;if(F&&k.setTimeout){D.timeout=k.setTimeout(function(){y.ok(false,"Test timed out");y.start()},F)}},reset:function C(){if(k.jQuery){jQuery("#main").html(D.fixture);jQuery.event.global={};jQuery.ajaxSettings=A({},D.ajaxSettings)}},triggerEvent:function c(H,F,G){if(document.createEvent){G=document.createEvent("MouseEvents");G.initMouseEvent(F,true,true,H.ownerDocument.defaultView,0,0,0,0,0,false,false,false,false,0,null);H.dispatchEvent(G)}else{if(H.fireEvent){H.fireEvent("on"+F)}}},done:function r(F,G){},log:function j(F,G){},testStart:function a(F){},testDone:function E(F,G,H){},moduleStart:function v(F,G){},moduleDone:function f(F,G,H){}};var D={queue:[],blocking:true};(function(){var F=k.location||{search:"",protocol:"file:"},H=F.search.slice(1).split("&");for(var G=0;G<H.length;G++){H[G]=decodeURIComponent(H[G]);if(H[G]==="noglobals"){H.splice(G,1);G--;D.noglobals=true}}D.filters=H;y.isLocal=!!(F.protocol==="file:")})();if(typeof exports==="undefined"||typeof require==="undefined"){A(k,y);k.QUnit=y}else{A(exports,y);exports.QUnit=y}if(typeof document==="undefined"||document.readyState==="complete"){D.autorun=true}t(k,"load",function(){var H=A({},D);y.init();A(D,H);D.blocking=false;var L=s("qunit-userAgent");if(L){L.innerHTML=navigator.userAgent}var K=s("qunit-testrunner-toolbar");if(K){K.style.display="none";var J=document.createElement("input");J.type="checkbox";J.id="qunit-filter-pass";J.disabled=true;t(J,"click",function(){var M=document.getElementsByTagName("li");for(var N=0;N<M.length;N++){if(M[N].className.indexOf("pass")>-1){M[N].style.display=J.checked?"none":"block"}}});K.appendChild(J);var G=document.createElement("label");G.setAttribute("for","filter-pass");G.innerHTML="Hide passed tests";K.appendChild(G);var I=document.createElement("input");I.type="checkbox";I.id="qunit-filter-missing";I.disabled=true;t(I,"click",function(){var M=document.getElementsByTagName("li");for(var N=0;N<M.length;N++){if(M[N].className.indexOf("fail")>-1&&M[N].innerHTML.indexOf("missing test - untested code is broken code")>-1){M[N].parentNode.parentNode.style.display=I.checked?"none":"block"}}});K.appendChild(I);G=document.createElement("label");G.setAttribute("for","filter-missing");G.innerHTML="Hide missing tests (untested code is broken code)";K.appendChild(G)}var F=s("main");if(F){D.fixture=F.innerHTML}if(k.jQuery){D.ajaxSettings=k.jQuery.ajaxSettings}y.start()});function r(){if(D.doneTimer&&k.clearTimeout){k.clearTimeout(D.doneTimer);D.doneTimer=null}if(D.queue.length){D.doneTimer=k.setTimeout(function(){if(!D.queue.length){r()}else{l(r)}},13);return}D.autorun=true;if(D.currentModule){y.moduleDone(D.currentModule,D.moduleStats.bad,D.moduleStats.all)}var G=s("qunit-banner"),I=s("qunit-tests"),H=["Tests completed in ",+new Date-D.started," milliseconds.<br/>",'<span class="bad">',D.stats.all-D.stats.bad,'</span> tests of <span class="all">',D.stats.all,"</span> passed, ",D.stats.bad," failed."].join("");if(G){G.className+=" "+(D.stats.bad?"fail":"pass")}if(I){var F=s("qunit-testresult");if(!F){F=document.createElement("p");F.id="qunit-testresult";F.className="result";I.parentNode.insertBefore(F,I.nextSibling)}F.innerHTML=H}y.done(D.stats.bad,D.stats.all)}function i(F){var G=D.filters.length,J=false;if(!G){return true}while(G--){var H=D.filters[G],I=H.charAt(0)=="!";if(I){H=H.slice(1)}if(F.indexOf(H)!==-1){return !I}if(I){J=true}}return J}function h(F,I,H,G){G=G||(F?"okay":"failed");y.ok(F,F?G+": "+H:G+", expected: "+y.jsDump.parse(H)+" result: "+y.jsDump.parse(I))}function l(F){D.queue.push(F);if(D.autorun&&!D.blocking){q()}}function q(){while(D.queue.length&&!D.blocking){D.queue.shift()()}}function w(){D.pollution=[];if(D.noglobals){for(var F in k){D.pollution.push(F)}}}function p(H){var G=D.pollution;w();var F=o(G,D.pollution);if(F.length>0){n(false,"Introduced global variable(s): "+F.join(", "));D.expected++}var I=o(D.pollution,G);if(I.length>0){n(false,"Deleted global variable(s): "+I.join(", "));D.expected++}}function o(H,G){var F=H.slice();for(var J=0;J<F.length;J++){for(var I=0;I<G.length;I++){if(F[J]===G[I]){F.splice(J,1);J--;break}}}return F}function g(G,F,H){if(typeof console!=="undefined"&&console.error&&console.warn){console.error(G);console.error(F);console.warn(H.toString())}else{if(k.opera&&opera.postError){opera.postError(G,F,H.toString)}}}function A(G,F){for(var H in F){G[H]=F[H]}return G}function t(H,G,F){if(H.addEventListener){H.addEventListener(G,F,false)}else{if(H.attachEvent){H.attachEvent("on"+G,F)}else{F()}}}function s(F){return !!(typeof document!=="undefined"&&document&&document.getElementById)&&document.getElementById(F)}y.equiv=function(){var H;var J=[];function F(K){if(K.constructor===String){return"string"}else{if(K.constructor===Boolean){return"boolean"}else{if(K.constructor===Number){if(isNaN(K)){return"nan"}else{return"number"}}else{if(typeof K==="undefined"){return"undefined"}else{if(K===null){return"null"}else{if(K instanceof Array){return"array"}else{if(K instanceof Date){return"date"}else{if(K instanceof RegExp){return"regexp"}else{if(typeof K==="object"){return"object"}else{if(K instanceof Function){return"function"}else{return undefined}}}}}}}}}}}function I(M,L,K){var N=F(M);if(N){if(F(L[N])==="function"){return L[N].apply(L,K)}else{return L[N]}}}var G=function(){function K(L,M){if(L instanceof M.constructor||M instanceof L.constructor){return M==L}else{return M===L}}return{string:K,"boolean":K,number:K,"null":K,"undefined":K,nan:function(L){return isNaN(L)},date:function(L,M){return F(L)==="date"&&M.valueOf()===L.valueOf()},regexp:function(L,M){return F(L)==="regexp"&&M.source===L.source&&M.global===L.global&&M.ignoreCase===L.ignoreCase&&M.multiline===L.multiline},"function":function(){var L=J[J.length-1];return L!==Object&&typeof L!=="undefined"},array:function(M,N){var O;var L;if(!(F(M)==="array")){return false}L=N.length;if(L!==M.length){return false}for(O=0;O<L;O++){if(!H(N[O],M[O])){return false}}return true},object:function(M,N){var P;var L=true;var O=[],Q=[];if(N.constructor!==M.constructor){return false}J.push(N.constructor);for(P in N){O.push(P);if(!H(N[P],M[P])){L=false}}J.pop();for(P in M){Q.push(P)}return L&&H(O.sort(),Q.sort())}}}();H=function(){var K=Array.prototype.slice.apply(arguments);if(K.length<2){return true}return(function(M,L){if(M===L){return true}else{if(M===null||L===null||typeof M==="undefined"||typeof L==="undefined"||F(M)!==F(L)){return false}else{return I(M,G,[L,M])}}})(K[0],K[1])&&arguments.callee.apply(this,K.splice(1,K.length-1))};return H}();y.jsDump=(function(){function F(L){return'"'+L.toString().replace(/"/g,'\\"')+'"'}function G(L){return L+""}function I(Q,L,N){var O=H.separator(),P=H.indent(),M=H.indent(1);if(L.join){L=L.join(","+O+M)}if(!L){return Q+N}return[Q,M+L,P+N].join(O)}function K(L){var N=L.length,M=Array(N);this.up();while(N--){M[N]=this.parse(L[N])}this.down();return I("[",M,"]")}var J=/^function (\w+)/;var H={parse:function(M,L){var N=this.parsers[L||this.typeOf(M)];L=typeof N;return L=="function"?N.call(this,M):L=="string"?N:this.parsers.error},typeOf:function(N){var L=typeof N,M="function";return L!="object"&&L!=M?L:!N?"null":N.exec?"regexp":N.getHours?"date":N.scrollBy?"window":N.nodeName=="#document"?"document":N.nodeName?"node":N.item?"nodelist":N.callee?"arguments":N.call||N.constructor!=Array&&(N+"").indexOf(M)!=-1?M:"length" in N?"array":L},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(L){if(!this.multiline){return""}var M=this.indentChar;if(this.HTML){M=M.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")}return Array(this._depth_+(L||0)).join(M)},up:function(L){this._depth_+=L||1},down:function(L){this._depth_-=L||1},setParser:function(L,M){this.parsers[L]=M},quote:F,literal:G,join:I,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(N){var M="function",L="name" in N?N.name:(J.exec(N)||[])[1];if(L){M+=" "+L}M+="(";M=[M,this.parse(N,"functionArgs"),"){"].join("");return I(M,this.parse(N,"functionCode"),"}")},array:K,nodelist:K,arguments:K,object:function(N){var L=[];this.up();for(var M in N){L.push(this.parse(M,"key")+": "+this.parse(N[M]))}this.down();return I("{",L,"}")},node:function(P){var O=this.HTML?"&lt;":"<",R=this.HTML?"&gt;":">";var L=P.nodeName.toLowerCase(),N=O+L;for(var M in this.DOMAttrs){var Q=P[this.DOMAttrs[M]];if(Q){N+=" "+M+"="+this.parse(Q,"attribute")}}return N+R+O+"/"+L+R},functionArgs:function(N){var L=N.length;if(!L){return""}var M=Array(L);while(L--){M[L]=String.fromCharCode(97+L)}return" "+M.join(", ")+" "},key:F,functionCode:"[code]",attribute:F,string:F,date:F,regexp:G,number:G,"boolean":G},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:true,indentChar:"   ",multiline:true};return H})()})(this);(function(h){var c={setTimeout:typeof h.setTimeout!=="undefined",sessionStorage:(function(){try{return !!sessionStorage.getItem}catch(v){return false}})()};var n=0;var b=function(x,w,z,v,y,A){this.name=x;this.testName=w;this.expected=z;this.testEnvironmentArg=v;this.async=y;this.callback=A;this.assertions=[]};b.prototype={init:function(){var x=p("qunit-tests");if(x){var w=document.createElement("strong");w.innerHTML="Running "+this.name;var v=document.createElement("li");v.appendChild(w);v.id=this.id="test-output"+n++;x.appendChild(v)}},setup:function(){if(this.module!=u.previousModule){if(this.previousModule){s.moduleDone(this.module,u.moduleStats.bad,u.moduleStats.all)}u.previousModule=this.module;u.moduleStats={all:0,bad:0};s.moduleStart(this.module,this.moduleTestEnvironment)}u.current=this;this.testEnvironment=t({setup:function(){},teardown:function(){}},this.moduleTestEnvironment);if(this.testEnvironmentArg){t(this.testEnvironment,this.testEnvironmentArg)}s.testStart(this.testName,this.testEnvironment);s.current_testEnvironment=this.testEnvironment;try{if(!u.pollution){r()}this.testEnvironment.setup.call(this.testEnvironment)}catch(v){s.ok(false,"Setup failed on "+this.name+": "+v.message)}},run:function(){if(this.async){s.stop()}try{this.callback.call(this.testEnvironment)}catch(v){f("Test "+this.name+" died, exception and test follows",v,this.callback);s.ok(false,"Died on test #"+(this.assertions.length+1)+": "+v.message+" - "+s.jsDump.parse(v));r();if(u.blocking){start()}}},teardown:function(){try{k();this.testEnvironment.teardown.call(this.testEnvironment)}catch(v){s.ok(false,"Teardown failed on "+this.name+": "+v.message)}},finish:function(){if(this.expected&&this.expected!=this.assertions.length){s.ok(false,"Expected "+this.expected+" assertions, but "+this.assertions.length+" were run")}var x=0,v=0,w=p("qunit-tests");u.stats.all+=this.assertions.length;u.moduleStats.all+=this.assertions.length;if(w){var A=document.createElement("ol");for(var y=0;y<this.assertions.length;y++){var E=this.assertions[y];var D=document.createElement("li");D.className=E.result?"pass":"fail";D.innerHTML=E.message||(E.result?"okay":"failed");A.appendChild(D);if(E.result){x++}else{v++;u.stats.bad++;u.moduleStats.bad++}}c.sessionStorage&&sessionStorage.setItem("qunit-"+this.testName,v);if(v==0){A.style.display="none"}var B=document.createElement("strong");B.innerHTML=this.name+" <b class='counts'>(<b class='failed'>"+v+"</b>, <b class='passed'>"+x+"</b>, "+this.assertions.length+")</b>";q(B,"click",function(){var F=B.nextSibling,G=F.style.display;F.style.display=G==="none"?"block":"none"});q(B,"dblclick",function(G){var F=G&&G.target?G.target:h.event.srcElement;if(F.nodeName.toLowerCase()=="span"||F.nodeName.toLowerCase()=="b"){F=F.parentNode}if(h.location&&F.nodeName.toLowerCase()==="strong"){h.location.search="?"+encodeURIComponent(a([F]).replace(/\(.+\)$/,"").replace(/(^\s*|\s*$)/g,""))}});var D=p(this.id);D.className=v?"fail":"pass";D.style.display=d(!v);D.removeChild(D.firstChild);D.appendChild(B);D.appendChild(A);if(v){var C=p("qunit-testrunner-toolbar");if(C){C.style.display="block";p("qunit-filter-pass").disabled=null}}}else{for(var y=0;y<this.assertions.length;y++){if(!this.assertions[y].result){v++;u.stats.bad++;u.moduleStats.bad++}}}try{s.reset()}catch(z){f("reset() failed, following Test "+this.name+", exception and reset fn follows",z,s.reset)}s.testDone(this.testName,v,this.assertions.length)},queue:function(){var x=this;i(function(){x.init()});function v(){i(function(){x.setup()});i(function(){x.run()});i(function(){x.teardown()});i(function(){x.finish()})}var w=c.sessionStorage&&+sessionStorage.getItem("qunit-"+this.testName);if(w){v()}else{i(v)}}};var s={module:function(v,w){u.previousModule=u.currentModule;u.currentModule=v;u.currentModuleTestEnviroment=w},asyncTest:function(v,w,x){if(arguments.length===2){x=w;w=0}s.test(v,w,x,true)},test:function(w,z,B,y){var x='<span class="test-name">'+w+"</span>",v;if(arguments.length===2){B=z;z=null}if(z&&typeof z==="object"){v=z;z=null}if(u.currentModule){x='<span class="module-name">'+u.currentModule+"</span>: "+x}if(!g(u.currentModule+": "+w)){return}var A=new b(x,w,z,v,y,B);A.previousModule=u.previousModule;A.module=u.currentModule;A.moduleTestEnvironment=u.currentModuleTestEnviroment;A.queue()},expect:function(v){u.current.expected=v},ok:function(v,x){v=!!v;var w={result:v,message:x};x=m(x);s.log(v,x,w);u.current.assertions.push({result:v,message:x})},equal:function(x,w,v){s.push(w==x,x,w,v)},notEqual:function(x,w,v){s.push(w!=x,x,w,v)},deepEqual:function(x,w,v){s.push(s.equiv(x,w),x,w,v)},notDeepEqual:function(x,w,v){s.push(!s.equiv(x,w),x,w,v)},strictEqual:function(x,w,v){s.push(w===x,x,w,v)},notStrictEqual:function(x,w,v){s.push(w!==x,x,w,v)},raises:function(z,x,w){var A,v=false;if(typeof x==="string"){w=x;x=null}try{z()}catch(y){A=y}if(A){if(!x){v=true}else{if(s.objectType(x)==="regexp"){v=x.test(A)}else{if(A instanceof x){v=true}else{if(x.call({},A)===true){v=true}}}}}s.ok(v,w)},start:function(){if(c.setTimeout){h.setTimeout(function(){if(u.timeout){clearTimeout(u.timeout)}u.blocking=false;o()},13)}else{u.blocking=false;o()}},stop:function(v){u.blocking=true;if(v&&c.setTimeout){u.timeout=h.setTimeout(function(){s.ok(false,"Test timed out");s.start()},v)}}};s.equals=s.equal;s.same=s.deepEqual;var u={queue:[],blocking:true};(function(){var v=h.location||{search:"",protocol:"file:"},x=v.search.slice(1).split("&");for(var w=0;w<x.length;w++){x[w]=decodeURIComponent(x[w]);if(x[w]==="noglobals"){x.splice(w,1);w--;u.noglobals=true}else{if(x[w].search("=")>-1){x.splice(w,1);w--}}}u.filters=x;s.isLocal=!!(v.protocol==="file:")})();if(typeof exports==="undefined"||typeof require==="undefined"){t(h,s);h.QUnit=s}else{t(exports,s);exports.QUnit=s}t(s,{config:u,init:function(){t(u,{stats:{all:0,bad:0},moduleStats:{all:0,bad:0},started:+new Date,updateRate:1000,blocking:false,autostart:true,autorun:false,filters:[],queue:[]});var x=p("qunit-tests"),w=p("qunit-banner"),v=p("qunit-testresult");if(x){x.innerHTML=""}if(w){w.className=""}if(v){v.parentNode.removeChild(v)}},reset:function(){if(h.jQuery){jQuery("#main, #qunit-fixture").html(u.fixture)}else{var v=p("main")||p("qunit-fixture");if(v){v.innerHTML=u.fixture}}},triggerEvent:function(x,v,w){if(document.createEvent){w=document.createEvent("MouseEvents");w.initMouseEvent(v,true,true,x.ownerDocument.defaultView,0,0,0,0,0,false,false,false,false,0,null);x.dispatchEvent(w)}else{if(x.fireEvent){x.fireEvent("on"+v)}}},is:function(v,w){return s.objectType(w)==v},objectType:function(w){if(typeof w==="undefined"){return"undefined"}if(w===null){return"null"}var v=Object.prototype.toString.call(w).match(/^\[object\s(.*)\]$/)[1]||"";switch(v){case"Number":if(isNaN(w)){return"nan"}else{return"number"}case"String":case"Boolean":case"Array":case"Date":case"RegExp":case"Function":return v.toLowerCase()}if(typeof w==="object"){return"object"}return undefined},push:function(v,B,z,y){var x={result:v,message:y,actual:B,expected:z};y=m(y)||(v?"okay":"failed");y='<span class="test-message">'+y+"</span>";z=m(s.jsDump.parse(z));B=m(s.jsDump.parse(B));var w=y+'<table><tr class="test-expected"><th>Expected: </th><td><pre>'+z+"</pre></td></tr>";if(B!=z){w+='<tr class="test-actual"><th>Result: </th><td><pre>'+B+"</pre></td></tr>";w+='<tr class="test-diff"><th>Diff: </th><td><pre>'+s.diff(z,B)+"</pre></td></tr>"}if(!v){var A=e();if(A){x.source=A;w+='<tr class="test-source"><th>Source: </th><td><pre>'+A+"</pre></td></tr>"}}w+="</table>";s.log(v,y,x);u.current.assertions.push({result:!!v,message:w})},begin:function(){},done:function(v,w){},log:function(v,w){},testStart:function(v,w){},testDone:function(v,w,x){},moduleStart:function(v,w){},moduleDone:function(v,w,x){}});if(typeof document==="undefined"||document.readyState==="complete"){u.autorun=true}q(h,"load",function(){s.begin();var E=t({},u);s.init();t(u,E);u.blocking=false;var D=p("qunit-userAgent");if(D){D.innerHTML=navigator.userAgent}var C=p("qunit-header");if(C){var w=location.href.lastIndexOf(location.search);if(w>-1){var y=location.href.slice(0,w);if(y==location.href){C.innerHTML='<a href=""> '+C.innerHTML+"</a> "}else{var z=decodeURIComponent(location.search.slice(1));C.innerHTML='<a href="'+y+'">'+C.innerHTML+'</a> &#8250; <a href="">'+z+"</a>"}}}var B=p("qunit-testrunner-toolbar");if(B){B.style.display="none";var v=document.createElement("input");v.type="checkbox";v.id="qunit-filter-pass";v.disabled=true;q(v,"click",function(){var F=document.getElementsByTagName("li");for(var G=0;G<F.length;G++){if(F[G].className.indexOf("pass")>-1){F[G].style.display=v.checked?"none":""}}});B.appendChild(v);var A=document.createElement("label");A.setAttribute("for","qunit-filter-pass");A.innerHTML="Hide passed tests";B.appendChild(A)}var x=p("main")||p("qunit-fixture");if(x){u.fixture=x.innerHTML}if(u.autostart){s.start()}});function l(){u.autorun=true;if(u.currentModule){s.moduleDone(u.currentModule,u.moduleStats.bad,u.moduleStats.all)}var w=p("qunit-banner"),y=p("qunit-tests"),x=["Tests completed in ",+new Date-u.started," milliseconds.<br/>",'<span class="passed">',u.stats.all-u.stats.bad,'</span> tests of <span class="total">',u.stats.all,'</span> passed, <span class="failed">',u.stats.bad,"</span> failed."].join("");if(w){w.className=(u.stats.bad?"qunit-fail":"qunit-pass")}if(y){var v=p("qunit-testresult");if(!v){v=document.createElement("p");v.id="qunit-testresult";v.className="result";y.parentNode.insertBefore(v,y.nextSibling)}v.innerHTML=x}s.done(u.stats.bad,u.stats.all)}function g(v){var w=u.filters.length,z=false;if(!w){return true}while(w--){var x=u.filters[w],y=x.charAt(0)=="!";if(y){x=x.slice(1)}if(v.indexOf(x)!==-1){return !y}if(y){z=true}}return z}function e(){try{throw new Error()}catch(v){if(v.stacktrace){return v.stacktrace.split("\n")[6]}else{if(v.stack){return v.stack.split("\n")[4]}}}}function d(v){return v&&p("qunit-filter-pass")&&p("qunit-filter-pass").checked?"none":""}function m(v){if(!v){return""}v=v+"";return v.replace(/[\&"<>\\]/g,function(w){switch(w){case"&":return"&amp;";case"\\":return"\\\\";case'"':return'"';case"<":return"&lt;";case">":return"&gt;";default:return w}})}function i(v){u.queue.push(v);if(u.autorun&&!u.blocking){o()}}function o(){var v=(new Date()).getTime();while(u.queue.length&&!u.blocking){if(u.updateRate<=0||(((new Date()).getTime()-v)<u.updateRate)){u.queue.shift()()}else{h.setTimeout(o,13);break}}if(!u.blocking&&!u.queue.length){l()}}function r(){u.pollution=[];if(u.noglobals){for(var v in h){u.pollution.push(v)}}}function k(x){var w=u.pollution;r();var v=j(w,u.pollution);if(v.length>0){ok(false,"Introduced global variable(s): "+v.join(", "));u.current.expected++}var y=j(u.pollution,w);if(y.length>0){ok(false,"Deleted global variable(s): "+y.join(", "));u.current.expected++}}function j(x,w){var v=x.slice();for(var z=0;z<v.length;z++){for(var y=0;y<w.length;y++){if(v[z]===w[y]){v.splice(z,1);z--;break}}}return v}function f(w,v,x){if(typeof console!=="undefined"&&console.error&&console.warn){console.error(w);console.error(v);console.warn(x.toString())}else{if(h.opera&&opera.postError){opera.postError(w,v,x.toString)}}}function t(w,v){for(var x in v){w[x]=v[x]}return w}function q(x,w,v){if(x.addEventListener){x.addEventListener(w,v,false)}else{if(x.attachEvent){x.attachEvent("on"+w,v)}else{v()}}}function p(v){return !!(typeof document!=="undefined"&&document&&document.getElementById)&&document.getElementById(v)}s.equiv=function(){var y;var z=[];var v=[];function x(C,B,A){var D=s.objectType(C);if(D){if(s.objectType(B[D])==="function"){return B[D].apply(B,A)}else{return B[D]}}}var w=function(){function A(B,C){if(B instanceof C.constructor||C instanceof B.constructor){return C==B}else{return C===B}}return{string:A,"boolean":A,number:A,"null":A,"undefined":A,nan:function(B){return isNaN(B)},date:function(B,C){return s.objectType(B)==="date"&&C.valueOf()===B.valueOf()},regexp:function(B,C){return s.objectType(B)==="regexp"&&C.source===B.source&&C.global===B.global&&C.ignoreCase===B.ignoreCase&&C.multiline===B.multiline},"function":function(){var B=z[z.length-1];return B!==Object&&typeof B!=="undefined"},array:function(C,E){var G,F,D;var B;if(!(s.objectType(C)==="array")){return false}B=E.length;if(B!==C.length){return false}v.push(E);for(G=0;G<B;G++){D=false;for(F=0;F<v.length;F++){if(v[F]===E[G]){D=true}}if(!D&&!y(E[G],C[G])){v.pop();return false}}v.pop();return true},object:function(C,E){var H,F,D;var B=true;var G=[],I=[];if(E.constructor!==C.constructor){return false}z.push(E.constructor);v.push(E);for(H in E){D=false;for(F=0;F<v.length;F++){if(v[F]===E[H]){D=true}}G.push(H);if(!D&&!y(E[H],C[H])){B=false;break}}z.pop();v.pop();for(H in C){I.push(H)}return B&&y(G.sort(),I.sort())}}}();y=function(){var A=Array.prototype.slice.apply(arguments);if(A.length<2){return true}return(function(C,B){if(C===B){return true}else{if(C===null||B===null||typeof C==="undefined"||typeof B==="undefined"||s.objectType(C)!==s.objectType(B)){return false}else{return x(C,w,[B,C])}}})(A[0],A[1])&&arguments.callee.apply(this,A.splice(1,A.length-1))};return y}();s.jsDump=(function(){function v(B){return'"'+B.toString().replace(/"/g,'\\"')+'"'}function w(B){return B+""}function y(G,B,D){var E=x.separator(),F=x.indent(),C=x.indent(1);if(B.join){B=B.join(","+E+C)}if(!B){return G+D}return[G,C+B,F+D].join(E)}function A(B){var D=B.length,C=Array(D);this.up();while(D--){C[D]=this.parse(B[D])}this.down();return y("[",C,"]")}var z=/^function (\w+)/;var x={parse:function(C,B){var D=this.parsers[B||this.typeOf(C)];B=typeof D;return B=="function"?D.call(this,C):B=="string"?D:this.parsers.error},typeOf:function(C){var B;if(C===null){B="null"}else{if(typeof C==="undefined"){B="undefined"}else{if(s.is("RegExp",C)){B="regexp"}else{if(s.is("Date",C)){B="date"}else{if(s.is("Function",C)){B="function"}else{if(typeof C.setInterval!==undefined&&typeof C.document!=="undefined"&&typeof C.nodeType==="undefined"){B="window"}else{if(C.nodeType===9){B="document"}else{if(C.nodeType){B="node"}else{if(typeof C==="object"&&typeof C.length==="number"&&C.length>=0){B="array"}else{B=typeof C}}}}}}}}}return B},separator:function(){return this.multiline?this.HTML?"<br />":"\n":this.HTML?"&nbsp;":" "},indent:function(B){if(!this.multiline){return""}var C=this.indentChar;if(this.HTML){C=C.replace(/\t/g,"   ").replace(/ /g,"&nbsp;")}return Array(this._depth_+(B||0)).join(C)},up:function(B){this._depth_+=B||1},down:function(B){this._depth_-=B||1},setParser:function(B,C){this.parsers[B]=C},quote:v,literal:w,join:y,_depth_:1,parsers:{window:"[Window]",document:"[Document]",error:"[ERROR]",unknown:"[Unknown]","null":"null",undefined:"undefined","function":function(D){var C="function",B="name" in D?D.name:(z.exec(D)||[])[1];if(B){C+=" "+B}C+="(";C=[C,s.jsDump.parse(D,"functionArgs"),"){"].join("");return y(C,s.jsDump.parse(D,"functionCode"),"}")},array:A,nodelist:A,arguments:A,object:function(D){var B=[];s.jsDump.up();for(var C in D){B.push(s.jsDump.parse(C,"key")+": "+s.jsDump.parse(D[C]))}s.jsDump.down();return y("{",B,"}")},node:function(F){var E=s.jsDump.HTML?"&lt;":"<",H=s.jsDump.HTML?"&gt;":">";var B=F.nodeName.toLowerCase(),D=E+B;for(var C in s.jsDump.DOMAttrs){var G=F[s.jsDump.DOMAttrs[C]];if(G){D+=" "+C+"="+s.jsDump.parse(G,"attribute")}}return D+H+E+"/"+B+H},functionArgs:function(D){var B=D.length;if(!B){return""}var C=Array(B);while(B--){C[B]=String.fromCharCode(97+B)}return" "+C.join(", ")+" "},key:v,functionCode:"[code]",attribute:v,string:v,date:v,regexp:w,number:w,"boolean":w},DOMAttrs:{id:"id",name:"name","class":"className"},HTML:false,indentChar:"  ",multiline:true};return x})();function a(v){var w="",y;for(var x=0;v[x];x++){y=v[x];if(y.nodeType===3||y.nodeType===4){w+=y.nodeValue}else{if(y.nodeType!==8){w+=a(y.childNodes)}}}return w}s.diff=(function(){function v(z,A){var x=new Object();var y=new Object();for(var w=0;w<A.length;w++){if(x[A[w]]==null){x[A[w]]={rows:new Array(),o:null}}x[A[w]].rows.push(w)}for(var w=0;w<z.length;w++){if(y[z[w]]==null){y[z[w]]={rows:new Array(),n:null}}y[z[w]].rows.push(w)}for(var w in x){if(x[w].rows.length==1&&typeof(y[w])!="undefined"&&y[w].rows.length==1){A[x[w].rows[0]]={text:A[x[w].rows[0]],row:y[w].rows[0]};z[y[w].rows[0]]={text:z[y[w].rows[0]],row:x[w].rows[0]}}}for(var w=0;w<A.length-1;w++){if(A[w].text!=null&&A[w+1].text==null&&A[w].row+1<z.length&&z[A[w].row+1].text==null&&A[w+1]==z[A[w].row+1]){A[w+1]={text:A[w+1],row:A[w].row+1};z[A[w].row+1]={text:z[A[w].row+1],row:w+1}}}for(var w=A.length-1;w>0;w--){if(A[w].text!=null&&A[w-1].text==null&&A[w].row>0&&z[A[w].row-1].text==null&&A[w-1]==z[A[w].row-1]){A[w-1]={text:A[w-1],row:A[w].row-1};z[A[w].row-1]={text:z[A[w].row-1],row:w-1}}}return{o:z,n:A}}return function(C,D){C=C.replace(/\s+$/,"");D=D.replace(/\s+$/,"");var x=v(C==""?[]:C.split(/\s+/),D==""?[]:D.split(/\s+/));var B="";var w=C.match(/\s+/g);if(w==null){w=[" "]}else{w.push(" ")}var z=D.match(/\s+/g);if(z==null){z=[" "]}else{z.push(" ")}if(x.n.length==0){for(var y=0;y<x.o.length;y++){B+="<del>"+x.o[y]+w[y]+"</del>"}}else{if(x.n[0].text==null){for(D=0;D<x.o.length&&x.o[D].text==null;D++){B+="<del>"+x.o[D]+w[D]+"</del>"}}for(var y=0;y<x.n.length;y++){if(x.n[y].text==null){B+="<ins>"+x.n[y]+z[y]+"</ins>"}else{var A="";for(D=x.n[y].row+1;D<x.o.length&&x.o[D].text==null;D++){A+="<del>"+x.o[D]+w[D]+"</del>"}B+=" "+x.n[y].text+z[y]+A}}}return B}})()})(this);