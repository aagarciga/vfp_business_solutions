var tap=require("tap");var origCwd=process.cwd();process.chdir(__dirname);tap.test("changing root and searching for /b*/**",function(a){var c=require("../");var b=require("path");a.test(".",function(d){c("/b*/**",{globDebug:true,root:".",nomount:true},function(f,e){d.ifError(f);d.like(e,[]);d.end()})});a.test("a",function(d){c("/b*/**",{globDebug:true,root:b.resolve("a"),nomount:true},function(f,e){d.ifError(f);d.like(e,["/b","/b/c","/b/c/d","/bc","/bc/e","/bc/e/f"]);d.end()})});a.test("root=a, cwd=a/b",function(d){c("/b*/**",{globDebug:true,root:"a",cwd:b.resolve("a/b"),nomount:true},function(f,e){d.ifError(f);d.like(e,["/b","/b/c","/b/c/d","/bc","/bc/e","/bc/e/f"]);d.end()})});a.test("cd -",function(d){process.chdir(origCwd);d.end()});a.end()});