var glob=require("../");var test=require("tap").test;var path=require("path");test("stat all the things",function(b){var c=new glob.Glob("a/*abc*/**",{stat:true,cwd:__dirname});var d=[];c.on("match",function(e){d.push(e)});var a=[];c.on("stat",function(e){a.push(e)});c.on("end",function(e){a=a.sort();d=d.sort();e=e.sort();b.same(a,d);b.same(e,d);var f=Object.keys(this.statCache);b.same(f.map(function(g){return path.relative(__dirname,g)}).sort(),d);f.forEach(function(g){b.equal(typeof this.statCache[g],"object")},this);b.end()})});