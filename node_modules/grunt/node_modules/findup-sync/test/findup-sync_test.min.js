"use strict";var path=require("path");var findup=require("../lib/findup-sync.js");var rel=function(a){return typeof a==="string"?path.relative(".",a):a};exports.findup={setUp:function(a){this.cwd=process.cwd();a()},tearDown:function(a){process.chdir(this.cwd);a()},simple:function(b){b.expect(8);var a={cwd:"test/fixtures/a/b"};b.equal(rel(findup("foo.txt",a)),path.normalize("test/fixtures/a/foo.txt"),"should find files");b.equal(rel(findup("bar.txt",a)),path.normalize("test/fixtures/a/b/bar.txt"),"should find files");b.equal(rel(findup("a.txt",a)),path.normalize("test/fixtures/a.txt"),"should find files");b.equal(rel(findup("?.txt",a)),path.normalize("test/fixtures/a.txt"),"should support glob patterns");b.equal(rel(findup("*.txt",a)),path.normalize("test/fixtures/a/b/bar.txt"),"should find the first thing that matches the glob pattern");b.equal(rel(findup(["b*.txt","f*.txt"],a)),path.normalize("test/fixtures/a/b/bar.txt"),"should find the first thing that matches any of the glob patterns");b.equal(rel(findup(["f*.txt","b*.txt"],a)),path.normalize("test/fixtures/a/b/bar.txt"),"should find the first thing that matches any of the glob patterns");b.equal(findup("not-gonna-exist-i-hope.txt",a),null,"should returning null if no files found");b.done()},cwd:function(a){a.expect(8);process.chdir("test/fixtures/a/b");a.equal(rel(findup("foo.txt")),path.normalize("../foo.txt"),"should find files");a.equal(rel(findup("bar.txt")),"bar.txt","should find files");a.equal(rel(findup("a.txt")),path.normalize("../../a.txt"),"should find files");a.equal(rel(findup("?.txt")),path.normalize("../../a.txt"),"should support glob patterns");a.equal(rel(findup("*.txt")),"bar.txt","should find the first thing that matches the glob pattern");a.equal(rel(findup(["b*.txt","f*.txt"])),"bar.txt","should find the first thing that matches any of the glob patterns");a.equal(rel(findup(["f*.txt","b*.txt"])),"bar.txt","should find the first thing that matches any of the glob patterns");a.equal(findup("not-gonna-exist-i-hope.txt"),null,"should returning null if no files found");a.done()},};