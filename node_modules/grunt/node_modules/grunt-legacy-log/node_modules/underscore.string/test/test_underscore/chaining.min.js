$(document).ready(function(){module("Chaining");test("map/flatten/reduce",function(){var b=["I'm a lumberjack and I'm okay","I sleep all night and I work all day","He's a lumberjack and he's okay","He sleeps all night and he works all day"];var a=_(b).chain().map(function(c){return c.split("")}).flatten().reduce(function(d,c){d[c]=d[c]||0;d[c]++;return d},{}).value();ok(a.a==16&&a.e==10,"counted all the letters in the song")});test("select/reject/sortBy",function(){var a=[1,2,3,4,5,6,7,8,9,10];a=_(a).chain().select(function(b){return b%2==0}).reject(function(b){return b%4==0}).sortBy(function(b){return -b}).value();equal(a.join(", "),"10, 6, 2","filtered and reversed the numbers")});test("select/reject/sortBy in functional style",function(){var a=[1,2,3,4,5,6,7,8,9,10];a=_.chain(a).select(function(b){return b%2==0}).reject(function(b){return b%4==0}).sortBy(function(b){return -b}).value();equal(a.join(", "),"10, 6, 2","filtered and reversed the numbers")});test("reverse/concat/unshift/pop/map",function(){var a=[1,2,3,4,5];a=_(a).chain().reverse().concat([5,5,5]).unshift(17).pop().map(function(b){return b*2}).value();equal(a.join(", "),"34, 10, 8, 6, 4, 2, 10, 10","can chain together array functions.")})});