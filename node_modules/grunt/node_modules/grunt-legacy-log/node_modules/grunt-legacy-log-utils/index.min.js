"use strict";require("colors");var _=require("lodash");_.str=require("underscore.string");_.mixin(_.str.exports());exports.wordlist=function(a,b){b=_.defaults(b||{},{separator:", ",color:"cyan"});return a.map(function(c){return b.color?String(c)[b.color]:c}).join(b.separator)};exports.uncolor=function(a){return a.replace(/\x1B\[\d+m/g,"")};exports.wraptext=function(e,h){var b=[];var g,c,d;var f=[];var a=0;while(g=h.match(/(?:(\x1B\[\d+m)|\n|(.))([\s\S]*)/)){h=g[3];if(g[1]){c=g[1];f.push(g[1]);continue}else{if(g[2]){if(a===0&&c){f.push(c)}f.push(g[2]);a++;if(a<=e||g[2]===" "){continue}d=f.lastIndexOf(" ");h=f.slice(d===-1?d:d+1).join("")+h;f=f.slice(0,d)}}b.push(f.join(""));f=[];a=0}b.push(f.join(""));return b.join("\n")};exports.table=function(b,d){var c=[];b.forEach(function(g,f){var e=this.wraptext(g,d[f]).split("\n");e.forEach(function(h,i){var k=c[i];if(!k){k=c[i]=[]}k[f]=h})},this);var a=[];c.forEach(function(j){var e="";var g;for(var f=0;f<j.length;f++){g=j[f]||"";e+=g;var h=b[f]-this.uncolor(g).length;if(h>0){e+=_.repeat(" ",h)}}a.push(e)},this);return a.join("\n")};