"use strict";var esprima=require("esprima");var NIL=require("../../common").NIL;var Type=require("../../type");function resolveJavascriptFunction(c){try{var e="("+c+")",b=esprima.parse(e,{range:true}),f=[],a;if("Program"!==b.type||1!==b.body.length||"ExpressionStatement"!==b.body[0].type||"FunctionExpression"!==b.body[0].expression.type){return NIL}b.body[0].expression.params.forEach(function(g){f.push(g.name)});a=b.body[0].expression.body.range;return new Function(f,e.slice(a[0]+1,a[1]-1))}catch(d){return NIL}}function representJavascriptFunction(a){return a.toString()}module.exports=new Type("tag:yaml.org,2002:js/function",{loader:{kind:"string",resolver:resolveJavascriptFunction},dumper:{kind:"function",representer:representJavascriptFunction,}});