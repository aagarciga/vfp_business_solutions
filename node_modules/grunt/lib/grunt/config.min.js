"use strict";var grunt=require("../grunt");var config=module.exports=function(b,a){if(arguments.length===2){return config.set(b,a)}else{return config.get(b)}};config.data={};config.escape=function(a){return a.replace(/\./g,"\\.")};config.getPropString=function(a){return Array.isArray(a)?a.map(config.escape).join("."):a};config.getRaw=function(a){if(a){return grunt.util.namespace.get(config.data,config.getPropString(a))}else{return config.data}};var propStringTmplRe=/^<%=\s*([a-z0-9_$]+(?:\.[a-z0-9_$]+)*)\s*%>$/i;config.get=function(a){return config.process(config.getRaw(a))};config.process=function(a){return grunt.util.recurse(a,function(d){if(typeof d!=="string"){return d}var c=d.match(propStringTmplRe);var b;if(c){b=config.get(c[1]);if(b!=null){return b}}return grunt.template.process(d,{data:config.data})})};config.set=function(b,a){return grunt.util.namespace.set(config.data,config.getPropString(b),a)};config.merge=function(a){grunt.util._.merge(config.data,a);return config.data};config.init=function(a){grunt.verbose.write("Initializing config...").ok();return(config.data=a||{})};config.requires=function(){var c=grunt.util.pluralize;var a=grunt.util.toArray(arguments).map(config.getPropString);var d="Verifying propert"+c(a.length,"y/ies")+" "+grunt.log.wordlist(a)+" exist"+c(a.length,"s")+" in config...";grunt.verbose.write(d);var b=config.data&&a.filter(function(e){return config.get(e)==null}).map(function(e){return'"'+e+'"'});if(config.data&&b.length===0){grunt.verbose.ok();return true}else{grunt.verbose.or.write(d);grunt.log.error().error("Unable to process task.");if(!config.data){throw grunt.util.error("Unable to load config.")}else{throw grunt.util.error("Required config propert"+c(b.length,"y/ies")+" "+b.join(", ")+" missing.")}}};