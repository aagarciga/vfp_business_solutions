(function(){var d,b,f,e,a,c;c=window;d=c.jQuery;b=c.App;a=c.dandelion;e=a.namespace("App.OnSalesOrderDashboard",c);f=b.OnSalesOrderDashboard.DynamicFilter;e.status={};e.status.itemsPerPage=50;e.status.table_header_sortLastButton=null;e.status.table_header_sortField="ordnum";e.status.table_header_sortFieldOrder="ASC";e.status.currentPage=1;e.status.currentItemNo="";e.status.currentSet="details";e.status.currentBalance="0.0";e.dictionaries={};e.htmlBindings={};e.htmlBindings.container=".container";e.htmlBindings.itemCounter="#panelHeadingItemsCount";e.htmlBindings.drpItemPerPage=".top-pager-itemmperpage-control a";e.htmlBindings.drpItemPerPageValue=".top-pager-itemmperpage-control button span.value";e.htmlBindings.filterForm="#filterForm";e.htmlBindings.table="#OnSalesOrderDashboardTable";e.htmlBindings.table_header_btnSort=".btn-table-sort";e.htmlBindings.table_body_btnCommitted=".btn-committed-form-link";e.htmlBindings.table_body_btnOnorder=".btn-onorder-form-link";e.htmlBindings.pager_container=".pager-wrapper";e.htmlBindings.pager_btnPagerPages=".pager-btn";e.functions={};e.functions.paginate=function(){d.ajax({data:{itemno:e.status.currentItemNo,predicate:e.DynamicFilter.functions.getPredicate(),page:e.status.currentPage,itemsPerPage:e.status.itemsPerPage,orderby:e.status.table_header_sortField,order:e.status.table_header_sortFieldOrder},url:e.urls.getPage,type:"post",beforeSend:function(){return d(".loading").show()},success:function(j,m,k){var l,g,i,h;l=d.parseJSON(j);g=new BootstrapPager(l,e.eventHandlers.pager_btnPagerPages_onClick);h=g.getCurrentPagedItems();i=g.getPagerControl();d(e.htmlBindings.pager_container).empty().append(i);e.functions.updateTable(h);d(e.htmlBindings.itemCounter).html(g.itemsCount);return d(".loading").hide()}});return this};e.functions.updateTable=function(g){var i,j,h;i=d(e.htmlBindings.table);j=i.children("tbody");j.empty();for(h in g){if(g.hasOwnProperty(h)){j.append(e.functions.buildTableItem(g[h],"","item-field"))}}e.functions.bindTableItemsEventHandlers();return this};e.functions.buildTableItem=function(u,q,t){var z,r,l,v,w,k,s,o,m,j,p,y,i,n,x,h,g;z=c.document;r=z.createElement("tr");v=function(B,A){var C;C=z.createElement("td");C.className=A;C.appendChild(z.createTextNode(B));return C};h=function(E,C,A,D){var B,F;if(D==null){D="#"}F=z.createElement("td");B=z.createElement("a");B.href=D;B.className=C;B.dataset.custno=u.custno;if(typeof E==="string"){B.appendChild(z.createTextNode(E))}else{B.appendChild(E)}F.className=A||t;F.appendChild(B);return F};l=function(G,C){var B,F,D,E,A;A=z.createElement("select");E=z.createElement("option");E.appendChild(z.createTextNode("Empty"));A.appendChild(E);for(D in C){if(C.hasOwnProperty(D)){B=C[D].id;F=C[D].descrip;E=z.createElement("option");if(G===B){E.selected="selected"}E.value=B;E.appendChild(z.createTextNode(F));A.appendChild(E)}}A.className="form-control update-dropdown";return A};g=function(C,E,B){var A,D;D=z.createElement("td");A=l(C,E);A.dataset.ordnum=u.ordnum;A.className+=" select2-nosearch "+B;D.appendChild(A);return D};o=function(){return v(u.ordnum)};j=function(){return v(u.ponum)};s=function(){return v(u.custno)};k=function(){return v(u.company)};m=function(){return v(u.podate)};p=function(){return v(u.qtyord,"number")};i=function(){return v(u.qtyshp,"number")};w=function(){return v(u.bckord,"number")};y=function(){return v(u.qtyshp0,"number")};n=function(){return v(u.qtyshprel,"number")};x=function(){return v(u.shipdate)};r.className=q;r.appendChild(o());r.appendChild(j());r.appendChild(s());r.appendChild(k());r.appendChild(m());r.appendChild(p());r.appendChild(i());r.appendChild(w());r.appendChild(y());r.appendChild(n());r.appendChild(x());return r};e.functions.bindTableItemsEventHandlers=function(){return this};e.functions.bindEventHandlers=function(){d(e.htmlBindings.drpItemPerPage).on("click",e.eventHandlers.drpItemPerPage_onClick);d(e.htmlBindings.table_header_btnSort).on("click",e.eventHandlers.table_body_btnSort_onClick);d(e.htmlBindings.pager_btnPagerPages).on("click",e.eventHandlers.pager_btnPagerPages_onClick);e.functions.bindTableItemsEventHandlers();return this};e.eventHandlers={};e.eventHandlers.drpItemPerPage_onClick=function(h){var g,i;g=d(h.target);i=g.html();e.status.itemsPerPage=i;d(e.htmlBindings.drpItemPerPageValue).text(i);e.status.currentPage=1;e.functions.paginate();return this};e.eventHandlers.pager_btnPagerPages_onClick=function(h){var g,i;g=d(h.target);i=g.data("page");e.status.currentPage=i;e.functions.paginate();return this};e.eventHandlers.table_body_btnSort_onClick=function(h){var g,i;g=d(h.target);i=g.data("field");if(e.status.table_header_sortLastButton!==null){e.status.table_header_sortLastButton.removeClass("asc desc")}if(e.status.table_header_sortField!==i){e.status.table_header_sortFieldOrder=""}e.status.table_header_sortField=i;if(e.status.table_header_sortFieldOrder==="ASC"){e.status.table_header_sortFieldOrder="DESC";g.addClass("asc").removeClass("desc")}else{e.status.table_header_sortFieldOrder="ASC";g.addClass("desc").removeClass("asc")}e.status.table_header_sortLastButton=g;e.functions.paginate();return this};e.init=function(h,g){e.status.currentItemNo=h;e.status.itemsPerPage=d(e.htmlBindings.drpItemPerPageValue).text();f.init(g);e.functions.bindEventHandlers();return this}}).call(this);