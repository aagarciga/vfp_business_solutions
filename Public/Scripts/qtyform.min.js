(function(c,d){var b=c.dandelion,a=b.namespace("App.QuantityForm",c);a.htmlBindings={};a.htmlBindings.quantityForm="#quantityForm";a.htmlBindings.quantityField="#quantityField";a.htmlBindings.toQuantity="";a.htmlBindings.numpadKeys=".numpad-key";a.htmlBindings.deleteKey="#delete-Key";a.htmlBindings.unknowKey="#unknow-Key";a.htmlBindings.zeroKey="#zero-qty-Key";a.htmlBindings.noChangeKey="#no-change-Key";a.htmlBindings.minusKey="#minus-Key";a.htmlBindings.plusKey="#plus-Key";a.htmlBindings.clearKey="#clear-Key";a.htmlBindings.enterKey="#enter-Key";a.functions={};a.functions.bindEventHandlers=function(){d(a.htmlBindings.numpadKeys).on("click",a.eventHandlers.numpadKeys_onClick);d(a.htmlBindings.deleteKey).on("click",a.eventHandlers.deleteKey_onClick);d(a.htmlBindings.minusKey).on("click",a.eventHandlers.minusKey_onClick);d(a.htmlBindings.plusKey).on("click",a.eventHandlers.plusKey_onClick);d(a.htmlBindings.clearKey).on("click",a.eventHandlers.clearKey_onClick);d(a.htmlBindings.enterKey).on("click",a.eventHandlers.enterKey_onClick);d(a.htmlBindings.unknowKey).on("click",a.eventHandlers.unknowKey_onClick);d(a.htmlBindings.zeroKey).on("click",a.eventHandlers.zeroKey_onClick);d(a.htmlBindings.noChangeKey).on("click",a.eventHandlers.noChangeKey_onClick)};a.functions.cleanExit=function(){d(a.htmlBindings.quantityForm).hide();d(a.htmlBindings.toQuantity).val(0);a.eventHandlers.clearKey_onClick()};a.eventHandlers={};a.eventHandlers.numpadKeys_onClick=function(g){var e=d(g.target),i=e.html(),f=d(a.htmlBindings.quantityField),h=f.html();if(h==="0"){if(i!=="0"){f.html(i)}}else{f.html(h+i)}};a.eventHandlers.deleteKey_onClick=function(){var e=d(a.htmlBindings.quantityField);e.html(e.html().slice(0,-1));if(!(e.html()>0)){e.html("0")}};a.eventHandlers.minusKey_onClick=function(){var e=d(a.htmlBindings.quantityField),f=parseInt(e.html());if(f>1){e.html(f-1)}else{e.html("0")}};a.eventHandlers.plusKey_onClick=function(){var e=d(a.htmlBindings.quantityField),f=parseInt(e.html());if(isNaN(f)){f=0}if(f>=0){e.html(f+1)}};a.eventHandlers.clearKey_onClick=function(){var e=d(a.htmlBindings.quantityField);e.html("0")};a.eventHandlers.enterKey_onClick=function(){var e=d(a.htmlBindings.quantityField),f=parseInt(e.html());d(a.htmlBindings.quantityForm).hide();if(isNaN(f)){f=0}d(a.htmlBindings.toQuantity).val(f);a.eventHandlers.clearKey_onClick()};a.eventHandlers.unknowKey_onClick=function(){a.functions.cleanExit()};a.eventHandlers.zeroKey_onClick=function(){a.functions.cleanExit()};a.eventHandlers.noChangeKey_onClick=function(){a.functions.cleanExit()};a.init=function(e,f){d(a.htmlBindings.quantityField).val(e||0);a.htmlBindings.toQuantity=f||"#txToQuantity";a.functions.bindEventHandlers()};a.setValue=function(e){d(a.htmlBindings.quantityField).html(e||0)};a.getValue=function(){return parseInt(d(a.htmlBindings.quantityField).html())};a.getEnterKeyId=function(){return a.htmlBindings.enterKey};a.show=function(){d(a.htmlBindings.quantityForm).show()};a.hide=function(){d(a.htmlBindings.quantityForm).hide()};a.setUnknowkeyBehavior=function(e){d(a.htmlBindings.unknowKey).off("click",a.eventHandlers.unknowKey_onClick);d(a.htmlBindings.unknowKey).on("click",e)};a.setUnknowkeyValue=function(e){d(a.htmlBindings.unknowKey).html(e)}}(window,jQuery));