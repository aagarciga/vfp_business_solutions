(function(d,f,c,g,e){var a=d.dandelion,b=a.namespace("App",d);b.EquipmentHistoryDashboard=(function(){var p,l,n,o,t,i,m;p={};l={itemsPerPage:0,currentPage:0,sortField:"equipid",sortFieldOrder:"ASC"};o={};t={dashboardContainer:".dashboard-container",dropdown:".dropdown",itemsPerPageSelector:".items-per-page-selector",statusSelector:".field-status",btnActionFilesDialog:".btn-action-files-dialog",btnActionAdd:".btn-action-add",btnActionEdit:".btn-action-edit",btnActionView:".btn-action-view",dateRangePickerSingle:".daterangepicker-single",tableMain:"#equipmentHistoryDashboardTable",pagerContainer:".pager-wrapper",pagerButton:".pager-btn",tableMainFieldWorkOrder:".field-work-order",tableMainFieldEquipId:".field-id",tableMainFieldWorkOrderLink:".field-work-order-link",tableMainFieldStatus:".field-status"};m={modalEquipmentHistoryFormAdd:(function(x,A,E,z,H){var v,F,B,C,u,w,y;v={modalViewElement:"#modal-equipment-history-form-add",controlWorkOrder:".control-work-order",controlProjectManager:".control-project-manager",controlDateOut:".control-installdte",controlExpactedIn:".control-expdtein",controlReceived:".control-daterec"};F={usePlugins:function(){A(v.controlWorkOrder).select2({theme:"bootstrap",ajax:{url:p.workOrderSelectorAjaxUrl,dataType:"json",delay:250,processResults:function(K,L){L.page=L.page||1;return{results:K.items,pagination:{more:(L.page*30)<K.totalCount}}},cache:true}});A(v.controlProjectManager).select2({theme:"bootstrap",ajax:{url:p.projectManagerSelectorAjaxUrl,dataType:"json",delay:250,processResults:function(K,L){L.page=L.page||1;return{results:K.items,pagination:{more:(L.page*30)<K.totalCount}}},cache:true}})},reset:function(){y.reset();A(v.controlWorkOrder).val(null).trigger("change");A(v.controlProjectManager).val(null).trigger("change");A(v.controlDateOut).val("");A(v.controlExpactedIn).val("");A(v.controlReceived).val("")},saveHistoryCallback:function(){throw"Exception: Not implemented yet. Must be set by SetUpdateHistoryCallback function."}};B={saveHistory_OnDone:function(K){console.log("On Add:",K);var L=A.parseJSON(K);F.saveHistoryCallback(L.equipid,L.ordnum,L.status,L.qbtxlineid);D()}};C=H.Model.extend({defaults:{equipid:"",ordnum:"",inspectno:"",installdte:"",expdtein:"",daterec:""}});u=function(L){var K=this;K.equipid=E.observable(L,"equipid");K.ordnum=E.observable(L,"ordnum");K.inspectno=E.observable(L,"inspectno");K.installdte=E.observable(L,"installdte");K.expdtein=E.observable(L,"expdtein");K.daterec=E.observable(L,"daterec");K.saveHistory=function(M){K.installdte(A(v.controlDateOut).val());K.expdtein(A(v.controlExpactedIn).val());K.daterec(A(v.controlReceived).val());A.post(p.addEquipmentHistoryUrl,{equipid:M.equipid(),ordnum:M.ordnum(),inspectno:M.inspectno(),installdte:M.installdte(),expdtein:M.expdtein(),daterec:M.daterec()}).done(B.saveHistory_OnDone).fail(function N(O){throw"POST Fail with :"+O})};K.reset=function(){K.equipid("");K.ordnum("");K.inspectno("");K.installdte("");K.expdtein("");K.daterec("")}};function I(){var K;K=x.document.getElementById((v.modalViewElement).slice(1));w=new C({});y=new u(w);z.applyBindings(y,K);F.usePlugins()}function G(K){F.reset();y.equipid(K);A(v.modalViewElement).modal("show")}function D(){A(v.modalViewElement).modal("hide")}function J(K){F.saveHistoryCallback=K}return{init:I,showFor:G,hide:D,setSaveHistoryCallback:J}}(d,f,c,g,e)),modalEquipmentHistoryFormEdit:(function(x,B,F,z,I){var v,G,C,D,u,w,y;v={modalViewElement:"#modal-equipment-history-form-edit",controlProjectManager:".control-project-manager-edit",controlDateOut:".control-installdte-edit",controlExpactedIn:".control-expdtein-edit",controlReceived:".control-daterec-edit",alertDelete:".alert-delete"};G={usePlugins:function(){},reset:function(){y.reset();B(v.controlProjectManager).val(null).trigger("change");B(v.controlDateOut).val("");B(v.controlExpactedIn).val("");B(v.controlReceived).val("")},updateHistoryCallback:function(){throw"Exception: Not implemented yet. Must be set by SetUpdateHistoryCallback function."},deleteHistoryCallback:function(){throw"Exception: Not implemented yet. Must be set by SetDeleteHistoryCallback function."}};C={updateHistory_OnDone:function(L){console.log("On Update:",L);var M=B.parseJSON(L);if(M.success){G.updateHistoryCallback(M.equipid,M.ordnum,M.status,M.qbtxlineid)}E()},deleteHistory_OnDone:function(L){console.log("On Delete:",L);var M=B.parseJSON(L);if(M.success){G.deleteHistoryCallback(M.equipid,M.ordnum,M.status,M.qbtxlineid)}E()},getEquipmentHistory_OnDone:function(L){var M;M=B.parseJSON(L);if(M.success){y.equipid(M.equipmentHistoryObject.equipid);y.qbtxlineid(M.equipmentHistoryObject.qbtxlineid);y.inspectno(M.equipmentHistoryObject.inspectno);y.installdte(M.equipmentHistoryObject.installdte);y.expdtein(M.equipmentHistoryObject.expdtein);y.daterec(M.equipmentHistoryObject.daterec);B(v.controlProjectManager).append('<option value="'+M.equipmentHistoryObject.inspectno+'">'+M.equipmentHistoryObject.inspectnoName+"</option>");B(v.controlProjectManager).select2({theme:"bootstrap",ajax:{url:p.projectManagerSelectorAjaxUrl,dataType:"json",delay:250,processResults:function(N,O){O.page=O.page||1;return{results:N.items,pagination:{more:(O.page*30)<N.totalCount}}},cache:true}}).val(M.equipmentHistoryObject.inspectno).trigger("change")}}};D=I.Model.extend({defaults:{qbtxlineid:"",equipid:"",inspectno:"",installdte:"",expdtein:"",daterec:""}});u=function(M){var L=this;L.qbtxlineid=F.observable(M,"qbtxlineid");L.equipid=F.observable(M,"equipid");L.inspectno=F.observable(M,"inspectno");L.installdte=F.observable(M,"installdte");L.expdtein=F.observable(M,"expdtein");L.daterec=F.observable(M,"daterec");L.updateHistory=function(){var N,O,Q,P;N=B(v.controlProjectManager).val();O=B(v.controlDateOut).val();Q=B(v.controlExpactedIn).val();P=B(v.controlReceived).val();B.post(p.updateEquipmentHistoryUrl,{qbtxlineid:L.qbtxlineid(),equipid:L.equipid(),inspectno:N,installdte:O,expdtein:Q,daterec:P}).done(C.updateHistory_OnDone).fail(function R(S){throw"POST Fail with :"+S})};L.deleteHistory=function(N){B.post(p.deleteEquipmentHistoryUrl,{qbtxlineid:N.qbtxlineid(),equipid:N.equipid()}).done(C.deleteHistory_OnDone).fail(function O(P){throw"POST Fail with :"+P})};L.reset=function(){L.equipid("");L.inspectno("");L.installdte("");L.expdtein("");L.daterec("")}};function K(){var L;L=x.document.getElementById((v.modalViewElement).slice(1));w=new D({});y=new u(w);z.applyBindings(y,L);G.usePlugins()}function H(L){G.reset();B(v.alertDelete).hide();B.post(p.getEquipmentHistoryUrl,{qbtxlineid:L}).done(C.getEquipmentHistory_OnDone).fail(function M(N){throw"POST Fail with :"+N});B(v.modalViewElement).modal("show")}function E(){B(v.modalViewElement).modal("hide")}function A(L){G.updateHistoryCallback=L}function J(L){G.deleteHistoryCallback=L}return{init:K,showFor:H,hide:E,setUpdateHistoryCallback:A,setDeleteHistoryCallback:J}}(d,f,c,g,e)),screenWorkOrderDetails:(function(v,y,C,x,G){var u,D,z,w,I,A,F;u={screenViewElement:"#kb-view-salesorder",modalSaveNotes:"#salesOrderForm_modal_saveNotes",salesOrderForm_btnClose:"#salesOrderForm_btnClose"};D={reset:function(){F.reset()}};z={salesOrderForm_btnClose_onClick:function(J){y(u.screenViewElement).hide()},getWorkOrder_OnDone:function(J){var L,K;L=y.parseJSON(J);K=L.formType;if(L.success){F.modelType(K);F.ordnum(L.salesOrderObject.ordnum);F.date(L.salesOrderObject.date);F.custno(L.salesOrderObject.custno);F.projectLocation(L.salesOrderObject.projectLocation);F.notes(L.salesOrderObject.notes);F.companyName(L.salesOrderObject.companyName);F.address(L.salesOrderObject.address);F.city(L.salesOrderObject.city);F.state(L.salesOrderObject.state);F.zip(L.salesOrderObject.zip);F.phone(L.salesOrderObject.phone);F.subtotal(L.salesOrderObject.subtotal);F.discount(L.salesOrderObject.discount);F.tax(L.salesOrderObject.tax);F.shipping(L.salesOrderObject.shipping);F.total(L.salesOrderObject.total);if(K==="B"||K==="C"){F.ponum(L.salesOrderObject.ponum);F.company(L.salesOrderObject.company);F.destino(L.salesOrderObject.destino);F.prostartdt(L.salesOrderObject.prostartdt);F.proenddt(L.salesOrderObject.proenddt);F.sotypecode(L.salesOrderObject.sotypecode);F.mtrlstatus(L.salesOrderObject.mtrlstatus);F.jobstatus(L.salesOrderObject.jobstatus);F.technam1(L.salesOrderObject.technam1);F.technam2(L.salesOrderObject.technam2);F.qutno(L.salesOrderObject.qutno);F.cstctid(L.salesOrderObject.cstctid);F.jobdescrip(L.salesOrderObject.jobdescrip)}F.items(L.salesOrderObject.itemsCollection)}}};w=G.Model.extend({defaults:{ordnum:"",date:"",custno:"",projectLocation:"",notes:"",companyName:"",address:"",city:"",state:"",zip:"",phone:"",subtotal:"",discount:"",tax:"",shipping:"",total:"",items:new G.Collection([]),modelType:"",ponum:"",company:"",destino:"",prostartdt:"",proenddt:"",sotypecode:"",mtrlstatus:"",jobstatus:"",technam1:"",technam2:"",qutno:"",cstctid:"",jobdescrip:"",}});I=function(K){var J=this;J.modelType=C.observable(K,"modelType");J.ordnum=C.observable(K,"ordnum");J.date=C.observable(K,"date");J.custno=C.observable(K,"custno");J.projectLocation=C.observable(K,"projectLocation");J.notes=C.observable(K,"notes");J.companyName=C.observable(K,"companyName");J.address=C.observable(K,"address");J.city=C.observable(K,"city");J.state=C.observable(K,"state");J.zip=C.observable(K,"zip");J.phone=C.observable(K,"phone");J.subtotal=C.observable(K,"subtotal");J.discount=C.observable(K,"discount");J.tax=C.observable(K,"tax");J.shipping=C.observable(K,"shipping");J.total=C.observable(K,"total");J.ponum=C.observable(K,"ponum");J.company=C.observable(K,"company");J.destino=C.observable(K,"destino");J.prostartdt=C.observable(K,"prostartdt");J.proenddt=C.observable(K,"proenddt");J.sotypecode=C.observable(K,"sotypecode");J.mtrlstatus=C.observable(K,"mtrlstatus");J.jobstatus=C.observable(K,"jobstatus");J.technam1=C.observable(K,"technam1");J.technam2=C.observable(K,"technam2");J.qutno=C.observable(K,"qutno");J.cstctid=C.observable(K,"cstctid");J.jobdescrip=C.observable(K,"jobdescrip");J.items=C.collectionObservable(K.items);J.showTable=x.computed(function(){return J.items().length>0});J.showControlIFBOrC=x.computed(function(){return J.modelType()==="B"||J.modelType()==="C"});J.showControlIfNotC=x.computed(function(){return(J.modelType()!=="C")});J.onShowNotesModal=function(L){y(u.modalSaveNotes).modal("show");return L};J.onSaveNotesModal=function(L){y.post(p.updateWorkOrderNotesUrl,{ordnum:L.ordnum(),notes:L.notes()}).done(function N(){y(u.modalSaveNotes).modal("hide")}).fail(function M(O){throw O});return L};J.reset=function(){J.modelType("");J.ordnum("");J.date("");J.custno("");J.projectLocation("");J.notes("");J.companyName("");J.address("");J.city("");J.state("");J.zip("");J.phone("");J.subtotal("");J.discount("");J.tax("");J.shipping("");J.total("");J.company("");J.destino("");J.prostartdt("");J.proenddt("");J.sotypecode("");J.mtrlstatus("");J.jobstatus("");J.technam1("");J.technam2("");J.qutno("");J.cstctid("");J.jobdescrip("");J.items([])}};function H(){var J;J=v.document.getElementById((u.screenViewElement).slice(1));A=new w({});F=new I(A);x.applyBindings(F,J);y(u.salesOrderForm_btnClose).on("click",z.salesOrderForm_btnClose_onClick)}function E(L){var M,K,P,N,J;M=10;N=y(t.dashboardContainer);J=y(u.screenViewElement);K=parseInt(N.css("height"),M);P=parseInt(J.css("height"),M);if(K>P){J.css("height",K)}D.reset();y.post(p.getWorkOrderUrl,{ordnum:L}).done(z.getWorkOrder_OnDone).fail(function O(Q){throw"POST Fail with :"+Q});J.show()}function B(){y(t.screenWorkOrderDetails).hide()}return{init:H,showFor:E,hide:B,}}(d,f,c,g,e))};i={dropdown_OnClick:function(v){var u,w;u=f(this);w=u.html();u.parents(t.dropdown).find(".value").text(w)},itemsPerPageSelector_OnClick:function(u){l.itemsPerPage=f(this).html();l.currentPage=1;n.paginate()},tableMainFieldWorkOrderLink_OnClick:function(u){m.screenWorkOrderDetails.showFor(f(this).data("workorder"))},statusSelector_OnClick:function(w){var v,u;u=f(this).parents("tr").data("equipid");v=f(this).html();n.updateEquipStatus(u,v);n.updateStatus(u,v);n.setActionsState(u,v)},btnActionFilesDialog_OnClick:function(u){throw"Exception: Not implemented yet"},btnActionAdd_OnClick:function(u){m.modalEquipmentHistoryFormAdd.showFor(f(this).data("equipid"))},btnActionEdit_OnClick:function(u){m.modalEquipmentHistoryFormEdit.showFor(f(this).data("qbtxlineid"))},btnActionView_OnClick:function(u){throw"Exception: Not implemented yet"},pagerButton_OnClick:function(u){var v=f(this).data("page");l.currentPage=v;n.paginate()},paginate_OnBeforeSend:function(u){f(".loading").show()},paginate_OnSuccess:function(x){console.log(x);var y,u,w,v;y=f.parseJSON(x);u=new BootstrapPager(y,i.pagerButton_OnClick);v=u.getPagerControl();f(t.pagerContainer).empty().append(v);f(t.itemCounter).html(u.itemsCount);w=u.getCurrentPagedItems();n.updateTable(w);f(".loading").hide()},};n={bindEventHandlers:function(){f(t.dropdown).on("click","a",i.dropdown_OnClick);f(t.itemsPerPageSelector).on("click","a",i.itemsPerPageSelector_OnClick);f(t.pagerButton).on("click",i.pagerButton_OnClick);n.bindTableItemsEventHandlers()},bindTableItemsEventHandlers:function(){f(t.tableMainFieldWorkOrderLink).on("click",i.tableMainFieldWorkOrderLink_OnClick);f(t.statusSelector).on("click","a",i.statusSelector_OnClick);f(t.btnActionFilesDialog).on("click",i.btnActionFilesDialog_OnClick);f(t.btnActionAdd).on("click",i.btnActionAdd_OnClick);f(t.btnActionEdit).on("click",i.btnActionEdit_OnClick);f(t.btnActionView).on("click",i.btnActionView_OnClick)},buildClassBy:function(u){return u.toLowerCase().replace(" ","-")},usePlugins:function(){f(t.dateRangePickerSingle).daterangepicker({singleDatePicker:true,format:"YYYY-MM-DD",startDate:d.moment(),endDate:d.moment()})},paginate:function(){f.ajax({data:{predicate:"",page:l.currentPage,itemsPerPage:l.itemsPerPage,orderBy:l.sortField,order:l.sortFieldOrder},url:p.getEquipmentPage,type:"post",beforeSend:i.paginate_OnBeforeSend,success:i.paginate_OnSuccess})},getRowByEquipID:function(u){return f(t.tableMainFieldEquipId).filter(function v(w){return f(this).find("a").text()===u}).parent()},updateEquip:function(y,w,v,z){var x,u;d.console.log("equipID",y);d.console.log("workOrder",w);d.console.log("status",v);d.console.log("historyID",z);x=n.buildClassBy(v);u=n.getRowByEquipID(y);u.find(t.tableMainFieldWorkOrder).html('<a href="#" class="'+(t.tableMainFieldWorkOrderLink).slice(1)+'" data-workorder="'+w+'">'+w+"</a>");u.find(t.tableMainFieldStatus).find(".value").text(v);u.find(t.tableMainFieldStatus).find(".value").removeClass().addClass("value "+x).text(v);u.find(t.btnActionEdit).data("qbtxlineid",z);n.setActionsState(y,v)},updateEquipStatus:function(x,v){var w,u;w=n.buildClassBy(v);u=n.getRowByEquipID(x);u.find(t.tableMainFieldStatus).find(".value").removeClass().addClass("value "+w).text(v);n.setActionsState(x,v)},setActionsState:function(v,u){if(u==="Available"){n.enableRowActionAdd(v);n.disableRowActionEdit(v)}else{n.enableRowActionEdit(v);n.disableRowActionAdd(v)}},enableRowActionAdd:function(v){var u=n.getRowByEquipID(v);u.find(t.btnActionAdd).attr({disabled:false})},disableRowActionAdd:function(v){var u=n.getRowByEquipID(v);u.find(t.btnActionAdd).attr({disabled:true})},enableRowActionEdit:function(v){var u=n.getRowByEquipID(v);u.find(t.btnActionEdit).attr({disabled:false})},disableRowActionEdit:function(v){var u=n.getRowByEquipID(v);u.find(t.btnActionEdit).attr({disabled:true})},updateStatus:function(v,u){f.post(p.updateStatusUrl,{equipid:v,status:u}).done(function x(y){var z=f.parseJSON(y);if(z.success){}}).fail(function w(y){throw"POST Fail with :"+y})},buildTableItem:function(R,x,G){var K,y,U,v,B,E,z,C,I,S,P,N,A,D,H,M,O,F,w,Q,u,L,T,J;U=d.document;B=U.createElement("tr");w=function(V){V+=" field-work-order";return b.Helpers.withLinkTdBuilder(R.ordnum,V,"field-work-order-link","#",{workorder:R.ordnum})};P=function(V){V+=" field-id";return b.Helpers.withLinkTdBuilder(R.equipid,V,"",b.Helpers.Href("EquipmentHistoryDashboard","EquipmentHistories",{equipid:btoa(R.equipid),jsonFilterTree:"",itemPerPage:l.itemsPerPage,page:l.currentPage,orderBy:l.sortField,order:l.sortFieldOrder}),{})};D=function(V){V+=" field-part-no";return b.Helpers.simpleTdBuilder(R.itemno,V)};I=function(V){V+=" field-description";return b.Helpers.simpleTdBuilder(R.descrip,V)};M=function(V){V+=" field-brand";return b.Helpers.simpleTdBuilder(R.make,"")};O=function(V){V+=" field-model";return b.Helpers.simpleTdBuilder(R.model,V)};u=function(V){V+=" field-serial-no";return b.Helpers.simpleTdBuilder(R.serialno,V)};T=function(V){V+=" field-voltage";return b.Helpers.simpleTdBuilder(R.Voltage,V)};S=function(V){V+=" field-type";return b.Helpers.simpleTdBuilder(R.EquipType,V)};A=function(V){V+=" field-date-out";return b.Helpers.simpleTdBuilder(R.installdte,V)};N=function(V){V+=" field-expected-in";return b.Helpers.simpleTdBuilder(R.expdtein,V)};C=function(V){V+=" field-received";return b.Helpers.simpleTdBuilder(R.daterec,V)};F=function(V){V+=" field-notes";return b.Helpers.simpleTdBuilder(R.notes,V)};z=function(V){V+=" field-asset-tag";return b.Helpers.simpleTdBuilder(R.assettag,V)};H=function(V){V+=" field-locno";return b.Helpers.simpleTdBuilder(R.locno,V)};L=function(){var ac,W,ab,aa,Z,X,Y,V;ab=f('<td class="item-field field-status">');aa=f('<div class="btn-group dropdown">');Z=f('<button class="btn btn-default btn-sm dropdown-toggle" type="button" data-toggle="dropdown">');X=f('<span class="value '+n.buildClassBy(R.status)+'">'+R.status+" </span>");Y=f('<span class="caret"></span>');Z.append(X);Z.append(Y);V=f('<ul class="dropdown-menu">');ac=["Available","Not Returned","Broken","Lost","Received"];for(W in ac){if(ac.hasOwnProperty(W)){V.append(f('<li role="presentation"> <a role="menuitem" tabindex="-1" href="#" data-value="'+ac[W]+'">'+ac[W]+"</a></li>"))}}aa.append(Z);aa.append(V);ab.append(aa);return ab[0]};E=function(){var W,V;V=[];V.push(J());V.push(K());V.push(v());V.push(y());W=window.document.createElement("div");W.className="btn-group";return b.Helpers.complexTdBuilder(V,"item-actions",W)};y=function(){var V,W;W=U.createElement("span");W.className="glyphicon glyphicon-folder-close";V=t.btnActionFilesDialog.slice(1)+" btn-action btn btn-default btn-sm";return b.Helpers.linkBuilder(W,V,"#",{equipid:R.equipid})};v=function(){var W,Y,V,X;X=U.createElement("span");X.className="glyphicon glyphicon-edit";W=t.btnActionEdit.slice(1)+" btn-action btn btn-default btn-sm";Y={equipid:R.equipid,qbtxlineid:R.qbtxlineid,ordnum:R.ordnum};if(!R.qbtxlineid&&R.status==="Available"){V={disabled:"disabled"}}return b.Helpers.linkBuilder(X,W,"#",Y,V)};K=function(){var W,Y,X,V;X=U.createElement("span");X.className="glyphicon glyphicon-plus-sign";W=t.btnActionAdd.slice(1)+" btn-action btn btn-default btn-sm";Y={equipid:R.equipid,qbtxlineid:R.qbtxlineid,ordnum:R.ordnum};if(R.status!=="Available"){V={disabled:"disabled"}}return b.Helpers.linkBuilder(X,W,"#",Y,V)};J=function(){var V,W;W=U.createElement("span");W.className="glyphicon glyphicon-eye-open";V=t.btnActionView.slice(1)+" btn-action btn btn-default btn-sm";return b.Helpers.linkBuilder(W,V,"#",{equipid:R.equipid})};B.className=x;B.dataset.equipid=R.equipid;B.appendChild(P(G));B.appendChild(w(G));B.appendChild(D(G));B.appendChild(I(G));B.appendChild(M(G));B.appendChild(O(G));B.appendChild(u(G));B.appendChild(T(G));B.appendChild(S(G));B.appendChild(A(G));B.appendChild(N(G));B.appendChild(C(G));B.appendChild(F(G));B.appendChild(z(G));B.appendChild(H(G));B.appendChild(L(G));B.appendChild(E());return B},updateTable:function(u){var w,x,v;w=f(t.tableMain);x=w.children("tbody");x.empty();for(v in u){if(u.hasOwnProperty(v)){x.append(n.buildTableItem(u[v],"","item-field"))}}n.bindTableItemsEventHandlers()}};function k(u){t.itemsPerPageSelector=u}function h(u){l.itemsPerPage=u}function q(u){t.statusSelector=u}function r(u,v){o[u]=v}function j(v,u){p[v]=u}function s(v){var u;d.console.log("filter: ",v);d.console.log("HTML Bindings");for(u in t){if(t.hasOwnProperty(u)){d.console.log("\t",u,":",t[u])}}d.console.log("Binding Event Handlers");n.bindEventHandlers();d.console.log("Use Plugins");n.usePlugins();d.console.log("Dictionaries:");d.console.log(o);d.console.log("Initializing MVVM related logic:");for(u in m){if(m.hasOwnProperty(u)){d.console.log("\t",u,":",m[u]);m[u].init()}}m.modalEquipmentHistoryFormAdd.setSaveHistoryCallback(n.updateEquip);m.modalEquipmentHistoryFormEdit.setUpdateHistoryCallback(n.updateEquip);m.modalEquipmentHistoryFormEdit.setDeleteHistoryCallback(n.updateEquip)}return{init:s,setItemsPerPage:h,setItemsPerPageSelector:k,setStatusSelector:q,addDictionary:r,addUrl:j}}())}(window,window.jQuery,window.kb,window.ko,window.Backbone));