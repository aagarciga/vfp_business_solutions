(function(){var a=window.AmCharts;a.AmSerialChart=a.Class({inherits:a.AmRectangularChart,construct:function(d){this.type="serial";a.AmSerialChart.base.construct.call(this,d);this.cname="AmSerialChart";this.theme=d;this.createEvents("changed");this.columnSpacing=5;this.columnSpacing3D=0;this.columnWidth=0.8;this.updateScrollbar=!0;var c=new a.CategoryAxis(d);c.chart=this;this.categoryAxis=c;this.zoomOutOnDataUpdate=!0;this.mouseWheelZoomEnabled=this.mouseWheelScrollEnabled=this.rotate=this.skipZoom=!1;this.minSelectedTime=0;a.applyTheme(this,d,this.cname)},initChart:function(){a.AmSerialChart.base.initChart.call(this);this.updateCategoryAxis(this.categoryAxis,this.rotate,"categoryAxis");this.dataChanged&&(this.updateData(),this.dataChanged=!1,this.dispatchDataUpdated=!0);var e=this.chartCursor;e&&e.updateData&&(e.updateData(),e.fullWidth&&(e.fullRectSet=this.cursorLineSet));var e=this.countColumns(),d=this.graphs,f;for(f=0;f<d.length;f++){d[f].columnCount=e}this.updateScrollbar=!0;this.drawChart();this.autoMargins&&!this.marginsUpdated&&(this.marginsUpdated=!0,this.measureMargins())},handleWheelReal:function(r,q){if(!this.wheelBusy){var p=this.categoryAxis,o=p.parseDates,j=p.minDuration(),n=p=1;this.mouseWheelZoomEnabled?q||(p=-1):q&&(p=-1);var l=this.chartData.length,i=this.lastTime,h=this.firstTime;0>r?o?(l=this.endTime-this.startTime,o=this.startTime+p*j,j=this.endTime+n*j,0<n&&0<p&&j>=i&&(j=i,o=i-l),this.zoomToDates(new Date(o),new Date(j))):(0<n&&0<p&&this.end>=l-1&&(p=n=0),o=this.start+p,j=this.end+n,this.zoomToIndexes(o,j)):o?(l=this.endTime-this.startTime,o=this.startTime-p*j,j=this.endTime-n*j,0<n&&0<p&&o<=h&&(o=h,j=h+l),this.zoomToDates(new Date(o),new Date(j))):(0<n&&0<p&&1>this.start&&(p=n=0),o=this.start-p,j=this.end-n,this.zoomToIndexes(o,j))}},validateData:function(b){this.marginsUpdated=!1;this.zoomOutOnDataUpdate&&!b&&(this.endTime=this.end=this.startTime=this.start=NaN);a.AmSerialChart.base.validateData.call(this)},drawChart:function(){if(0<this.realWidth&&0<this.realHeight){a.AmSerialChart.base.drawChart.call(this);var e=this.chartData;if(a.ifArray(e)){var d=this.chartScrollbar;d&&d.draw();var e=e.length-1,f,d=this.categoryAxis;if(d.parseDates&&!d.equalSpacing){if(d=this.startTime,f=this.endTime,isNaN(d)||isNaN(f)){d=this.firstTime,f=this.lastTime}}else{if(d=this.start,f=this.end,isNaN(d)||isNaN(f)){d=0,f=e}}this.endTime=this.startTime=this.end=this.start=void 0;this.zoom(d,f)}}else{this.cleanChart()}this.dispDUpd()},cleanChart:function(){a.callMethod("destroy",[this.valueAxes,this.graphs,this.categoryAxis,this.chartScrollbar,this.chartCursor])},updateCategoryAxis:function(e,d,f){e.chart=this;e.id=f;e.rotate=d;e.axisRenderer=a.RecAxis;e.guideFillRenderer=a.RecFill;e.axisItemRenderer=a.RecItem;e.setOrientation(!this.rotate);e.x=this.marginLeftReal;e.y=this.marginTopReal;e.dx=this.dx;e.dy=this.dy;e.width=this.plotAreaWidth-1;e.height=this.plotAreaHeight-1;e.viW=this.plotAreaWidth-1;e.viH=this.plotAreaHeight-1;e.viX=this.marginLeftReal;e.viY=this.marginTopReal;e.marginsChanged=!0},updateValueAxes:function(){a.AmSerialChart.base.updateValueAxes.call(this);var f=this.valueAxes,e;for(e=0;e<f.length;e++){var h=f[e],g=this.rotate;h.rotate=g;h.setOrientation(g);g=this.categoryAxis;if(!g.startOnAxis||g.parseDates){h.expandMinMax=!0}}},updateData:function(){this.parseData();var e=this.graphs,d,f=this.chartData;for(d=0;d<e.length;d++){e[d].data=f}0<f.length&&(this.firstTime=this.getStartTime(f[0].time),this.lastTime=this.getEndTime(f[f.length-1].time))},getStartTime:function(d){var c=this.categoryAxis;return a.resetDateToMin(new Date(d),c.minPeriod,1,c.firstDayOfWeek).getTime()},getEndTime:function(d){var c=a.extractPeriod(this.categoryAxis.minPeriod);return a.changeDate(new Date(d),c.period,c.count,!0).getTime()-1},updateMargins:function(){a.AmSerialChart.base.updateMargins.call(this);var b=this.chartScrollbar;b&&(this.getScrollbarPosition(b,this.rotate,this.categoryAxis.position),this.adjustMargins(b,this.rotate))},updateScrollbars:function(){a.AmSerialChart.base.updateScrollbars.call(this);this.updateChartScrollbar(this.chartScrollbar,this.rotate)},zoom:function(e,d){var f=this.categoryAxis;f.parseDates&&!f.equalSpacing?this.timeZoom(e,d):this.indexZoom(e,d);this.updateLegendValues()},timeZoom:function(i,e){var p=this.maxSelectedTime;isNaN(p)||(e!=this.endTime&&e-i>p&&(i=e-p,this.updateScrollbar=!0),i!=this.startTime&&e-i>p&&(e=i+p,this.updateScrollbar=!0));var o=this.minSelectedTime;if(0<o&&e-i<o){var m=Math.round(i+(e-i)/2),o=Math.round(o/2);i=m-o;e=m+o}var l=this.chartData,m=this.categoryAxis;if(a.ifArray(l)&&(i!=this.startTime||e!=this.endTime)){var n=m.minDuration(),o=this.firstTime,j=this.lastTime;i||(i=o,isNaN(p)||(i=j-p));e||(e=j);i>j&&(i=j);e<o&&(e=o);i<o&&(i=o);e>j&&(e=j);e<i&&(e=i+n);e-i<n/5&&(e<j?e=i+n/5:i=e-n/5);this.startTime=i;this.endTime=e;p=l.length-1;n=this.getClosestIndex(l,"time",i,!0,0,p);l=this.getClosestIndex(l,"time",e,!1,n,p);m.timeZoom(i,e);m.zoom(n,l);this.start=a.fitToBounds(n,0,p);this.end=a.fitToBounds(l,0,p);this.zoomAxesAndGraphs();this.zoomScrollbar();i!=o||e!=j?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchTimeZoomEvent()}},updateAfterValueZoom:function(){this.zoomAxesAndGraphs();this.zoomScrollbar();this.updateColumnsDepth()},indexZoom:function(f,e){var h=this.maxSelectedSeries;isNaN(h)||(e!=this.end&&e-f>h&&(f=e-h,this.updateScrollbar=!0),f!=this.start&&e-f>h&&(e=f+h,this.updateScrollbar=!0));if(f!=this.start||e!=this.end){var g=this.chartData.length-1;isNaN(f)&&(f=0,isNaN(h)||(f=g-h));isNaN(e)&&(e=g);e<f&&(e=f);e>g&&(e=g);f>g&&(f=g-1);0>f&&(f=0);this.start=f;this.end=e;this.categoryAxis.zoom(f,e);this.zoomAxesAndGraphs();this.zoomScrollbar();0!==f||e!=this.chartData.length-1?this.showZB(!0):this.showZB(!1);this.updateColumnsDepth();this.dispatchIndexZoomEvent()}},updateGraphs:function(){a.AmSerialChart.base.updateGraphs.call(this);var e=this.graphs,d;for(d=0;d<e.length;d++){var f=e[d];f.columnWidthReal=this.columnWidth;f.categoryAxis=this.categoryAxis;a.isString(f.fillToGraph)&&(f.fillToGraph=this.getGraphById(f.fillToGraph))}},updateColumnsDepth:function(){var f,e=this.graphs,j;a.remove(this.columnsSet);this.columnsArray=[];for(f=0;f<e.length;f++){j=e[f];var i=j.columnsArray;if(i){var h;for(h=0;h<i.length;h++){this.columnsArray.push(i[h])}}}this.columnsArray.sort(this.compareDepth);if(0<this.columnsArray.length){e=this.container.set();this.columnSet.push(e);for(f=0;f<this.columnsArray.length;f++){e.push(this.columnsArray[f].column.set)}j&&e.translate(j.x,j.y);this.columnsSet=e}},compareDepth:function(d,c){return d.depth>c.depth?1:-1},zoomScrollbar:function(){var d=this.chartScrollbar,c=this.categoryAxis;d&&this.updateScrollbar&&d.enabled&&d.dragger&&(d.dragger.stop(),c.parseDates&&!c.equalSpacing?d.timeZoom(this.startTime,this.endTime):d.zoom(this.start,this.end),this.updateScrollbar=!0)},updateTrendLines:function(){var e=this.trendLines,d;for(d=0;d<e.length;d++){var f=e[d],f=a.processObject(f,a.TrendLine,this.theme);e[d]=f;f.chart=this;f.id||(f.id="trendLineAuto"+d+"_"+(new Date).getTime());a.isString(f.valueAxis)&&(f.valueAxis=this.getValueAxisById(f.valueAxis));f.valueAxis||(f.valueAxis=this.valueAxes[0]);f.categoryAxis=this.categoryAxis}},zoomAxesAndGraphs:function(){if(!this.scrollbarOnly){var d=this.valueAxes,c;for(c=0;c<d.length;c++){d[c].zoom(this.start,this.end)}d=this.graphs;for(c=0;c<d.length;c++){d[c].zoom(this.start,this.end)}this.zoomTrendLines();(c=this.chartCursor)&&c.zoom&&c.zoom(this.start,this.end,this.startTime,this.endTime)}},countColumns:function(){var r=0,q=this.valueAxes.length,p=this.graphs.length,o,n,j=!1,l,i;for(i=0;i<q;i++){n=this.valueAxes[i];var g=n.stackType;if("100%"==g||"regular"==g){for(j=!1,l=0;l<p;l++){o=this.graphs[l],o.tcc=1,o.valueAxis==n&&"column"==o.type&&(!j&&o.stackable&&(r++,j=!0),(!o.stackable&&o.clustered||o.newStack)&&r++,o.columnIndex=r-1,o.clustered||(o.columnIndex=0))}}if("none"==g||"3d"==g){j=!1;for(l=0;l<p;l++){o=this.graphs[l],o.valueAxis==n&&"column"==o.type&&(o.clustered?(o.tcc=1,o.newStack&&(r=0),o.hidden||(o.columnIndex=r,r++)):o.hidden||(j=!0,o.tcc=1,o.columnIndex=0))}j&&0===r&&(r=1)}if("3d"==g){n=1;for(i=0;i<p;i++){o=this.graphs[i],o.newStack&&n++,o.depthCount=n,o.tcc=r}r=n}}return r},parseData:function(){a.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.dataProvider)},getCategoryIndexByValue:function(f){var e=this.chartData,h,g;for(g=0;g<e.length;g++){e[g].category==f&&(h=g)}return h},handleCursorChange:function(b){this.updateLegendValues(b.index)},handleCursorZoom:function(b){this.updateScrollbar=!0;this.zoom(b.start,b.end)},handleScrollbarZoom:function(b){this.updateScrollbar=!1;this.zoom(b.start,b.end)},dispatchTimeZoomEvent:function(){if(this.prevStartTime!=this.startTime||this.prevEndTime!=this.endTime){var e={type:"zoomed"};e.startDate=new Date(this.startTime);e.endDate=new Date(this.endTime);e.startIndex=this.start;e.endIndex=this.end;this.startIndex=this.start;this.endIndex=this.end;this.startDate=e.startDate;this.endDate=e.endDate;this.prevStartTime=this.startTime;this.prevEndTime=this.endTime;var d=this.categoryAxis,f=a.extractPeriod(d.minPeriod).period,d=d.dateFormatsObject[f];e.startValue=a.formatDate(e.startDate,d,this);e.endValue=a.formatDate(e.endDate,d,this);e.chart=this;e.target=this;this.fire(e.type,e)}},dispatchIndexZoomEvent:function(){if(this.prevStartIndex!=this.start||this.prevEndIndex!=this.end){this.startIndex=this.start;this.endIndex=this.end;var d=this.chartData;if(a.ifArray(d)&&!isNaN(this.start)&&!isNaN(this.end)){var c={chart:this,target:this,type:"zoomed"};c.startIndex=this.start;c.endIndex=this.end;c.startValue=d[this.start].category;c.endValue=d[this.end].category;this.categoryAxis.parseDates&&(this.startTime=d[this.start].time,this.endTime=d[this.end].time,c.startDate=new Date(this.startTime),c.endDate=new Date(this.endTime));this.prevStartIndex=this.start;this.prevEndIndex=this.end;this.fire(c.type,c)}}},updateLegendValues:function(f){var e=this.graphs,h;for(h=0;h<e.length;h++){var g=e[h];isNaN(f)?g.currentDataItem=void 0:g.currentDataItem=this.chartData[f].axes[g.valueAxis.id].graphs[g.id]}this.legend&&this.legend.updateValues()},getClosestIndex:function(i,g,p,o,n,l){0>n&&(n=0);l>i.length-1&&(l=i.length-1);var m=n+Math.round((l-n)/2),j=i[m][g];if(p==j){return m}if(1>=l-n){if(o){return n}o=i[l][g];return Math.abs(i[n][g]-p)<Math.abs(o-p)?n:l}return p==j?m:p<j?this.getClosestIndex(i,g,p,o,n,m):this.getClosestIndex(i,g,p,o,m,l)},zoomToIndexes:function(f,e){this.updateScrollbar=!0;var h=this.chartData;if(h){var g=h.length;0<g&&(0>f&&(f=0),e>g-1&&(e=g-1),g=this.categoryAxis,g.parseDates&&!g.equalSpacing?this.zoom(h[f].time,this.getEndTime(h[e].time)):this.zoom(f,e))}},zoomToDates:function(f,e){this.updateScrollbar=!0;var h=this.chartData;if(this.categoryAxis.equalSpacing){var g=this.getClosestIndex(h,"time",f.getTime(),!0,0,h.length);e=a.resetDateToMin(e,this.categoryAxis.minPeriod,1);h=this.getClosestIndex(h,"time",e.getTime(),!1,0,h.length);this.zoom(g,h)}else{this.zoom(f.getTime(),e.getTime())}},zoomToCategoryValues:function(d,c){this.updateScrollbar=!0;this.zoom(this.getCategoryIndexByValue(d),this.getCategoryIndexByValue(c))},formatPeriodString:function(ab,aa){if(aa){var Z=["value","open","low","high","close"],Y="value open low high close average sum count".split(" "),W=aa.valueAxis,V=this.chartData,X=aa.numberFormatter;X||(X=this.nf);for(var U=0;U<Z.length;U++){for(var S=Z[U],T=0,Q=0,O,K,o,G,M,R=0,P=0,i,e,F,J,C,j=this.start;j<=this.end;j++){var s=V[j];if(s&&(s=s.axes[W.id].graphs[aa.id])){if(s.values){var N=s.values[S];if(this.rotate){if(0>s.x||s.x>s.graph.height){N=NaN}}else{if(0>s.x||s.x>s.graph.width){N=NaN}}if(!isNaN(N)){isNaN(O)&&(O=N);K=N;if(isNaN(o)||o>N){o=N}if(isNaN(G)||G<N){G=N}M=a.getDecimals(T);var L=a.getDecimals(N),T=T+N,T=a.roundTo(T,Math.max(M,L));Q++;M=T/Q}}if(s.percents&&(s=s.percents[S],!isNaN(s))){isNaN(i)&&(i=s);e=s;if(isNaN(F)||F>s){F=s}if(isNaN(J)||J<s){J=s}C=a.getDecimals(R);N=a.getDecimals(s);R+=s;R=a.roundTo(R,Math.max(C,N));P++;C=R/P}}}R={open:i,close:e,high:J,low:F,average:C,sum:R,count:P};ab=a.formatValue(ab,{open:O,close:K,high:G,low:o,average:M,sum:T,count:Q},Y,X,S+"\\.",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);ab=a.formatValue(ab,R,Y,this.pf,"percents\\."+S+"\\.")}}return ab=a.cleanFromEmpty(ab)},formatString:function(i,e,n){var m=e.graph;if(-1!=i.indexOf("[[category]]")){var k=e.serialDataItem.category;if(this.categoryAxis.parseDates){var j=this.balloonDateFormat,l=this.chartCursor;l&&(j=l.categoryBalloonDateFormat);-1!=i.indexOf("[[category]]")&&(j=a.formatDate(k,j,this),-1!=j.indexOf("fff")&&(j=a.formatMilliseconds(j,k)),k=j)}i=i.replace(/\[\[category\]\]/g,String(k))}k=m.numberFormatter;k||(k=this.nf);j=e.graph.valueAxis;(l=j.duration)&&!isNaN(e.values.value)&&(l=a.formatDuration(e.values.value,l,"",j.durationUnits,j.maxInterval,k),i=i.replace(RegExp("\\[\\[value\\]\\]","g"),l));"date"==j.type&&(j=a.formatDate(new Date(e.values.value),m.dateFormat,this),l=RegExp("\\[\\[value\\]\\]","g"),i=i.replace(l,j),j=a.formatDate(new Date(e.values.open),m.dateFormat,this),l=RegExp("\\[\\[open\\]\\]","g"),i=i.replace(l,j));m="value open low high close total".split(" ");j=this.pf;i=a.formatValue(i,e.percents,m,j,"percents\\.");i=a.formatValue(i,e.values,m,k,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);i=a.formatValue(i,e.values,["percents"],j);-1!=i.indexOf("[[")&&(i=a.formatDataContextValue(i,e.dataContext));-1!=i.indexOf("[[")&&e.graph.customData&&(i=a.formatDataContextValue(i,e.graph.customData));return i=a.AmSerialChart.base.formatString.call(this,i,e,n)},addChartScrollbar:function(b){a.callMethod("destroy",[this.chartScrollbar]);b&&(b.chart=this,this.listenTo(b,"zoomed",this.handleScrollbarZoom));this.rotate?void 0===b.width&&(b.width=b.scrollbarHeight):void 0===b.height&&(b.height=b.scrollbarHeight);this.chartScrollbar=b},removeChartScrollbar:function(){a.callMethod("destroy",[this.chartScrollbar]);this.chartScrollbar=null},handleReleaseOutside:function(b){a.AmSerialChart.base.handleReleaseOutside.call(this,b);a.callMethod("handleReleaseOutside",[this.chartScrollbar])},update:function(){a.AmSerialChart.base.update.call(this);this.chartScrollbar&&this.chartScrollbar.update&&this.chartScrollbar.update()}})})();(function(){var a=window.AmCharts;a.Cuboid=a.Class({construct:function(F,D,C,B,A,y,z,w,s,v,j,i,H,E,G,g,o){this.set=F.set();this.container=F;this.h=Math.round(C);this.w=Math.round(D);this.dx=B;this.dy=A;this.colors=y;this.alpha=z;this.bwidth=w;this.bcolor=s;this.balpha=v;this.dashLength=E;this.topRadius=g;this.pattern=G;this.rotate=H;this.bcn=o;H?0>D&&0===j&&(j=180):0>C&&270==j&&(j=90);this.gradientRotation=j;0===B&&0===A&&(this.cornerRadius=i);this.draw()},draw:function(){var ay=this.set;ay.clear();var ax=this.container,aw=ax.chart,av=this.w,at=this.h,ar=this.dx,au=this.dy,aq=this.colors,ao=this.alpha,ap=this.bwidth,am=this.bcolor,al=this.balpha,aj=this.gradientRotation,af=this.cornerRadius,ai=this.dashLength,ak=this.pattern,an=this.topRadius,ac=this.bcn,ae=aq,ad=aq;"object"==typeof aq&&(ae=aq[0],ad=aq[aq.length-1]);var ah,Y,V,U,ag,ab,Z,R,s,e=ao;ak&&(ao=0);var aa,X,W,T,S=this.rotate;if(0<Math.abs(ar)||0<Math.abs(au)){if(isNaN(an)){Z=ad,ad=a.adjustLuminosity(ae,-0.2),ad=a.adjustLuminosity(ae,-0.2),ah=a.polygon(ax,[0,ar,av+ar,av,0],[0,au,au,0,0],ad,ao,1,am,0,aj),0<al&&(s=a.line(ax,[0,ar,av+ar],[0,au,au],am,al,ap,ai)),Y=a.polygon(ax,[0,0,av,av,0],[0,at,at,0,0],ad,ao,1,am,0,aj),Y.translate(ar,au),0<al&&(V=a.line(ax,[ar,ar],[au,au+at],am,al,ap,ai)),U=a.polygon(ax,[0,0,ar,ar,0],[0,at,at+au,au,0],ad,ao,1,am,0,aj),ag=a.polygon(ax,[av,av,av+ar,av+ar,av],[0,at,at+au,au,0],ad,ao,1,am,0,aj),0<al&&(ab=a.line(ax,[av,av+ar,av+ar,av],[0,au,at+au,at],am,al,ap,ai)),ad=a.adjustLuminosity(Z,0.2),Z=a.polygon(ax,[0,ar,av+ar,av,0],[at,at+au,at+au,at,at],ad,ao,1,am,0,aj),0<al&&(R=a.line(ax,[0,ar,av+ar],[at,at+au,at+au],am,al,ap,ai))}else{var o,j,i;S?(o=at/2,ad=ar/2,i=at/2,j=av+ar/2,X=Math.abs(at/2),aa=Math.abs(ar/2)):(ad=av/2,o=au/2,j=av/2,i=at+au/2+1,aa=Math.abs(av/2),X=Math.abs(au/2));W=aa*an;T=X*an;0.1<aa&&0.1<aa&&(ah=a.circle(ax,aa,ae,ao,ap,am,al,!1,X),ah.translate(ad,o));0.1<W&&0.1<W&&(Z=a.circle(ax,W,a.adjustLuminosity(ae,0.5),ao,ap,am,al,!1,T),Z.translate(j,i))}}ao=e;1>Math.abs(at)&&(at=0);1>Math.abs(av)&&(av=0);!isNaN(an)&&(0<Math.abs(ar)||0<Math.abs(au))?(aq=[ae],aq={fill:aq,stroke:am,"stroke-width":ap,"stroke-opacity":al,"fill-opacity":ao},S?(ao="M0,0 L"+av+","+(at/2-at/2*an),ap=" B",0<av&&(ap=" A"),a.VML?(ao+=ap+Math.round(av-W)+","+Math.round(at/2-T)+","+Math.round(av+W)+","+Math.round(at/2+T)+","+av+",0,"+av+","+at,ao=ao+(" L0,"+at)+(ap+Math.round(-aa)+","+Math.round(at/2-X)+","+Math.round(aa)+","+Math.round(at/2+X)+",0,"+at+",0,0")):(ao+="A"+W+","+T+",0,0,0,"+av+","+(at-at/2*(1-an))+"L0,"+at,ao+="A"+aa+","+X+",0,0,1,0,0"),aa=90):(ap=av/2-av/2*an,ao="M0,0 L"+ap+","+at,a.VML?(ao="M0,0 L"+ap+","+at,ap=" B",0>at&&(ap=" A"),ao+=ap+Math.round(av/2-W)+","+Math.round(at-T)+","+Math.round(av/2+W)+","+Math.round(at+T)+",0,"+at+","+av+","+at,ao+=" L"+av+",0",ao+=ap+Math.round(av/2+aa)+","+Math.round(X)+","+Math.round(av/2-aa)+","+Math.round(-X)+","+av+",0,0,0"):(ao+="A"+W+","+T+",0,0,0,"+(av-av/2*(1-an))+","+at+"L"+av+",0",ao+="A"+aa+","+X+",0,0,1,0,0"),aa=180),ax=ax.path(ao).attr(aq),ax.gradient("linearGradient",[ae,a.adjustLuminosity(ae,-0.3),a.adjustLuminosity(ae,-0.3),ae],aa),S?ax.translate(ar/2,0):ax.translate(0,au/2)):ax=0===at?a.line(ax,[0,av],[0,0],am,al,ap,ai):0===av?a.line(ax,[0,0],[0,at],am,al,ap,ai):0<af?a.rect(ax,av,at,aq,ao,ap,am,al,af,aj,ai):a.polygon(ax,[0,0,av,av,0],[0,at,at,0,0],aq,ao,ap,am,al,aj,!1,ai);av=isNaN(an)?0>at?[ah,s,Y,V,U,ag,ab,Z,R,ax]:[Z,R,Y,V,U,ag,ah,s,ab,ax]:S?0<av?[ah,ax,Z]:[Z,ax,ah]:0>at?[ah,ax,Z]:[Z,ax,ah];a.setCN(aw,ax,ac+"front");a.setCN(aw,Y,ac+"back");a.setCN(aw,Z,ac+"top");a.setCN(aw,ah,ac+"bottom");a.setCN(aw,U,ac+"left");a.setCN(aw,ag,ac+"right");for(ah=0;ah<av.length;ah++){if(Y=av[ah]){ay.push(Y),a.setCN(aw,Y,ac+"element")}}ak&&ax.pattern(ak,NaN,aw.path)},width:function(b){isNaN(b)&&(b=0);this.w=Math.round(b);this.draw()},height:function(b){isNaN(b)&&(b=0);this.h=Math.round(b);this.draw()},animateHeight:function(e,d){var f=this;f.easing=d;f.totalFrames=Math.round(1000*e/a.updateRate);f.rh=f.h;f.frame=0;f.height(1);setTimeout(function(){f.updateHeight.call(f)},a.updateRate)},updateHeight:function(){var d=this;d.frame++;var c=d.totalFrames;d.frame<=c&&(c=d.easing(0,d.frame,1,d.rh-1,c),d.height(c),setTimeout(function(){d.updateHeight.call(d)},a.updateRate))},animateWidth:function(e,d){var f=this;f.easing=d;f.totalFrames=Math.round(1000*e/a.updateRate);f.rw=f.w;f.frame=0;f.width(1);setTimeout(function(){f.updateWidth.call(f)},a.updateRate)},updateWidth:function(){var d=this;d.frame++;var c=d.totalFrames;d.frame<=c&&(c=d.easing(0,d.frame,1,d.rw-1,c),d.width(c),setTimeout(function(){d.updateWidth.call(d)},a.updateRate))}})})();(function(){var a=window.AmCharts;a.CategoryAxis=a.Class({inherits:a.AxisBase,construct:function(b){this.cname="CategoryAxis";a.CategoryAxis.base.construct.call(this,b);this.minPeriod="DD";this.equalSpacing=this.parseDates=!1;this.position="bottom";this.startOnAxis=!1;this.firstDayOfWeek=1;this.gridPosition="middle";this.markPeriodChange=this.boldPeriodBeginning=!0;this.safeDistance=30;this.centerLabelOnFullPeriod=!0;a.applyTheme(this,b,this.cname)},draw:function(){a.CategoryAxis.base.draw.call(this);this.generateDFObject();var P=this.chart.chartData;this.data=P;this.labelRotationR=this.labelRotation;if(a.ifArray(P)){var O,N=this.chart;"scrollbar"!=this.id?(a.setCN(N,this.set,"category-axis"),a.setCN(N,this.labelsSet,"category-axis"),a.setCN(N,this.axisLine.axisSet,"category-axis")):this.bcn=this.id+"-";var M=this.start,K=this.labelFrequency,J=0,L=this.end-M+1,I=this.gridCountR,G=this.showFirstLabel,H=this.showLastLabel,E,C="",C=a.extractPeriod(this.minPeriod),w=a.getPeriodDuration(C.period,C.count),j,s,B,F;j=this.rotate;O=this.firstDayOfWeek;E=this.boldPeriodBeginning;F=a.resetDateToMin(new Date(P[P.length-1].time+1.05*w),this.minPeriod,1,O).getTime();this.firstTime=N.firstTime;this.endTime>F&&(this.endTime=F);F=this.minorGridEnabled;var D=this.gridAlpha;if(this.parseDates&&!this.equalSpacing){this.lastTime=P[P.length-1].time,this.maxTime=a.resetDateToMin(new Date(this.lastTime+1.05*w),this.minPeriod,1,O).getTime(),this.timeDifference=this.endTime-this.startTime,this.parseDatesDraw()}else{if(!this.parseDates){if(this.cellWidth=this.getStepWidth(L),L<I&&(I=L),J+=this.start,this.stepWidth=this.getStepWidth(L),0<I){I=Math.floor(L/I);w=this.chooseMinorFrequency(I);L=J;L/2==Math.round(L/2)&&L--;0>L&&(L=0);var i=0;this.end-L+1>=this.autoRotateCount&&(this.labelRotationR=this.autoRotateAngle);for(O=L;O<=this.end+2;O++){E=!1;0<=O&&O<this.data.length?(s=this.data[O],C=s.category,E=s.forceShow):C="";if(F&&!isNaN(w)){if(O/w==Math.round(O/w)||E){O/I==Math.round(O/I)||E||(this.gridAlpha=this.minorGridAlpha,C=void 0)}else{continue}}else{if(O/I!=Math.round(O/I)&&!E){continue}}L=this.getCoordinate(O-J);B=0;"start"==this.gridPosition&&(L-=this.cellWidth/2,B=this.cellWidth/2);E=!0;var e=B;"start"==this.tickPosition&&(e=0,E=!1,B=0);if(O==M&&!G||O==this.end&&!H){C=void 0}Math.round(i/K)!=i/K&&(C=void 0);i++;var o=this.cellWidth;j&&(o=NaN,this.ignoreAxisWidth||!N.autoMargins)&&(o="right"==this.position?N.marginRight:N.marginLeft,o-=this.tickLength+10);this.labelFunction&&s&&(C=this.labelFunction(C,s,this));C=a.fixBrakes(C);P=!1;this.boldLabels&&(P=!0);O>this.end&&"start"==this.tickPosition&&(C=" ");this.rotate&&this.inside&&(B=-2);B=new this.axisItemRenderer(this,L,C,E,o,B,void 0,P,e,!1,s.labelColor,s.className);B.serialDataItem=s;this.pushAxisItem(B);this.gridAlpha=D}}}else{if(this.parseDates&&this.equalSpacing){J=this.start;this.startTime=this.data[this.start].time;this.endTime=this.data[this.end].time;this.timeDifference=this.endTime-this.startTime;M=this.choosePeriod(0);K=M.period;j=M.count;P=a.getPeriodDuration(K,j);P<w&&(K=C.period,j=C.count,P=w);s=K;"WW"==s&&(s="DD");this.stepWidth=this.getStepWidth(L);I=Math.ceil(this.timeDifference/P)+1;C=a.resetDateToMin(new Date(this.startTime-P),K,j,O).getTime();this.cellWidth=this.getStepWidth(L);L=Math.round(C/P);M=-1;L/2==Math.round(L/2)&&(M=-2,C-=P);L=this.start;L/2==Math.round(L/2)&&L--;0>L&&(L=0);D=this.end+2;D>=this.data.length&&(D=this.data.length);i=!1;i=!G;this.previousPos=-1000;20<this.labelRotationR&&(this.safeDistance=5);e=L;if(this.data[L].time!=a.resetDateToMin(new Date(this.data[L].time),K,j,O).getTime()){for(P=0,o=C,O=L;O<D;O++){w=this.data[O].time,this.checkPeriodChange(K,j,w,o)&&(P++,2<=P&&(e=O,O=D),o=w)}}F&&1<j&&(w=this.chooseMinorFrequency(j),a.getPeriodDuration(K,w));if(0<this.gridCountR){for(O=L;O<D;O++){if(w=this.data[O].time,this.checkPeriodChange(K,j,w,C)&&O>=e){L=this.getCoordinate(O-this.start);F=!1;this.nextPeriod[s]&&(F=this.checkPeriodChange(this.nextPeriod[s],1,w,C,s));P=!1;F&&this.markPeriodChange?(F=this.dateFormatsObject[this.nextPeriod[s]],P=!0):F=this.dateFormatsObject[s];C=a.formatDate(new Date(w),F,N);if(O==M&&!G||O==I&&!H){C=" "}i?i=!1:(E||(P=!1),L-this.previousPos>this.safeDistance*Math.cos(this.labelRotationR*Math.PI/180)&&(this.labelFunction&&(C=this.labelFunction(C,new Date(w),this,K,j,B)),this.boldLabels&&(P=!0),B=new this.axisItemRenderer(this,L,C,void 0,void 0,void 0,void 0,P),F=B.graphics(),this.pushAxisItem(B),F=F.getBBox().width,a.isModern||(F-=L),this.previousPos=L+F));B=C=w}}}}}}for(O=0;O<this.data.length;O++){if(G=this.data[O]){H=this.parseDates&&!this.equalSpacing?Math.round((G.time-this.startTime)*this.stepWidth+this.cellWidth/2):this.getCoordinate(O-J),G.x[this.id]=H}}G=this.guides.length;for(O=0;O<G;O++){H=this.guides[O],E=B=B=I=F=NaN,M=H.above,H.toCategory&&(B=N.getCategoryIndexByValue(H.toCategory),isNaN(B)||(F=this.getCoordinate(B-J),H.expand&&(F+=this.cellWidth/2),B=new this.axisItemRenderer(this,F,"",!0,NaN,NaN,H),this.pushAxisItem(B,M))),H.category&&(E=N.getCategoryIndexByValue(H.category),isNaN(E)||(I=this.getCoordinate(E-J),H.expand&&(I-=this.cellWidth/2),B=(F-I)/2,B=new this.axisItemRenderer(this,I,H.label,!0,NaN,B,H),this.pushAxisItem(B,M))),E=N.dataDateFormat,H.toDate&&(H.toDate=a.getDate(H.toDate,E,this.minPeriod),this.equalSpacing?(B=N.getClosestIndex(this.data,"time",H.toDate.getTime(),!1,0,this.data.length-1),isNaN(B)||(F=this.getCoordinate(B-J))):F=(H.toDate.getTime()-this.startTime)*this.stepWidth,B=new this.axisItemRenderer(this,F,"",!0,NaN,NaN,H),this.pushAxisItem(B,M)),H.date&&(H.date=a.getDate(H.date,E,this.minPeriod),this.equalSpacing?(E=N.getClosestIndex(this.data,"time",H.date.getTime(),!1,0,this.data.length-1),isNaN(E)||(I=this.getCoordinate(E-J))):I=(H.date.getTime()-this.startTime)*this.stepWidth,B=(F-I)/2,E=!0,H.toDate&&(E=!1),B="H"==this.orientation?new this.axisItemRenderer(this,I,H.label,E,2*B,NaN,H):new this.axisItemRenderer(this,I,H.label,!1,NaN,B,H),this.pushAxisItem(B,M)),(0<F||0<I)&&(F<this.width||I<this.width)&&(F=new this.guideFillRenderer(this,I,F,H),E=F.graphics(),this.pushAxisItem(F,M),H.graphics=E,E.index=O,H.balloonText&&this.addEventListeners(E,H))}}this.axisCreated=!0;N=this.x;J=this.y;this.set.translate(N,J);this.labelsSet.translate(N,J);this.positionTitle();(N=this.axisLine.set)&&N.toFront();N=this.getBBox().height;2<N-this.previousHeight&&this.autoWrap&&!this.parseDates&&(this.axisCreated=this.chart.marginsUpdated=!1);this.previousHeight=N},xToIndex:function(f){var e=this.data,l=this.chart,k=l.rotate,j=this.stepWidth;this.parseDates&&!this.equalSpacing?(f=this.startTime+Math.round(f/j)-this.minDuration()/2,l=l.getClosestIndex(e,"time",f,!1,this.start,this.end+1)):(this.startOnAxis||(f-=j/2),l=this.start+Math.round(f/j));var l=a.fitToBounds(l,0,e.length-1),i;e[l]&&(i=e[l].x[this.id]);k?i>this.height+1&&l--:i>this.width+1&&l--;0>i&&l++;return l=a.fitToBounds(l,0,e.length-1)},dateToCoordinate:function(b){return this.parseDates&&!this.equalSpacing?(b.getTime()-this.startTime)*this.stepWidth:this.parseDates&&this.equalSpacing?(b=this.chart.getClosestIndex(this.data,"time",b.getTime(),!1,0,this.data.length-1),this.getCoordinate(b-this.start)):NaN},categoryToCoordinate:function(b){return this.chart?(b=this.chart.getCategoryIndexByValue(b),this.getCoordinate(b-this.start)):NaN},coordinateToDate:function(b){return this.equalSpacing?(b=this.xToIndex(b),new Date(this.data[b].time)):new Date(this.startTime+b/this.stepWidth)},getCoordinate:function(b){b*=this.stepWidth;this.startOnAxis||(b+=this.stepWidth/2);return Math.round(b)}})})();