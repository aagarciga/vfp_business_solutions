(function(){var b;window.AmCharts?b=window.AmCharts:(b={},window.AmCharts=b,b.themes={},b.maps={},b.inheriting={},b.charts=[],b.onReadyArray=[],b.useUTC=!1,b.updateRate=30,b.uid=0,b.lang={},b.translations={},b.mapTranslations={},b.windows={},b.initHandlers=[]);b.Class=function(c){var g=function(){arguments[0]!==b.inheriting&&(this.events={},this.construct.apply(this,arguments))};c.inherits?(g.prototype=new c.inherits(b.inheriting),g.base=c.inherits.prototype,delete c.inherits):(g.prototype.createEvents=function(){for(var d=0,e=arguments.length;d<e;d++){this.events[arguments[d]]=[]}},g.prototype.listenTo=function(e,f,d){this.removeListener(e,f,d);e.events[f].push({handler:d,scope:this})},g.prototype.addListener=function(e,f,d){this.removeListener(this,e,f);this.events[e].push({handler:f,scope:d})},g.prototype.removeListener=function(e,f,d){if(e&&e.events){for(e=e.events[f],f=e.length-1;0<=f;f--){e[f].handler===d&&e.splice(f,1)}}},g.prototype.fire=function(f,l){for(var o=this.events[f],d=0,e=o.length;d<e;d++){var k=o[d];k.handler.call(k.scope,l)}});for(var a in c){g.prototype[a]=c[a]}return g};b.addChart=function(a){b.updateInt||(b.updateInt=setInterval(function(){b.update()},Math.round(1000/b.updateRate)));b.charts.push(a)};b.removeChart=function(c){for(var g=b.charts,a=g.length-1;0<=a;a--){g[a]==c&&g.splice(a,1)}0===g.length&&b.updateInt&&(clearInterval(b.updateInt),b.updateInt=NaN)};b.isModern=!0;b.getIEVersion=function(){var c=0,g,a;"Microsoft Internet Explorer"==navigator.appName&&(g=navigator.userAgent,a=/MSIE ([0-9]{1,}[.0-9]{0,})/,null!==a.exec(g)&&(c=parseFloat(RegExp.$1)));return c};b.applyLang=function(c,g){var a=b.translations;g.dayNames=b.extend({},b.dayNames);g.shortDayNames=b.extend({},b.shortDayNames);g.monthNames=b.extend({},b.monthNames);g.shortMonthNames=b.extend({},b.shortMonthNames);a&&(a=a[c])&&(b.lang=a,a.monthNames&&(g.dayNames=b.extend({},a.dayNames),g.shortDayNames=b.extend({},a.shortDayNames),g.monthNames=b.extend({},a.monthNames),g.shortMonthNames=b.extend({},a.shortMonthNames)))};b.IEversion=b.getIEVersion();9>b.IEversion&&0<b.IEversion&&(b.isModern=!1,b.isIE=!0);b.dx=0;b.dy=0;if(document.addEventListener||window.opera){b.isNN=!0,b.isIE=!1,b.dx=0.5,b.dy=0.5}document.attachEvent&&(b.isNN=!1,b.isIE=!0,b.isModern||(b.dx=0,b.dy=0));window.chrome&&(b.chrome=!0);b.handleMouseUp=function(e){for(var i=b.charts,a=0;a<i.length;a++){var c=i[a];c&&c.handleReleaseOutside&&c.handleReleaseOutside(e)}};b.handleMouseMove=function(e){for(var i=b.charts,a=0;a<i.length;a++){var c=i[a];c&&c.handleMouseMove&&c.handleMouseMove(e)}};b.handleWheel=function(e){for(var i=b.charts,a=0;a<i.length;a++){var c=i[a];if(c&&c.mouseIsOver){c.mouseWheelScrollEnabled||c.mouseWheelZoomEnabled?c.handleWheel&&c.handleWheel(e):e.stopPropagation&&e.stopPropagation();break}}};b.resetMouseOver=function(){for(var c=b.charts,g=0;g<c.length;g++){var a=c[g];a&&(a.mouseIsOver=!1)}};b.ready=function(a){b.onReadyArray.push(a)};b.handleLoad=function(){b.isReady=!0;for(var c=b.onReadyArray,g=0;g<c.length;g++){var a=c[g];isNaN(b.processDelay)?a():setTimeout(a,b.processDelay*g)}};b.addInitHandler=function(a,e){b.initHandlers.push({method:a,types:e})};b.callInitHandler=function(e){var i=b.initHandlers;if(b.initHandlers){for(var a=0;a<i.length;a++){var c=i[a];c.types?b.isInArray(c.types,e.type)&&c.method(e):c.method(e)}}};b.getUniqueId=function(){b.uid++;return"AmChartsEl-"+b.uid};b.isNN&&(document.addEventListener("mousemove",b.handleMouseMove,!0),document.addEventListener("mouseup",b.handleMouseUp,!0),window.addEventListener("load",b.handleLoad,!0),window.addEventListener("DOMMouseScroll",b.handleWheel,!0),document.addEventListener("mousewheel",b.handleWheel,!0));b.isIE&&(document.attachEvent("onmousemove",b.handleMouseMove),document.attachEvent("onmouseup",b.handleMouseUp),window.attachEvent("onload",b.handleLoad));b.clear=function(){var a=b.charts;if(a){for(var e=a.length-1;0<=e;e--){a[e].clear()}}b.updateInt&&clearInterval(b.updateInt);b.charts=[];b.isNN&&(document.removeEventListener("mousemove",b.handleMouseMove,!0),document.removeEventListener("mouseup",b.handleMouseUp,!0),window.removeEventListener("load",b.handleLoad,!0),window.removeEventListener("DOMMouseScroll",b.handleWheel,!0),document.removeEventListener("mousewheel",b.handleWheel,!0));b.isIE&&(document.detachEvent("onmousemove",b.handleMouseMove),document.detachEvent("onmouseup",b.handleMouseUp),window.detachEvent("onload",b.handleLoad))};b.makeChart=function(g,h,o){var a=h.type,f=h.theme;b.isString(f)&&(f=b.themes[f],h.theme=f);var c;switch(a){case"serial":c=new b.AmSerialChart(f);break;case"xy":c=new b.AmXYChart(f);break;case"pie":c=new b.AmPieChart(f);break;case"radar":c=new b.AmRadarChart(f);break;case"gauge":c=new b.AmAngularGauge(f);break;case"funnel":c=new b.AmFunnelChart(f);break;case"map":c=new b.AmMap(f);break;case"stock":c=new b.AmStockChart(f);break;case"gantt":c=new b.AmGanttChart(f)}b.extend(c,h);if(h.listeners){for(var e in h.listeners){a=h.listeners[e],c.addListener(a.event,a.method)}}b.isReady?isNaN(o)?c.write(g):setTimeout(function(){b.realWrite(c,g)},o):b.ready(function(){isNaN(o)?c.write(g):setTimeout(function(){b.realWrite(c,g)},o)});return c};b.realWrite=function(a,e){a.write(e)};b.updateCount=0;b.validateAt=Math.round(b.updateRate/5);b.update=function(){var c=b.charts;b.updateCount++;var g=!1;b.updateCount==b.validateAt&&(g=!0,b.updateCount=0);if(c){for(var a=0;a<c.length;a++){c[a].update&&c[a].update(),g&&c[a].autoResize&&c[a].validateSize&&c[a].validateSize()}}};b.bezierX=3;b.bezierY=6})();(function(){var b=window.AmCharts;b.toBoolean=function(a,e){if(void 0===a){return e}switch(String(a).toLowerCase()){case"true":case"yes":case"1":return !0;case"false":case"no":case"0":case null:return !1;default:return Boolean(a)}};b.removeFromArray=function(c,g){var a;if(void 0!==g&&void 0!==c){for(a=c.length-1;0<=a;a--){c[a]==g&&c.splice(a,1)}}};b.getPath=function(){var c=document.getElementsByTagName("script");if(c){for(var g=0;g<c.length;g++){var a=c[g].src;if(-1!==a.search(/\/(amcharts|ammap)\.js/)){return a.replace(/\/(amcharts|ammap)\.js.*/,"/")}}}};b.normalizeUrl=function(a){return""!==a&&-1===a.search(/\/$/)?a+"/":a};b.isAbsolute=function(a){return 0===a.search(/^http[s]?:|^\//)};b.isInArray=function(c,g){for(var a=0;a<c.length;a++){if(c[a]==g){return !0}}return !1};b.getDecimals=function(a){var e=0;isNaN(a)||(a=String(a),-1!=a.indexOf("e-")?e=Number(a.split("-")[1]):-1!=a.indexOf(".")&&(e=a.split(".")[1].length));return e};b.wordwrap=function(f,k,g,h){var c,q,a,e;f+="";if(1>k){return f}c=-1;for(f=(e=f.split(/\r\n|\n|\r/)).length;++c<f;e[c]+=a){a=e[c];for(e[c]="";a.length>k;e[c]+=b.trim(a.slice(0,q))+((a=a.slice(q)).length?g:"")){q=2==h||(q=a.slice(0,k+1).match(/\S*(\s)?$/))[1]?k:q.input.length-q[0].length||1==h&&k||q.input.length+(q=a.slice(k).match(/^\S*/))[0].length}a=b.trim(a)}return e.join(h)};b.trim=function(a){return a.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")};b.wrappedText=function(l,m,n,w,e,a,c,f){var g=b.text(l,m,n,w,e,a,c);if(g){var h=g.getBBox();if(h.width>f){var k="\n";b.isModern||(k="<br>");f=Math.floor(f/(h.width/m.length));2<f&&(f-=2);m=b.wordwrap(m,f,k,!0);g.remove();g=b.text(l,m,n,w,e,a,c)}}return g};b.getStyle=function(c,g){var a="";document.defaultView&&document.defaultView.getComputedStyle?a=document.defaultView.getComputedStyle(c,"").getPropertyValue(g):c.currentStyle&&(g=g.replace(/\-(\w)/g,function(d,e){return e.toUpperCase()}),a=c.currentStyle[g]);return a};b.removePx=function(a){if(void 0!==a){return Number(a.substring(0,a.length-2))}};b.getURL=function(c,g){if(c){if("_self"!=g&&g){if("_top"==g&&window.top){window.top.location.href=c}else{if("_parent"==g&&window.parent){window.parent.location.href=c}else{if("_blank"==g){window.open(c)}else{var a=document.getElementsByName(g)[0];a?a.src=c:(a=b.windows[g])?a.opener&&!a.opener.closed?a.location.href=c:b.windows[g]=window.open(c):b.windows[g]=window.open(c)}}}}else{window.location.href=c}}};b.ifArray=function(a){return a&&"object"==typeof a&&0<a.length?!0:!1};b.callMethod=function(g,h){var o;for(o=0;o<h.length;o++){var c=h[o];if(c){if(c[g]){c[g]()}var e=c.length;if(0<e){var a;for(a=0;a<e;a++){var d=c[a];if(d&&d[g]){d[g]()}}}}}};b.toNumber=function(a){return"number"==typeof a?a:Number(String(a).replace(/[^0-9\-.]+/g,""))};b.toColor=function(c){if(""!==c&&void 0!==c){if(-1!=c.indexOf(",")){c=c.split(",");var g;for(g=0;g<c.length;g++){var a=c[g].substring(c[g].length-6,c[g].length);c[g]="#"+a}}else{c=c.substring(c.length-6,c.length),c="#"+c}}return c};b.toCoordinate=function(e,i,a){var c;void 0!==e&&(e=String(e),a&&a<i&&(i=a),c=Number(e),-1!=e.indexOf("!")&&(c=i-Number(e.substr(1))),-1!=e.indexOf("%")&&(c=i*Number(e.substr(0,e.length-1))/100));return c};b.fitToBounds=function(c,g,a){c<g&&(c=g);c>a&&(c=a);return c};b.isDefined=function(a){return void 0===a?!1:!0};b.stripNumbers=function(a){return a.replace(/[0-9]+/g,"")};b.roundTo=function(c,g){if(0>g){return c}var a=Math.pow(10,g);return Math.round(c*a)/a};b.toFixed=function(h,k){var a=String(Math.round(h*Math.pow(10,k)));if(0<k){var c=a.length;if(c<k){var e;for(e=0;e<k-c;e++){a="0"+a}}c=a.substring(0,a.length-k);""===c&&(c=0);return c+"."+a.substring(a.length-k,a.length)}return String(a)};b.formatDuration=function(a,c,e,f,k,g){var h=b.intervals,l=g.decimalSeparator;if(a>=h[c].contains){var s=a-Math.floor(a/h[c].contains)*h[c].contains;"ss"==c?(s=b.formatNumber(s,g),1==s.split(l)[0].length&&(s="0"+s)):s=b.roundTo(s,g.precision);("mm"==c||"hh"==c)&&10>s&&(s="0"+s);e=s+""+f[c]+""+e;a=Math.floor(a/h[c].contains);c=h[c].nextInterval;return b.formatDuration(a,c,e,f,k,g)}"ss"==c&&(a=b.formatNumber(a,g),1==a.split(l)[0].length&&(a="0"+a));("mm"==c||"hh"==c)&&10>a&&(a="0"+a);e=a+""+f[c]+""+e;if(h[k].count>h[c].count){for(a=h[c].count;a<h[k].count;a++){c=h[c].nextInterval,"ss"==c||"mm"==c||"hh"==c?e="00"+f[c]+""+e:"DD"==c&&(e="0"+f[c]+""+e)}}":"==e.charAt(e.length-1)&&(e=e.substring(0,e.length-1));return e};b.formatNumber=function(l,m,n,w,e){l=b.roundTo(l,m.precision);isNaN(n)&&(n=m.precision);var a=m.decimalSeparator;m=m.thousandsSeparator;var c;c=0>l?"-":"";l=Math.abs(l);var f=String(l),g=!1;-1!=f.indexOf("e")&&(g=!0);0<=n&&!g&&(f=b.toFixed(l,n));var h="";if(g){h=f}else{var f=f.split("."),g=String(f[0]),k;for(k=g.length;0<=k;k-=3){h=k!=g.length?0!==k?g.substring(k-3,k)+m+h:g.substring(k-3,k)+h:g.substring(k-3,k)}void 0!==f[1]&&(h=h+a+f[1]);void 0!==n&&0<n&&"0"!=h&&(h=b.addZeroes(h,a,n))}h=c+h;""===c&&!0===w&&0!==l&&(h="+"+h);!0===e&&(h+="%");return h};b.addZeroes=function(c,g,a){c=c.split(g);void 0===c[1]&&0<a&&(c[1]="0");return c[1].length<a?(c[1]+="0",b.addZeroes(c[0]+g+c[1],g,a)):void 0!==c[1]?c[0]+g+c[1]:c[0]};b.scientificToNormal=function(e){var i;e=String(e).split("e");var a;if("-"==e[1].substr(0,1)){i="0.";for(a=0;a<Math.abs(Number(e[1]))-1;a++){i+="0"}i+=e[0].split(".").join("")}else{var c=0;i=e[0].split(".");i[1]&&(c=i[1].length);i=e[0].split(".").join("");for(a=0;a<Math.abs(Number(e[1]))-c;a++){i+="0"}}return i};b.toScientific=function(e,i){if(0===e){return"0"}var a=Math.floor(Math.log(Math.abs(e))*Math.LOG10E),c=String(c).split(".").join(i);return String(c)+"e"+a};b.randomColor=function(){return"#"+("00000"+(16777216*Math.random()<<0).toString(16)).substr(-6)};b.hitTest=function(a,c,e){var f=!1,k=a.x,g=a.x+a.width,h=a.y,l=a.y+a.height,s=b.isInRectangle;f||(f=s(k,h,c));f||(f=s(k,l,c));f||(f=s(g,h,c));f||(f=s(g,l,c));f||!0===e||(f=b.hitTest(c,a,!0));return f};b.isInRectangle=function(c,g,a){return c>=a.x-5&&c<=a.x+a.width+5&&g>=a.y-5&&g<=a.y+a.height+5?!0:!1};b.isPercents=function(a){if(-1!=String(a).indexOf("%")){return !0}};b.findPosX=function(c){var g=c,a=c.offsetLeft;if(c.offsetParent){for(;c=c.offsetParent;){a+=c.offsetLeft}for(;(g=g.parentNode)&&g!=document.body;){a-=g.scrollLeft||0}}return a};b.findPosY=function(c){var g=c,a=c.offsetTop;if(c.offsetParent){for(;c=c.offsetParent;){a+=c.offsetTop}for(;(g=g.parentNode)&&g!=document.body;){a-=g.scrollTop||0}}return a};b.findIfFixed=function(a){if(a.offsetParent){for(;a=a.offsetParent;){if("fixed"==b.getStyle(a,"position")){return !0}}}return !1};b.findIfAuto=function(a){return a.style&&"auto"==b.getStyle(a,"overflow")?!0:a.parentNode?b.findIfAuto(a.parentNode):!1};b.findScrollLeft=function(a,e){a.scrollLeft&&(e+=a.scrollLeft);return a.parentNode?b.findScrollLeft(a.parentNode,e):e};b.findScrollTop=function(a,e){a.scrollTop&&(e+=a.scrollTop);return a.parentNode?b.findScrollTop(a.parentNode,e):e};b.formatValue=function(l,m,n,w,e,a,c,f){if(m){void 0===e&&(e="");var g;for(g=0;g<n.length;g++){var h=n[g],k=m[h];void 0!==k&&(k=a?b.addPrefix(k,f,c,w):b.formatNumber(k,w),l=l.replace(new RegExp("\\[\\["+e+""+h+"\\]\\]","g"),k))}}return l};b.formatDataContextValue=function(h,k){if(h){var a=h.match(/\[\[.*?\]\]/g),c;for(c=0;c<a.length;c++){var e=a[c],e=e.substr(2,e.length-4);void 0!==k[e]&&(h=h.replace(new RegExp("\\[\\["+e+"\\]\\]","g"),k[e]))}}return h};b.massReplace=function(e,i){for(var a in i){if(i.hasOwnProperty(a)){var c=i[a];void 0===c&&(c="");e=e.replace(a,c)}}return e};b.cleanFromEmpty=function(a){return a.replace(/\[\[[^\]]*\]\]/g,"")};b.addPrefix=function(m,u,a,c,g){var e=b.formatNumber(m,c),f="",h,k,l;if(0===m){return"0"}0>m&&(f="-");m=Math.abs(m);if(1<m){for(h=u.length-1;-1<h;h--){if(m>=u[h].number&&(k=m/u[h].number,l=Number(c.precision),1>l&&(l=1),a=b.roundTo(k,l),l=b.formatNumber(a,{precision:-1,decimalSeparator:c.decimalSeparator,thousandsSeparator:c.thousandsSeparator}),!g||k==a)){e=f+""+l+""+u[h].prefix;break}}}else{for(h=0;h<a.length;h++){if(m<=a[h].number){k=m/a[h].number;l=Math.abs(Math.round(Math.log(k)*Math.LOG10E));k=b.roundTo(k,l);e=f+""+k+""+a[h].prefix;break}}}return e};b.remove=function(a){a&&a.remove()};b.getEffect=function(a){">"==a&&(a="easeOutSine");"<"==a&&(a="easeInSine");"elastic"==a&&(a="easeOutElastic");return a};b.getObjById=function(h,k){var a,c;for(c=0;c<h.length;c++){var e=h[c];e.id==k&&(a=e)}return a};b.applyTheme=function(c,g,a){g||(g=b.theme);g&&g[a]&&b.extend(c,g[a])};b.isString=function(a){return"string"==typeof a?!0:!1};b.extend=function(e,i,a){var c;e||(e={});for(c in i){a?e.hasOwnProperty(c)||(e[c]=i[c]):e[c]=i[c]}return e};b.copyProperties=function(c,g){for(var a in c){c.hasOwnProperty(a)&&"events"!=a&&void 0!==c[a]&&"function"!=typeof c[a]&&"cname"!=a&&(g[a]=c[a])}};b.processObject=function(h,k,a,c){if(!1===h instanceof k&&(h=c?b.extend(new k(a),h):b.extend(h,new k(a),!0),h.listeners)){for(var e in h.listeners){k=h.listeners[e],h.addListener(k.event,k.method)}}return h};b.fixNewLines=function(a){var e=RegExp("\\n","g");a&&(a=a.replace(e,"<br />"));return a};b.fixBrakes=function(a){if(b.isModern){var e=RegExp("<br>","g");a&&(a=a.replace(e,"\n"))}else{a=b.fixNewLines(a)}return a};b.deleteObject=function(e,i){if(e){if(void 0===i||null===i){i=20}if(0!==i){if("[object Array]"===Object.prototype.toString.call(e)){for(var a=0;a<e.length;a++){b.deleteObject(e[a],i-1),e[a]=null}}else{if(e&&!e.tagName){try{for(a in e){e[a]&&("object"==typeof e[a]&&b.deleteObject(e[a],i-1),"function"!=typeof e[a]&&(e[a]=null))}}catch(c){}}}}}};b.bounce=function(h,k,a,c,e){return(k/=e)<1/2.75?7.5625*c*k*k+a:k<2/2.75?c*(7.5625*(k-=1.5/2.75)*k+0.75)+a:k<2.5/2.75?c*(7.5625*(k-=2.25/2.75)*k+0.9375)+a:c*(7.5625*(k-=2.625/2.75)*k+0.984375)+a};b.easeInSine=function(h,k,a,c,e){return -c*Math.cos(k/e*(Math.PI/2))+c+a};b.easeOutSine=function(h,k,a,c,e){return c*Math.sin(k/e*(Math.PI/2))+a};b.easeOutElastic=function(g,h,o,c,e){g=1.70158;var a=0,d=c;if(0===h){return o}if(1==(h/=e)){return o+c}a||(a=0.3*e);d<Math.abs(c)?(d=c,g=a/4):g=a/(2*Math.PI)*Math.asin(c/d);return d*Math.pow(2,-10*h)*Math.sin(2*(h*e-g)*Math.PI/a)+c+o};b.fixStepE=function(a){a=a.toExponential(0).split("e");var e=Number(a[1]);9==Number(a[0])&&e++;return b.generateNumber(1,e)};b.generateNumber=function(h,k){var a="",c;c=0>k?Math.abs(k)-1:Math.abs(k);var e;for(e=0;e<c;e++){a+="0"}return 0>k?Number("0."+a+String(h)):Number(String(h)+a)};b.setCN=function(h,k,a,c){if(h.addClassNames&&k&&(k=k.node)&&a){var e=k.getAttribute("class");h=h.classNamePrefix+"-";c&&(h="");e?k.setAttribute("class",e+" "+h+a):k.setAttribute("class",h+a)}};b.parseDefs=function(h,k){for(var a in h){var c=typeof h[a];if(0<h[a].length&&"object"==c){for(var e=0;e<h[a].length;e++){c=document.createElementNS(b.SVG_NS,a),k.appendChild(c),b.parseDefs(h[a][e],c)}}else{"object"==c?(c=document.createElementNS(b.SVG_NS,a),k.appendChild(c),b.parseDefs(h[a],c)):k.setAttribute(a,h[a])}}}})();(function(){var b=window.AmCharts;b.AxisBase=b.Class({construct:function(a){this.createEvents("clickItem","rollOverItem","rollOutItem");this.viY=this.viX=this.titleDY=this.y=this.x=this.dy=this.dx=0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridCount=this.tickLength=5;this.gridAlpha=0.15;this.gridThickness=1;this.gridColor="#000000";this.dashLength=0;this.labelFrequency=1;this.showLastLabel=this.showFirstLabel=!0;this.fillColor="#FFFFFF";this.fillAlpha=0;this.labelsEnabled=!0;this.labelRotation=0;this.autoGridCount=!0;this.offset=0;this.guides=[];this.visible=!0;this.counter=0;this.guides=[];this.ignoreAxisWidth=this.inside=!1;this.minHorizontalGap=75;this.minVerticalGap=35;this.titleBold=!0;this.minorGridEnabled=!1;this.minorGridAlpha=0.07;this.autoWrap=!1;this.titleAlign="middle";this.labelOffset=0;this.bcn="axis-";this.centerLabels=!1;this.periods=[{period:"ss",count:1},{period:"ss",count:5},{period:"ss",count:10},{period:"ss",count:30},{period:"mm",count:1},{period:"mm",count:5},{period:"mm",count:10},{period:"mm",count:30},{period:"hh",count:1},{period:"hh",count:3},{period:"hh",count:6},{period:"hh",count:12},{period:"DD",count:1},{period:"DD",count:2},{period:"DD",count:3},{period:"DD",count:4},{period:"DD",count:5},{period:"WW",count:1},{period:"MM",count:1},{period:"MM",count:2},{period:"MM",count:3},{period:"MM",count:6},{period:"YYYY",count:1},{period:"YYYY",count:2},{period:"YYYY",count:5},{period:"YYYY",count:10},{period:"YYYY",count:50},{period:"YYYY",count:100}];this.dateFormats=[{period:"fff",format:"JJ:NN:SS"},{period:"ss",format:"JJ:NN:SS"},{period:"mm",format:"JJ:NN"},{period:"hh",format:"JJ:NN"},{period:"DD",format:"MMM DD"},{period:"WW",format:"MMM DD"},{period:"MM",format:"MMM"},{period:"YYYY",format:"YYYY"}];this.nextPeriod={fff:"ss",ss:"mm",mm:"hh",hh:"DD",DD:"MM",MM:"YYYY"};b.applyTheme(this,a,"AxisBase")},zoom:function(a,e){this.start=a;this.end=e;this.dataChanged=!0;this.draw()},fixAxisPosition:function(){var a=this.position;"H"==this.orientation?("left"==a&&(a="bottom"),"right"==a&&(a="top")):("bottom"==a&&(a="left"),"top"==a&&(a="right"));this.position=a},draw:function(){var c=this.chart;this.allLabels=[];this.counter=0;this.destroy();this.fixAxisPosition();this.labels=[];var g=c.container,a=g.set();c.gridSet.push(a);this.set=a;g=g.set();c.axesLabelsSet.push(g);this.labelsSet=g;this.axisLine=new this.axisRenderer(this);this.autoGridCount?("V"==this.orientation?(c=this.height/this.minVerticalGap,3>c&&(c=3)):c=this.width/this.minHorizontalGap,this.gridCountR=Math.max(c,1)):this.gridCountR=this.gridCount;this.axisWidth=this.axisLine.axisWidth;this.addTitle()},setOrientation:function(a){this.orientation=a?"H":"V"},addTitle:function(){var e=this.title;this.titleLabel=null;if(e){var i=this.chart,a=this.titleColor;void 0===a&&(a=i.color);var c=this.titleFontSize;isNaN(c)&&(c=i.fontSize+1);e=b.text(i.container,e,a,i.fontFamily,c,this.titleAlign,this.titleBold);b.setCN(i,e,this.bcn+"title");this.titleLabel=e}},positionTitle:function(){var h=this.titleLabel;if(h){var k,l,m=this.labelsSet,q={};0<m.length()?q=m.getBBox():(q.x=0,q.y=0,q.width=this.viW,q.height=this.viH,b.VML&&(q.y+=this.y,q.x+=this.x));m.push(h);var m=q.x,n=q.y;b.VML&&(this.rotate?m-=this.x:n-=this.y);var p=q.width,q=q.height,A=this.viW,a=this.viH,c=0,e=h.getBBox().height/2,f=this.inside,g=this.titleAlign;switch(this.position){case"top":k="left"==g?-1:"right"==g?A:A/2;l=n-10-e;break;case"bottom":k="left"==g?-1:"right"==g?A:A/2;l=n+q+10+e;break;case"left":k=m-10-e;f&&(k-=5);c=-90;l=("left"==g?a+1:"right"==g?-1:a/2)+this.titleDY;break;case"right":k=m+p+10+e,f&&(k+=7),l=("left"==g?a+2:"right"==g?-2:a/2)+this.titleDY,c=-90}this.marginsChanged?(h.translate(k,l),this.tx=k,this.ty=l):h.translate(this.tx,this.ty);this.marginsChanged=!1;isNaN(this.titleRotation)||(c=this.titleRotation);0!==c&&h.rotate(c)}},pushAxisItem:function(e,i){var a=this,c=e.graphics();0<c.length()&&(i?a.labelsSet.push(c):a.set.push(c));if(c=e.getLabel()){this.labelsSet.push(c),c.click(function(d){a.handleMouse(d,e,"clickItem")}).mouseover(function(d){a.handleMouse(d,e,"rollOverItem")}).mouseout(function(d){a.handleMouse(d,e,"rollOutItem")})}},handleMouse:function(c,g,a){this.fire(a,{type:a,value:g.value,serialDataItem:g.serialDataItem,axis:this,target:g.label,chart:this.chart,event:c})},addGuide:function(h){for(var k=this.guides,a=!1,c=k.length,e=0;e<k.length;e++){k[e]==h&&(a=!0,c=e)}h=b.processObject(h,b.Guide,this.theme);h.id||(h.id="guideAuto"+c+"_"+(new Date).getTime());a||k.push(h)},removeGuide:function(c){var g=this.guides,a;for(a=0;a<g.length;a++){g[a]==c&&g.splice(a,1)}},handleGuideOver:function(e){clearTimeout(this.chart.hoverInt);var i=e.graphics.getBBox(),a=i.x+i.width/2,i=i.y+i.height/2,c=e.fillColor;void 0===c&&(c=e.lineColor);this.chart.showBalloon(e.balloonText,c,!0,a,i)},handleGuideOut:function(){this.chart.hideBalloon()},addEventListeners:function(c,g){var a=this;c.mouseover(function(){a.handleGuideOver(g)});c.touchstart(function(){a.handleGuideOver(g)});c.mouseout(function(){a.handleGuideOut(g)})},getBBox:function(){var a=this.labelsSet.getBBox();b.VML||(a={x:a.x+this.x,y:a.y+this.y,width:a.width,height:a.height});return a},destroy:function(){b.remove(this.set);b.remove(this.labelsSet);var a=this.axisLine;a&&b.remove(a.set);b.remove(this.grid0)},chooseMinorFrequency:function(a){for(var e=10;0<e;e--){if(a/e==Math.round(a/e)){return a/e}}},parseDatesDraw:function(){var a,c=this.chart,e=this.showFirstLabel,f=this.showLastLabel,k,g="",h=b.extractPeriod(this.minPeriod),l=b.getPeriodDuration(h.period,h.count),m,n,p,q,t,w=this.firstDayOfWeek,A=this.boldPeriodBeginning;a=this.minorGridEnabled;var u,r=this.gridAlpha,D,B=this.choosePeriod(0),C=B.period,B=B.count,W=b.getPeriodDuration(C,B);W<l&&(C=h.period,B=h.count,W=l);h=C;"WW"==h&&(h="DD");this.stepWidth=this.getStepWidth(this.timeDifference);var v=Math.ceil(this.timeDifference/W)+5,y=m=b.resetDateToMin(new Date(this.startTime-W),C,B,w).getTime();if(h==C&&1==B&&this.centerLabelOnFullPeriod||this.autoWrap||this.centerLabels){p=W*this.stepWidth,this.autoWrap&&!this.centerLabels&&(p=-p)}this.cellWidth=l*this.stepWidth;q=Math.round(m/W);l=-1;q/2==Math.round(q/2)&&(l=-2,m-=W);q=this.firstTime;var z=0;a&&1<B&&(u=this.chooseMinorFrequency(B),D=b.getPeriodDuration(C,u));if(0<this.gridCountR){for(v-5-l>this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),a=l;a<=v;a++){t=q+W*(a+Math.floor((y-q)/W))-z;"DD"==C&&(t+=3600000);t=b.resetDateToMin(new Date(t),C,B,w).getTime();"MM"==C&&(k=(t-m)/W,1.5<=(t-m)/W&&(t=t-(k-1)*W+b.getPeriodDuration("DD",3),t=b.resetDateToMin(new Date(t),C,1).getTime(),z+=W));k=(t-this.startTime)*this.stepWidth;if("radar"==c.type){if(0>k||k>this.axisWidth){continue}k=this.y+(this.axisWidth-k)}else{k=this.rotate?k+(this.x-this.viX):"date"==this.type?this.axisWidth-k+(this.y-this.viY):k+(this.y-this.viY)}g=!1;this.nextPeriod[h]&&(g=this.checkPeriodChange(this.nextPeriod[h],1,t,m,h));m=!1;g&&this.markPeriodChange?(g=this.dateFormatsObject[this.nextPeriod[h]],this.twoLineMode&&(g=this.dateFormatsObject[h]+"\n"+g,g=b.fixBrakes(g)),m=!0):g=this.dateFormatsObject[h];A||(m=!1);this.currentDateFormat=g;g=b.formatDate(new Date(t),g,c);if(a==l&&!e||a==v&&!f){g=" "}this.labelFunction&&(g=this.labelFunction(g,new Date(t),this,C,B,n).toString());this.boldLabels&&(m=!0);n=new this.axisItemRenderer(this,k,g,!1,p,0,!1,m);this.pushAxisItem(n);n=m=t;if(!isNaN(u)){for(k=1;k<B;k+=u){this.gridAlpha=this.minorGridAlpha,g=t+D*k,g=b.resetDateToMin(new Date(g),C,u,w).getTime(),g=new this.axisItemRenderer(this,(g-this.startTime)*this.stepWidth,void 0,void 0,void 0,void 0,void 0,void 0,void 0,!0),this.pushAxisItem(g)}}this.gridAlpha=r}}},choosePeriod:function(e){var i=b.getPeriodDuration(this.periods[e].period,this.periods[e].count),a=Math.ceil(this.timeDifference/i),c=this.periods;return this.timeDifference<i&&0<e?c[e-1]:a<=this.gridCountR?c[e]:e+1<c.length?this.choosePeriod(e+1):c[e]},getStepWidth:function(a){var e;this.startOnAxis?(e=this.axisWidth/(a-1),1==a&&(e=this.axisWidth)):e=this.axisWidth/a;return e},timeZoom:function(a,e){this.startTime=a;this.endTime=e},minDuration:function(){var a=b.extractPeriod(this.minPeriod);return b.getPeriodDuration(a.period,a.count)},checkPeriodChange:function(g,h,o,a,f){o=new Date(o);var c=new Date(a),e=this.firstDayOfWeek;a=h;"DD"==g&&(h=1);o=b.resetDateToMin(o,g,h,e).getTime();h=b.resetDateToMin(c,g,h,e).getTime();return"DD"==g&&"hh"!=f&&o-h<b.getPeriodDuration(g,a)?!1:o!=h?!0:!1},generateDFObject:function(){this.dateFormatsObject={};var a;for(a=0;a<this.dateFormats.length;a++){var e=this.dateFormats[a];this.dateFormatsObject[e.period]=e.format}}})})();(function(){var b=window.AmCharts;b.ValueAxis=b.Class({inherits:b.AxisBase,construct:function(a){this.cname="ValueAxis";this.createEvents("axisChanged","logarithmicAxisFailed","axisSelfZoomed","axisZoomed");b.ValueAxis.base.construct.call(this,a);this.dataChanged=!0;this.stackType="none";this.position="left";this.unitPosition="right";this.recalculateToPercents=this.includeHidden=this.includeGuidesInMinMax=this.integersOnly=!1;this.durationUnits={DD:"d. ",hh:":",mm:":",ss:""};this.scrollbar=!1;this.baseValue=0;this.radarCategoriesEnabled=!0;this.gridType="polygons";this.useScientificNotation=!1;this.axisTitleOffset=10;this.pointPosition="axis";this.minMaxMultiplier=1;this.logGridLimit=2;this.totalTextOffset=this.treatZeroAs=0;this.minPeriod="ss";b.applyTheme(this,a,this.cname)},updateData:function(){0>=this.gridCountR&&(this.gridCountR=1);this.totals=[];this.data=this.chart.chartData;var a=this.chart;"xy"!=a.type&&(this.stackGraphs("smoothedLine"),this.stackGraphs("line"),this.stackGraphs("column"),this.stackGraphs("step"));this.recalculateToPercents&&this.recalculate();this.synchronizationMultiplier&&this.synchronizeWith?(b.isString(this.synchronizeWith)&&(this.synchronizeWith=a.getValueAxisById(this.synchronizeWith)),this.synchronizeWith&&(this.synchronizeWithAxis(this.synchronizeWith),this.foundGraphs=!0)):(this.foundGraphs=!1,this.getMinMax())},draw:function(){b.ValueAxis.base.draw.call(this);var D=this.chart,I=this.set;this.labelRotationR=this.labelRotation;b.setCN(D,this.set,"value-axis value-axis-"+this.id);b.setCN(D,this.labelsSet,"value-axis value-axis-"+this.id);b.setCN(D,this.axisLine.axisSet,"value-axis value-axis-"+this.id);var J=this.type;"duration"==J&&(this.duration="ss");!0===this.dataChanged&&(this.updateData(),this.dataChanged=!1);"date"==J&&(this.logarithmic=!1,this.min=this.minRR,this.max=this.maxRR,this.minimumDate&&(this.minimumDate=b.getDate(this.minimumDate,D.dataDateFormat,"fff"),this.min=this.minimumDate.getTime()),this.maximumDate&&(this.maximumDate=b.getDate(this.maximumDate,D.dataDateFormat,"fff"),this.max=this.maximumDate.getTime()));if(this.logarithmic){var O=this.treatZeroAs,a=this.getMin(0,this.data.length-1);this.minReal<a&&(this.minReal=a);isNaN(this.minReal)&&(this.minReal=a);0<O&&0===a&&(this.minReal=a=O);if(0>=a||0>=this.minimum){this.fire("logarithmicAxisFailed",{type:"logarithmicAxisFailed",chart:D});return}}this.grid0=null;var W,ab,c=D.dx,e=D.dy,O=!1,a=this.logarithmic;if(isNaN(this.min)||isNaN(this.max)||!this.foundGraphs||Infinity==this.min||-Infinity==this.max){O=!0}else{var f=this.labelFrequency,g=this.showFirstLabel,h=this.showLastLabel,l=1;W=0;this.minCalc=this.min;this.maxCalc=this.max;this.strictMinMax&&(isNaN(this.minimum)||(this.min=this.minimum),isNaN(this.maximum)||(this.max=this.maximum));isNaN(this.minZoom)||(this.min=this.minZoom);isNaN(this.maxZoom)||(this.max=this.maxZoom);var n=Math.round((this.maxCalc-this.minCalc)/this.step)+1,v;!0===a?(v=Math.log(this.max)*Math.LOG10E-Math.log(this.minReal)*Math.LOG10E,this.stepWidth=this.axisWidth/v,v>this.logGridLimit&&(n=Math.ceil(Math.log(this.max)*Math.LOG10E)+1,W=Math.round(Math.log(this.minReal)*Math.LOG10E),n>this.gridCountR&&(l=Math.ceil(n/this.gridCountR)))):this.stepWidth=this.axisWidth/(this.max-this.min);var r=0;1>this.step&&-1<this.step&&(r=b.getDecimals(this.step));this.integersOnly&&(r=0);r>this.maxDecCount&&(r=this.maxDecCount);var k=this.precision;isNaN(k)||(r=k);this.max=b.roundTo(this.max,this.maxDecCount);this.min=b.roundTo(this.min,this.maxDecCount);ab={};ab.precision=r;ab.decimalSeparator=D.nf.decimalSeparator;ab.thousandsSeparator=D.nf.thousandsSeparator;this.numberFormatter=ab;var z,w=this.guides,y=w.length;if(0<y){var B=this.fillAlpha;for(ab=this.fillAlpha=0;ab<y;ab++){var m=w[ab],p=NaN,q=m.above;isNaN(m.toValue)||(p=this.getCoordinate(m.toValue),z=new this.axisItemRenderer(this,p,"",!0,NaN,NaN,m),this.pushAxisItem(z,q));var A=NaN;isNaN(m.value)||(A=this.getCoordinate(m.value),z=new this.axisItemRenderer(this,A,m.label,!0,NaN,(p-A)/2,m),this.pushAxisItem(z,q));isNaN(p-A)||(z=new this.guideFillRenderer(this,A,p,m),this.pushAxisItem(z,q),z=z.graphics(),m.graphics=z,m.balloonText&&this.addEventListeners(z,m))}this.fillAlpha=B}this.exponential=!1;for(ab=W;ab<n;ab+=l){w=b.roundTo(this.step*ab+this.min,r),-1!=String(w).indexOf("e")&&(this.exponential=!0)}this.duration&&(this.maxInterval=b.getMaxInterval(this.max,this.duration));var r=this.step,t,w=this.minorGridAlpha;this.minorGridEnabled&&(t=this.getMinorGridStep(r,this.stepWidth*r));if("date"==J){this.generateDFObject(),this.timeDifference=this.max-this.min,this.maxTime=this.lastTime=this.max,this.startTime=this.firstTime=this.min,this.parseDatesDraw()}else{for(n>=this.autoRotateCount&&!isNaN(this.autoRotateAngle)&&(this.labelRotationR=this.autoRotateAngle),ab=W;ab<n;ab+=l){if(J=r*ab+this.minCalc,a&&this.max-this.min>10*this.min&&(J-=this.min),J=b.roundTo(J,this.maxDecCount+1),!this.integersOnly||Math.round(J)==J){if(isNaN(k)||Number(b.toFixed(J,k))==J){!0===a&&(0===J&&(J=this.minReal),v>this.logGridLimit&&(J=Math.pow(10,ab)));z=this.formatValue(J,!1,ab);Math.round(ab/f)!=ab/f&&(z=void 0);if(0===ab&&!g||ab==n-1&&!h){z=" "}W=this.getCoordinate(J);var C;this.rotate&&this.autoWrap&&(C=this.stepWidth*r-10);z=new this.axisItemRenderer(this,W,z,void 0,C,void 0,void 0,this.boldLabels);this.pushAxisItem(z);if(J==this.baseValue&&"radar"!=D.type){var u,E,B=this.viW,m=this.viH;z=this.viX;y=this.viY;"H"==this.orientation?0<=W&&W<=B+1&&(u=[W,W,W+c],E=[m,0,e]):0<=W&&W<=m+1&&(u=[0,B,B+c],E=[W,W,W+e]);u&&(W=b.fitToBounds(2*this.gridAlpha,0,1),W=b.line(D.container,u,E,this.gridColor,W,1,this.dashLength),W.translate(z,y),this.grid0=W,D.axesSet.push(W),W.toBack(),b.setCN(D,W,this.bcn+"zero-grid-"+this.id),b.setCN(D,W,this.bcn+"zero-grid"))}if(!isNaN(t)&&0<w&&ab<n-1){W=this.gridAlpha;this.gridAlpha=this.minorGridAlpha;for(z=1;z<r/t;z++){y=this.getCoordinate(J+t*z),y=new this.axisItemRenderer(this,y,"",!1,0,0,!1,!1,0,!0),this.pushAxisItem(y)}this.gridAlpha=W}}}}}v=this.baseValue;this.min>this.baseValue&&this.max>this.baseValue&&(v=this.min);this.min<this.baseValue&&this.max<this.baseValue&&(v=this.max);a&&v<this.minReal&&(v=this.minReal);this.baseCoord=this.getCoordinate(v);v={type:"axisChanged",target:this,chart:D};v.min=a?this.minReal:this.min;v.max=this.max;this.fire("axisChanged",v);this.axisCreated=!0}a=this.axisLine.set;v=this.labelsSet;this.positionTitle();"radar"!=D.type?(D=this.viX,t=this.viY,I.translate(D,t),v.translate(D,t)):a.toFront();!this.visible||O?(I.hide(),a.hide(),v.hide()):(I.show(),a.show(),v.show());this.axisY=this.y-this.viY;this.axisX=this.x-this.viX},formatValue:function(g,h,o){var a=this.exponential,f=this.logarithmic,c=this.numberFormatter,e=this.chart;!0===this.logarithmic&&(a=-1!=String(g).indexOf("e")?!0:!1);this.useScientificNotation&&(a=!0);this.usePrefixes&&(a=!1);a?(o=-1==String(g).indexOf("e")?g.toExponential(15):String(g),a=o.split("e"),o=Number(a[0]),a=Number(a[1]),o=b.roundTo(o,14),10==o&&(o=1,a+=1),o=o+"e"+a,0===g&&(o="0"),1==g&&(o="1")):(f&&(a=String(g).split("."),a[1]?(c.precision=a[1].length,0>o&&(c.precision=Math.abs(o)),h&&1<g&&(c.precision=0)):c.precision=-1),o=this.usePrefixes?b.addPrefix(g,e.prefixesOfBigNumbers,e.prefixesOfSmallNumbers,c,!h):b.formatNumber(g,c,c.precision));this.duration&&(h&&(c.precision=0),o=b.formatDuration(g,this.duration,"",this.durationUnits,this.maxInterval,c));"date"==this.type&&(o=b.formatDate(new Date(g),this.currentDateFormat,e));this.recalculateToPercents?o+="%":(h=this.unit)&&(o="left"==this.unitPosition?h+o:o+h);this.labelFunction&&(o=this.labelFunction(g,o,this).toString());return o},getMinorGridStep:function(g,h){var o=[5,4,2];60>h&&o.shift();for(var c=Math.floor(Math.log(Math.abs(g))*Math.LOG10E),e=0;e<o.length;e++){var a=g/o[e],d=Math.floor(Math.log(Math.abs(a))*Math.LOG10E);if(!(1<Math.abs(c-d))){if(1>g){if(d=Math.pow(10,-d)*a,d==Math.round(d)){return a}}else{if(a==Math.round(a)){return a}}}}},stackGraphs:function(a){var c=this.stackType;"stacked"==c&&(c="regular");"line"==c&&(c="none");"100% stacked"==c&&(c="100%");this.stackType=c;var e=[],g=[],p=[],m=[],n,q=this.chart.graphs,r,G,f,h,k=this.baseValue,l=!1;if("line"==a||"step"==a||"smoothedLine"==a){l=!0}if(l&&("regular"==c||"100%"==c)){for(h=0;h<q.length;h++){f=q[h],f.hidden||(G=f.type,f.chart==this.chart&&f.valueAxis==this&&a==G&&f.stackable&&(r&&(f.stackGraph=r),r=f))}}for(r=this.start;r<=this.end;r++){var u=0;for(h=0;h<q.length;h++){if(f=q[h],f.hidden){f.newStack&&(p[r]=NaN,g[r]=NaN)}else{if(G=f.type,f.chart==this.chart&&f.valueAxis==this&&a==G&&f.stackable){if(G=this.data[r].axes[this.id].graphs[f.id],n=G.values.value,isNaN(n)){f.newStack&&(p[r]=NaN,g[r]=NaN)}else{var t=b.getDecimals(n);u<t&&(u=t);isNaN(m[r])?m[r]=Math.abs(n):m[r]+=Math.abs(n);m[r]=b.roundTo(m[r],u);t=f.fillToGraph;l&&t&&(t=this.data[r].axes[this.id].graphs[t.id])&&(G.values.open=t.values.value);"regular"==c&&(l&&(isNaN(e[r])?(e[r]=n,G.values.close=n,G.values.open=this.baseValue):(isNaN(n)?G.values.close=e[r]:G.values.close=n+e[r],G.values.open=e[r],e[r]=G.values.close)),"column"==a&&(f.newStack&&(p[r]=NaN,g[r]=NaN),G.values.close=n,0>n?(G.values.close=n,isNaN(g[r])?G.values.open=k:(G.values.close+=g[r],G.values.open=g[r]),g[r]=G.values.close):(G.values.close=n,isNaN(p[r])?G.values.open=k:(G.values.close+=p[r],G.values.open=p[r]),p[r]=G.values.close)))}}}}}for(r=this.start;r<=this.end;r++){for(h=0;h<q.length;h++){(f=q[h],f.hidden)?f.newStack&&(p[r]=NaN,g[r]=NaN):(G=f.type,f.chart==this.chart&&f.valueAxis==this&&a==G&&f.stackable&&(G=this.data[r].axes[this.id].graphs[f.id],n=G.values.value,isNaN(n)||(e=n/m[r]*100,G.values.percents=e,G.values.total=m[r],f.newStack&&(p[r]=NaN,g[r]=NaN),"100%"==c&&(isNaN(g[r])&&(g[r]=0),isNaN(p[r])&&(p[r]=0),0>e?(G.values.close=b.fitToBounds(e+g[r],-100,100),G.values.open=g[r],g[r]=G.values.close):(G.values.close=b.fitToBounds(e+p[r],-100,100),G.values.open=p[r],p[r]=G.values.close)))))}}},recalculate:function(){var h=this.chart,k=h.graphs,l;for(l=0;l<k.length;l++){var m=k[l];if(m.valueAxis==this){var q="value";if("candlestick"==m.type||"ohlc"==m.type){q="open"}var n,p,A=this.end+2,A=b.fitToBounds(this.end+1,0,this.data.length-1),a=this.start;0<a&&a--;var c;p=this.start;m.compareFromStart&&(p=0);if(!isNaN(h.startTime)&&(c=h.categoryAxis)){var e=c.minDuration(),e=new Date(h.startTime+e/2),f=b.resetDateToMin(new Date(h.startTime),c.minPeriod).getTime();b.resetDateToMin(new Date(e),c.minPeriod).getTime()>f&&p++}if(c=h.recalculateFromDate){c=b.getDate(c,h.dataDateFormat,"fff"),p=h.getClosestIndex(h.chartData,"time",c.getTime(),!0,0,h.chartData.length),A=h.chartData.length-1}for(c=p;c<=A&&(p=this.data[c].axes[this.id].graphs[m.id],n=p.values[q],isNaN(n));c++){}this.recBaseValue=n;for(q=a;q<=A;q++){p=this.data[q].axes[this.id].graphs[m.id];p.percents={};var a=p.values,g;for(g in a){p.percents[g]="percents"!=g?a[g]/n*100-100:a[g]}}}}},getMinMax:function(){var h=!1,k=this.chart,a=k.graphs,c;for(c=0;c<a.length;c++){var e=a[c].type;("line"==e||"step"==e||"smoothedLine"==e)&&this.expandMinMax&&(h=!0)}h&&(0<this.start&&this.start--,this.end<this.data.length-1&&this.end++);"serial"==k.type&&(!0!==k.categoryAxis.parseDates||h||this.end<this.data.length-1&&this.end++);h=this.minMaxMultiplier;this.min=this.getMin(this.start,this.end);this.max=this.getMax();this.minRR=this.min;this.maxRR=this.max;h=(this.max-this.min)*(h-1);this.min-=h;this.max+=h;h=this.guides.length;if(this.includeGuidesInMinMax&&0<h){for(a=0;a<h;a++){c=this.guides[a],c.toValue<this.min&&(this.min=c.toValue),c.value<this.min&&(this.min=c.value),c.toValue>this.max&&(this.max=c.toValue),c.value>this.max&&(this.max=c.value)}}isNaN(this.minimum)||(this.min=this.minimum);isNaN(this.maximum)||(this.max=this.maximum);this.minimumDate&&(this.minimumDate=b.getDate(this.minimumDate,k.dataDateFormat,"fff"),this.min=this.minimumDate.getTime());this.maximumDate&&(this.maximumDate=b.getDate(this.maximumDate,k.dataDateFormat,"fff"),this.max=this.maximumDate.getTime());this.min>this.max&&(k=this.max,this.max=this.min,this.min=k);isNaN(this.minTemp)||(this.min=this.minTemp);isNaN(this.maxTemp)||(this.max=this.maxTemp);this.minReal=this.min;this.maxReal=this.max;0===this.min&&0===this.max&&(this.max=9);this.min>this.max&&(this.min=this.max-1);k=this.min;h=this.max;a=this.max-this.min;c=0===a?Math.pow(10,Math.floor(Math.log(Math.abs(this.max))*Math.LOG10E))/10:Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E))/10;isNaN(this.maximum)&&isNaN(this.maxTemp)&&(this.max=Math.ceil(this.max/c)*c+c);isNaN(this.minimum)&&isNaN(this.minTemp)&&(this.min=Math.floor(this.min/c)*c-c);0>this.min&&0<=k&&(this.min=0);0<this.max&&0>=h&&(this.max=0);"100%"==this.stackType&&(this.min=0>this.min?-100:0,this.max=0>this.max?0:100);a=this.max-this.min;c=Math.pow(10,Math.floor(Math.log(Math.abs(a))*Math.LOG10E))/10;this.step=Math.ceil(a/this.gridCountR/c)*c;a=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E));a=b.fixStepE(a);c=Math.ceil(this.step/a);5<c&&(c=10);5>=c&&2<c&&(c=5);this.step=Math.ceil(this.step/(a*c))*a*c;1>a?(this.maxDecCount=Math.abs(Math.log(Math.abs(a))*Math.LOG10E),this.maxDecCount=Math.round(this.maxDecCount),this.step=b.roundTo(this.step,this.maxDecCount+1)):this.maxDecCount=0;this.min=this.step*Math.floor(this.min/this.step);this.max=this.step*Math.ceil(this.max/this.step);0>this.min&&0<=k&&(this.min=0);0<this.max&&0>=h&&(this.max=0);1<this.minReal&&1<this.max-this.minReal&&(this.minReal=Math.floor(this.minReal));a=Math.pow(10,Math.floor(Math.log(Math.abs(this.minReal))*Math.LOG10E));0===this.min&&(this.minReal=a);0===this.min&&1<this.minReal&&(this.minReal=1);0<this.min&&0<this.minReal-this.step&&(this.minReal=this.min+this.step<this.minReal?this.min+this.step:this.min);this.logarithmic&&(2<Math.log(h)*Math.LOG10E-Math.log(k)*Math.LOG10E?(this.minReal=this.min=Math.pow(10,Math.floor(Math.log(Math.abs(k))*Math.LOG10E)),this.max=Math.pow(10,Math.ceil(Math.log(Math.abs(h))*Math.LOG10E))):(h=Math.pow(10,Math.floor(Math.log(Math.abs(this.min))*Math.LOG10E))/10,k=Math.pow(10,Math.floor(Math.log(Math.abs(k))*Math.LOG10E))/10,h<k&&(this.minReal=this.min=10*k)))},getMin:function(a,c){var d,f;for(f=a;f<=c;f++){var e=this.data[f].axes[this.id].graphs,g;for(g in e){if(e.hasOwnProperty(g)){var k=this.chart.getGraphById(g);if(k.includeInMinMax&&(!k.hidden||this.includeHidden)){isNaN(d)&&(d=Infinity);this.foundGraphs=!0;k=e[g].values;this.recalculateToPercents&&(k=e[g].percents);var l;if(this.minMaxField){l=k[this.minMaxField],l<d&&(d=l)}else{for(var s in k){k.hasOwnProperty(s)&&"percents"!=s&&"total"!=s&&(l=k[s],l<d&&(d=l))}}}}}}return d},getMax:function(){var f,g;for(g=this.start;g<=this.end;g++){var o=this.data[g].axes[this.id].graphs,c;for(c in o){if(o.hasOwnProperty(c)){var a=this.chart.getGraphById(c);if(a.includeInMinMax&&(!a.hidden||this.includeHidden)){isNaN(f)&&(f=-Infinity);this.foundGraphs=!0;a=o[c].values;this.recalculateToPercents&&(a=o[c].percents);var d;if(this.minMaxField){d=a[this.minMaxField],d>f&&(f=d)}else{for(var e in a){a.hasOwnProperty(e)&&"percents"!=e&&"total"!=e&&(d=a[e],d>f&&(f=d))}}}}}}return f},dispatchZoomEvent:function(c,g){var a={type:"axisZoomed",startValue:c,endValue:g,target:this,chart:this.chart};this.fire(a.type,a)},zoomOut:function(){var a=this.chart;"xy"!=a.type&&(this.maxZoom=this.minZoom=void 0,a.updateAfterValueZoom())},zoomToValues:function(c,g){var a=this.chart;"xy"==a.type?(g<c&&(a=g,g=c,c=a),c<this.min&&(c=this.min),g>this.max&&(g=this.max),a={type:"axisSelfZoomed"},a.chart=this.chart,a.valueAxis=this,a.multiplier=this.axisWidth/Math.abs(this.getCoordinate(g)-this.getCoordinate(c)),a.startValue=c,a.endValue=g,a.position="V"==this.orientation?this.reversed?this.getCoordinate(c):this.getCoordinate(g):this.reversed?this.getCoordinate(g):this.getCoordinate(c),this.fire(a.type,a)):(this.minZoom=c,this.maxZoom=g,a.updateAfterValueZoom())},coordinateToValue:function(f){if(isNaN(f)){return NaN}var g=this.axisWidth,o=this.stepWidth,c=this.reversed,a=this.rotate,d=this.min,e=this.minReal;return !0===this.logarithmic?Math.pow(10,(a?!0===c?(g-f)/o:f/o:!0===c?f/o:(g-f)/o)+Math.log(e)*Math.LOG10E):!0===c?a?d-(f-g)/o:f/o+d:a?f/o+d:d-(f-g)/o},getCoordinate:function(f){if(isNaN(f)){return NaN}var g=this.rotate,o=this.reversed,c=this.axisWidth,a=this.stepWidth,d=this.min,e=this.minReal;!0===this.logarithmic?(0===f&&(f=this.treatZeroAs),f=Math.log(f)*Math.LOG10E-Math.log(e)*Math.LOG10E,g=g?!0===o?c-a*f:a*f:!0===o?a*f:c-a*f):g=!0===o?g?c-a*(f-d):a*(f-d):g?a*(f-d):c-a*(f-d);g=this.rotate?g+(this.x-this.viX):g+(this.y-this.viY);10000000<Math.abs(g)&&(g=10000000*(g/Math.abs(g)));return Math.round(g)},synchronizeWithAxis:function(a){this.synchronizeWith=a;this.listenTo(this.synchronizeWith,"axisChanged",this.handleSynchronization)},handleSynchronization:function(){if(this.synchronizeWith){b.isString(this.synchronizeWith)&&(this.synchronizeWith=this.chart.getValueAxisById(this.synchronizeWith));var e=this.synchronizeWith,i=e.min,a=e.max,e=e.step,c=this.synchronizationMultiplier;c&&(this.min=i*c,this.max=a*c,this.step=e*c,i=Math.pow(10,Math.floor(Math.log(Math.abs(this.step))*Math.LOG10E)),i=Math.abs(Math.log(Math.abs(i))*Math.LOG10E),this.maxDecCount=i=Math.round(i),this.draw())}}})})();(function(){var b=window.AmCharts;b.RecAxis=b.Class({construct:function(h){var k=h.chart,l=h.axisThickness,m=h.axisColor,q=h.axisAlpha,n=h.offset,p=h.dx,A=h.dy,a=h.viX,c=h.viY,e=h.viH,f=h.viW,g=k.container;"H"==h.orientation?(m=b.line(g,[0,f],[0,0],m,q,l),this.axisWidth=h.width,"bottom"==h.position?(A=l/2+n+e+c-1,l=a):(A=-l/2-n+c+A,l=p+a)):(this.axisWidth=h.height,"right"==h.position?(m=b.line(g,[0,0,-p],[0,e,e-A],m,q,l),A=c+A,l=l/2+n+p+f+a-1):(m=b.line(g,[0,0],[0,e],m,q,l),A=c,l=-l/2-n+a));m.translate(l,A);l=k.container.set();l.push(m);k.axesSet.push(l);b.setCN(k,m,h.bcn+"line");this.axisSet=l;this.set=m}})})();(function(){var b=window.AmCharts;b.RecItem=b.Class({construct:function(ab,ac,ad,ae,ah,af,ag,ai,aj,ak,al,e){ac=Math.round(ac);var f=ab.chart;this.value=ad;void 0==ad&&(ad="");aj||(aj=0);void 0==ae&&(ae=!0);var g=f.fontFamily,l=ab.fontSize;void 0==l&&(l=f.fontSize);var k=ab.color;void 0==k&&(k=f.color);void 0!==al&&(k=al);var V=ab.chart.container,y=V.set();this.set=y;var n=ab.axisThickness,t=ab.axisColor,A=ab.axisAlpha,W=ab.tickLength,X=ab.gridAlpha,Z=ab.gridThickness,p=ab.gridColor,c=ab.dashLength,r=ab.fillColor,m=ab.fillAlpha,am=ab.labelsEnabled;al=ab.labelRotationR;var aq=ab.counter,w=ab.inside,q=ab.labelOffset,J=ab.dx,ao=ab.dy,E=ab.orientation,D=ab.position,R=ab.previousCoord,P=ab.viH,H=ab.viW,aa=ab.offset,O,C;ag?(void 0!==ag.id&&(e=f.classNamePrefix+"-guide-"+ag.id),am=!0,isNaN(ag.tickLength)||(W=ag.tickLength),void 0!=ag.lineColor&&(p=ag.lineColor),void 0!=ag.color&&(k=ag.color),isNaN(ag.lineAlpha)||(X=ag.lineAlpha),isNaN(ag.dashLength)||(c=ag.dashLength),isNaN(ag.lineThickness)||(Z=ag.lineThickness),!0===ag.inside&&(w=!0,0<aa&&(aa=0)),isNaN(ag.labelRotation)||(al=ag.labelRotation),isNaN(ag.fontSize)||(l=ag.fontSize),ag.position&&(D=ag.position),void 0!==ag.boldLabel&&(ai=ag.boldLabel),isNaN(ag.labelOffset)||(q=ag.labelOffset)):""===ad&&(W=0);ak&&!isNaN(ab.minorTickLength)&&(W=ab.minorTickLength);var B="start";0<ah&&(B="middle");ab.centerLabels&&(B="middle");var z=al*Math.PI/180,an,x,h=0,u=0,v=0,I=an=0,a=0;"V"==E&&(al=0);var ap;am&&""!==ad&&(ap=ab.autoWrap&&0===al?b.wrappedText(V,ad,k,g,l,B,ai,Math.abs(ah),0):b.text(V,ad,k,g,l,B,ai),B=ap.getBBox(),I=B.width,a=B.height);if("H"==E){if(0<=ac&&ac<=H+1&&(0<W&&0<A&&ac+aj<=H+1&&(O=b.line(V,[ac+aj,ac+aj],[0,W],t,A,Z),y.push(O)),0<X&&(C=b.line(V,[ac,ac+J,ac+J],[P,P+ao,ao],p,X,Z,c),y.push(C))),u=0,h=ac,ag&&90==al&&w&&(h-=l),!1===ae?(B="start",u="bottom"==D?w?u+W:u-W:w?u-W:u+W,h+=3,0<ah&&(h+=ah/2-3,B="middle"),0<al&&(B="middle")):B="middle",1==aq&&0<m&&!ag&&!ak&&R<H&&(ae=b.fitToBounds(ac,0,H),R=b.fitToBounds(R,0,H),an=ae-R,0<an&&(x=b.rect(V,an,ab.height,r,m),x.translate(ae-an+J,ao),y.push(x))),"bottom"==D?(u+=P+l/2+aa,w?(0<al?(u=P-I/2*Math.sin(z)-W-3,h+=I/2*Math.cos(z)-4+2):0>al?(u=P+I*Math.sin(z)-W-3+2,h+=-I*Math.cos(z)-a*Math.sin(z)-4):u-=W+l+3+3,u-=q):(0<al?(u=P+I/2*Math.sin(z)+W+3,h-=I/2*Math.cos(z)):0>al?(u=P+W+3-I/2*Math.sin(z)+2,h+=I/2*Math.cos(z)):u+=W+n+3+3,u+=q)):(u+=ao+l/2-aa,h+=J,w?(0<al?(u=I/2*Math.sin(z)+W+3,h-=I/2*Math.cos(z)):u+=W+3,u+=q):(0<al?(u=-(I/2)*Math.sin(z)-W-6,h+=I/2*Math.cos(z)):u-=W+l+3+n+3,u-=q)),"bottom"==D?an=(w?P-W-1:P+n-1)+aa:(v=J,an=(w?ao:ao-W-n+1)-aa),af&&(h+=af),af=h,0<al&&(af+=I/2*Math.cos(z)),ap&&(l=0,w&&(l=I/2*Math.cos(z)),af+l>H+2||0>af)){ap.remove(),ap=null}}else{0<=ac&&ac<=P+1&&(0<W&&0<A&&ac+aj<=P+1&&(O=b.line(V,[0,W],[ac+aj,ac+aj],t,A,Z),y.push(O)),0<X&&(C=b.line(V,[0,J,H+J],[ac,ac+ao,ac+ao],p,X,Z,c),y.push(C)));B="end";if(!0===w&&"left"==D||!1===w&&"right"==D){B="start"}u=ac-a/2+2;1==aq&&0<m&&!ag&&!ak&&(ae=b.fitToBounds(ac,0,P),R=b.fitToBounds(R,0,P),z=ae-R,x=b.polygon(V,[0,ab.width,ab.width,0],[0,0,z,z],r,m),x.translate(J,ae-z+ao),y.push(x));u+=l/2;"right"==D?(h+=J+H+aa,u+=ao,w?(af||(u-=l/2+3),h=h-(W+4)-q):(h+=W+4+n,u-=2,h+=q)):w?(h+=W+4-aa,af||(u-=l/2+3),ag&&(h+=J,u+=ao),h+=q):(h+=-W-n-4-2-aa,u-=2,h-=q);O&&("right"==D?(v+=J+aa+H,an+=ao,v=w?v-n:v+n):(v-=aa,w||(v-=W+n)));af&&(u+=af);w=-3;"right"==D&&(w+=ao);ap&&(u>P+1||u<w)&&(ap.remove(),ap=null)}O&&(O.translate(v,an),b.setCN(f,O,ab.bcn+"tick"),b.setCN(f,O,e,!0),ag&&b.setCN(f,O,"guide"));!1===ab.visible&&(O&&O.remove(),ap&&(ap.remove(),ap=null));ap&&(ap.attr({"text-anchor":B}),ap.translate(h,u),0!==al&&ap.rotate(-al,ab.chart.backgroundColor),ab.allLabels.push(ap),this.label=ap,b.setCN(f,ap,ab.bcn+"label"),b.setCN(f,ap,e,!0),ag&&b.setCN(f,ap,"guide"));C&&(b.setCN(f,C,ab.bcn+"grid"),b.setCN(f,C,e,!0),ag&&b.setCN(f,C,"guide"));x&&(b.setCN(f,x,ab.bcn+"fill"),b.setCN(f,x,e,!0));ak?C&&b.setCN(f,C,ab.bcn+"grid-minor"):(ab.counter=0===aq?1:0,ab.previousCoord=ac);0===this.set.node.childNodes.length&&this.set.remove()},graphics:function(){return this.set},getLabel:function(){return this.label}})})();(function(){var b=window.AmCharts;b.RecFill=b.Class({construct:function(l,m,n,w){var e=l.dx,a=l.dy,c=l.orientation,f=0;if(n<m){var g=m;m=n;n=g}var h=w.fillAlpha;isNaN(h)&&(h=0);var g=l.chart.container,k=w.fillColor;"V"==c?(m=b.fitToBounds(m,0,l.viH),n=b.fitToBounds(n,0,l.viH)):(m=b.fitToBounds(m,0,l.viW),n=b.fitToBounds(n,0,l.viW));n-=m;isNaN(n)&&(n=4,f=2,h=0);0>n&&"object"==typeof k&&(k=k.join(",").split(",").reverse());"V"==c?(c=b.rect(g,l.viW,n,k,h),c.translate(e,m-f+a)):(c=b.rect(g,n,l.viH,k,h),c.translate(m-f+e,a));b.setCN(l.chart,c,"guide-fill");w.id&&b.setCN(l.chart,c,"guide-fill-"+w.id);this.set=g.set([c])},graphics:function(){return this.set},getLabel:function(){}})})();(function(){var b=window.AmCharts;b.AmChart=b.Class({construct:function(c){this.theme=c;this.classNamePrefix="amcharts";this.addClassNames=!1;this.version="3.15.1";b.addChart(this);this.createEvents("dataUpdated","init","rendered","drawn","failed","resized");this.height=this.width="100%";this.dataChanged=!0;this.chartCreated=!1;this.previousWidth=this.previousHeight=0;this.backgroundColor="#FFFFFF";this.borderAlpha=this.backgroundAlpha=0;this.color=this.borderColor="#000000";this.fontFamily="Verdana";this.fontSize=11;this.usePrefixes=!1;this.addCodeCredits=this.autoResize=!0;this.precision=-1;this.percentPrecision=2;this.decimalSeparator=".";this.thousandsSeparator=",";this.labels=[];this.allLabels=[];this.titles=[];this.marginRight=this.marginLeft=this.autoMarginOffset=0;this.timeOuts=[];this.creditsPosition="top-left";var g=document.createElement("div"),a=g.style;a.overflow="hidden";a.position="relative";a.textAlign="left";this.chartDiv=g;g=document.createElement("div");a=g.style;a.overflow="hidden";a.position="relative";a.textAlign="left";this.legendDiv=g;this.titleHeight=0;this.hideBalloonTime=150;this.handDrawScatter=2;this.handDrawThickness=1;this.prefixesOfBigNumbers=[{number:1000,prefix:"k"},{number:1000000,prefix:"M"},{number:1000000000,prefix:"G"},{number:1000000000000,prefix:"T"},{number:1000000000000000,prefix:"P"},{number:1000000000000000000,prefix:"E"},{number:1e+21,prefix:"Z"},{number:1e+24,prefix:"Y"}];this.prefixesOfSmallNumbers=[{number:1e-24,prefix:"y"},{number:1e-21,prefix:"z"},{number:1e-18,prefix:"a"},{number:1e-15,prefix:"f"},{number:1e-12,prefix:"p"},{number:1e-9,prefix:"n"},{number:0.000001,prefix:"\u03bc"},{number:0.001,prefix:"m"}];this.panEventsEnabled=!0;this.product="amcharts";this.animations=[];this.balloon=new b.AmBalloon(this.theme);this.balloon.chart=this;b.applyTheme(this,c,"AmChart")},drawChart:function(){0<this.realWidth&&0<this.realHeight&&(this.drawBackground(),this.redrawLabels(),this.drawTitles(),this.brr(),this.renderFix())},drawBackground:function(){b.remove(this.background);var h=this.container,m=this.backgroundColor,a=this.backgroundAlpha,c=this.set;b.isModern||0!==a||(a=0.001);var f=this.updateWidth();this.realWidth=f;var e=this.updateHeight();this.realHeight=e;m=b.polygon(h,[0,f-1,f-1,0],[0,0,e-1,e-1],m,a,1,this.borderColor,this.borderAlpha);b.setCN(this,m,"bg");this.background=m;c.push(m);if(m=this.backgroundImage){h=h.image(m,0,0,f,e),b.setCN(this,m,"bg-image"),this.bgImg=h,c.push(h)}},drawTitles:function(f){var k=this.titles;this.titleHeight=0;if(b.ifArray(k)){var g=20,h;for(h=0;h<k.length;h++){var c=k[h],c=b.processObject(c,b.Title,this.theme);if(!1!==c.enabled){var q=c.color;void 0===q&&(q=this.color);var a=c.size;isNaN(a)&&(a=this.fontSize+2);isNaN(c.alpha);var e=this.marginLeft,q=b.wrappedText(this.container,c.text,q,this.fontFamily,a,"middle",!0,this.divRealWidth-20);q.translate(e+(this.realWidth-this.marginRight-e)/2,g);q.node.style.pointerEvents="none";c.sprite=q;b.setCN(this,q,"title");c.id&&b.setCN(this,q,"title-"+c.id);e=!0;void 0!==c.bold&&(e=c.bold);e&&q.attr({"font-weight":"bold"});q.attr({opacity:c.alpha});g+=q.getBBox().height+5;f?q.remove():this.freeLabelsSet.push(q)}}this.titleHeight=g-10}},write:function(a){if(a="object"!=typeof a?document.getElementById(a):a){for(;a.firstChild;){a.removeChild(a.firstChild)}this.div=a;a.style.overflow="hidden";a.style.textAlign="left";var c=this.chartDiv,e=this.legendDiv,f=this.legend,k=e.style,g=c.style;this.measure();this.previousHeight=this.divRealHeight;this.previousWidth=this.divRealWidth;var h,l=document.createElement("div");h=l.style;h.position="relative";this.containerDiv=l;l.className=this.classNamePrefix+"-main-div";c.className=this.classNamePrefix+"-chart-div";a.appendChild(l);var s=this.exportConfig;s&&b.AmExport&&!this.AmExport&&(this.AmExport=new b.AmExport(this,s));this.amExport&&b.AmExport&&(this.AmExport=b.extend(this.amExport,new b.AmExport(this),!0));this.AmExport&&this.AmExport.init&&this.AmExport.init();if(f){if(f=this.addLegend(f,f.divId),f.enabled){switch(f.position){case"bottom":l.appendChild(c);l.appendChild(e);break;case"top":l.appendChild(e);l.appendChild(c);break;case"absolute":h.width=a.style.width;h.height=a.style.height;k.position="absolute";g.position="absolute";void 0!==f.left&&(k.left=f.left+"px");void 0!==f.right&&(k.right=f.right+"px");void 0!==f.top&&(k.top=f.top+"px");void 0!==f.bottom&&(k.bottom=f.bottom+"px");f.marginLeft=0;f.marginRight=0;l.appendChild(c);l.appendChild(e);break;case"right":h.width=a.style.width;h.height=a.style.height;k.position="relative";g.position="absolute";l.appendChild(c);l.appendChild(e);break;case"left":h.width=a.style.width;h.height=a.style.height;k.position="absolute";g.position="relative";l.appendChild(c);l.appendChild(e);break;case"outside":l.appendChild(c)}}else{l.appendChild(c)}}else{l.appendChild(c)}this.listenersAdded||(this.addListeners(),this.listenersAdded=!0);this.initChart()}},createLabelsSet:function(){b.remove(this.labelsSet);this.labelsSet=this.container.set();this.freeLabelsSet.push(this.labelsSet)},initChart:function(){window.AmCharts_path&&(this.path=window.AmCharts_path);void 0===this.path&&(this.path=b.getPath());void 0===this.path&&(this.path="amcharts/");this.path=b.normalizeUrl(this.path);void 0===this.pathToImages&&(this.pathToImages=this.path+"images/");this.initHC||(b.callInitHandler(this),this.initHC=!0);b.applyLang(this.language,this);var a=this.numberFormatter;a&&(isNaN(a.precision)||(this.precision=a.precision),void 0!==a.thousandsSeparator&&(this.thousandsSeparator=a.thousandsSeparator),void 0!==a.decimalSeparator&&(this.decimalSeparator=a.decimalSeparator));(a=this.percentFormatter)&&!isNaN(a.precision)&&(this.percentPrecision=a.precision);this.nf={precision:this.precision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.pf={precision:this.percentPrecision,thousandsSeparator:this.thousandsSeparator,decimalSeparator:this.decimalSeparator};this.destroy();(a=this.container)?(a.container.innerHTML="",a.width=this.realWidth,a.height=this.realHeight,a.addDefs(this),this.chartDiv.appendChild(a.container)):a=new b.AmDraw(this.chartDiv,this.realWidth,this.realHeight,this);this.container=a;this.checkDisplay();a.chart=this;b.VML||b.SVG?(a.handDrawn=this.handDrawn,a.handDrawScatter=this.handDrawScatter,a.handDrawThickness=this.handDrawThickness,this.set&&this.set.remove(),this.set=a.set(),this.gridSet&&this.gridSet.remove(),this.gridSet=a.set(),this.cursorLineSet&&this.cursorLineSet.remove(),this.cursorLineSet=a.set(),this.graphsBehindSet&&this.graphsBehindSet.remove(),this.graphsBehindSet=a.set(),this.bulletBehindSet&&this.bulletBehindSet.remove(),this.bulletBehindSet=a.set(),this.columnSet&&this.columnSet.remove(),this.columnSet=a.set(),this.graphsSet&&this.graphsSet.remove(),this.graphsSet=a.set(),this.trendLinesSet&&this.trendLinesSet.remove(),this.trendLinesSet=a.set(),this.axesSet&&this.axesSet.remove(),this.axesSet=a.set(),this.cursorSet&&this.cursorSet.remove(),this.cursorSet=a.set(),this.scrollbarsSet&&this.scrollbarsSet.remove(),this.scrollbarsSet=a.set(),this.bulletSet&&this.bulletSet.remove(),this.bulletSet=a.set(),this.freeLabelsSet&&this.freeLabelsSet.remove(),this.axesLabelsSet&&this.axesLabelsSet.remove(),this.axesLabelsSet=a.set(),this.freeLabelsSet=a.set(),this.balloonsSet&&this.balloonsSet.remove(),this.balloonsSet=a.set(),this.zoomButtonSet&&this.zoomButtonSet.remove(),this.zbSet&&(this.zbSet.remove(),this.zbSet=null),this.zoomButtonSet=a.set(),this.linkSet&&this.linkSet.remove(),this.linkSet=a.set()):this.fire("failed",{type:"failed",chart:this})},premeasure:function(){var c=this.div;if(c){this.boundingRect=this.chartDiv.getBoundingClientRect();var g=c.offsetWidth,a=c.offsetHeight;c.clientHeight&&(g=c.clientWidth,a=c.clientHeight);if(g!=this.mw||a!=this.mh){this.mw=g,this.mh=a,this.measure()}}},measure:function(){var a=this.div;if(a){var c=this.chartDiv,e=a.offsetWidth,f=a.offsetHeight,k=this.container;a.clientHeight&&(e=a.clientWidth,f=a.clientHeight);var g=b.removePx(b.getStyle(a,"padding-left")),h=b.removePx(b.getStyle(a,"padding-right")),l=b.removePx(b.getStyle(a,"padding-top")),s=b.removePx(b.getStyle(a,"padding-bottom"));isNaN(g)||(e-=g);isNaN(h)||(e-=h);isNaN(l)||(f-=l);isNaN(s)||(f-=s);g=a.style;a=g.width;g=g.height;-1!=a.indexOf("px")&&(e=b.removePx(a));-1!=g.indexOf("px")&&(f=b.removePx(g));f=Math.round(f);e=Math.round(e);a=Math.round(b.toCoordinate(this.width,e));g=Math.round(b.toCoordinate(this.height,f));(e!=this.previousWidth||f!=this.previousHeight)&&0<a&&0<g&&(c.style.width=a+"px",c.style.height=g+"px",c.style.padding=0,k&&k.setSize(a,g),this.balloon=b.processObject(this.balloon,b.AmBalloon,this.theme),this.balloon.setBounds(2,2,a-2,g));this.balloon.chart=this;this.realWidth=a;this.realHeight=g;this.divRealWidth=e;this.divRealHeight=f}},checkDisplay:function(){if(this.container){var a=b.rect(this.container,10,10),e=a.getBBox();0===e.width&&0===e.height&&(this.divRealHeight=this.divRealWidth=this.realHeight=this.realWidth=0,this.previousWidth=this.previousHeight=NaN);a.remove()}},destroy:function(){this.chartDiv.innerHTML="";this.clearTimeOuts();this.legend&&this.legend.destroy()},clearTimeOuts:function(){var a=this.timeOuts;if(a){var e;for(e=0;e<a.length;e++){clearTimeout(a[e])}}this.timeOuts=[]},clear:function(a){b.callMethod("clear",[this.chartScrollbar,this.scrollbarV,this.scrollbarH,this.chartCursor]);this.chartCursor=this.scrollbarH=this.scrollbarV=this.chartScrollbar=null;this.clearTimeOuts();this.container&&(this.container.remove(this.chartDiv),this.container.remove(this.legendDiv));a||b.removeChart(this);if(a=this.div){for(;a.firstChild;){a.removeChild(a.firstChild)}}this.legend&&this.legend.destroy()},setMouseCursor:function(a){"auto"==a&&b.isNN&&(a="default");this.chartDiv.style.cursor=a;this.legendDiv.style.cursor=a},redrawLabels:function(){this.labels=[];var a=this.allLabels;this.createLabelsSet();var e;for(e=0;e<a.length;e++){this.drawLabel(a[e])}},drawLabel:function(m){if(this.container&&!1!==m.enabled){m=b.processObject(m,b.Label,this.theme);var u=m.y,a=m.text,c=m.align,g=m.size,e=m.color,f=m.rotation,h=m.alpha,k=m.bold,l=b.toCoordinate(m.x,this.realWidth),u=b.toCoordinate(u,this.realHeight);l||(l=0);u||(u=0);void 0===e&&(e=this.color);isNaN(g)&&(g=this.fontSize);c||(c="start");"left"==c&&(c="start");"right"==c&&(c="end");"center"==c&&(c="middle",f?u=this.realHeight-u+u/2:l=this.realWidth/2-l);void 0===h&&(h=1);void 0===f&&(f=0);u+=g/2;a=b.text(this.container,a,e,this.fontFamily,g,c,k,h);a.translate(l,u);b.setCN(this,a,"label");m.id&&b.setCN(this,a,"label-"+m.id);0!==f&&a.rotate(f);m.url?(a.setAttr("cursor","pointer"),a.click(function(){b.getURL(m.url)})):a.node.style.pointerEvents="none";this.labelsSet.push(a);this.labels.push(a)}},addLabel:function(m,u,a,d,c,e,f,g,k,l){m={x:m,y:u,text:a,align:d,size:c,color:e,alpha:g,rotation:f,bold:k,url:l,enabled:!0};this.container&&this.drawLabel(m);this.allLabels.push(m)},clearLabels:function(){var a=this.labels,e;for(e=a.length-1;0<=e;e--){a[e].remove()}this.labels=[];this.allLabels=[]},updateHeight:function(){var c=this.divRealHeight,g=this.legend;if(g){var a=this.legendDiv.offsetHeight,g=g.position;if("top"==g||"bottom"==g){c-=a;if(0>c||isNaN(c)){c=0}this.chartDiv.style.height=c+"px"}}return c},updateWidth:function(){var f=this.divRealWidth,g=this.divRealHeight,o=this.legend;if(o){var c=this.legendDiv,a=c.offsetWidth;isNaN(o.width)||(a=o.width);o.ieW&&(a=o.ieW);var d=c.offsetHeight,c=c.style,e=this.chartDiv.style,o=o.position;if("right"==o||"left"==o){f-=a;if(0>f||isNaN(f)){f=0}e.width=f+"px";"left"==o?(e.left=a+"px",c.left="0px"):(e.left="0px",c.left=f+"px");g>d&&(c.top=(g-d)/2+"px")}}return f},getTitleHeight:function(){this.drawTitles(!0);return this.titleHeight},addTitle:function(e,k,a,d,c){isNaN(k)&&(k=this.fontSize+2);e={text:e,size:k,color:a,alpha:d,bold:c,enabled:!0};this.titles.push(e);return e},handleWheel:function(a){var e=0;a||(a=window.event);a.wheelDelta?e=a.wheelDelta/120:a.detail&&(e=-a.detail/3);e&&this.handleWheelReal(e,a.shiftKey);a.preventDefault&&a.preventDefault()},handleWheelReal:function(){},addListeners:function(){var a=this,e=a.chartDiv;document.addEventListener?(a.panEventsEnabled&&(e.style.msTouchAction="none"),"ontouchstart" in document.documentElement&&(e.addEventListener("touchstart",function(c){a.handleTouchStart.call(a,c)},!0),e.addEventListener("touchmove",function(c){a.handleMouseMove.call(a,c)},!0),e.addEventListener("touchend",function(c){a.handleTouchEnd.call(a,c)},!0)),e.addEventListener("mousedown",function(c){a.mouseIsOver=!0;a.handleMouseMove.call(a,c);a.handleMouseDown.call(a,c)},!0),e.addEventListener("mouseover",function(c){a.handleMouseOver.call(a,c)},!0),e.addEventListener("mouseout",function(c){a.handleMouseOut.call(a,c)},!0)):(e.attachEvent("onmousedown",function(c){a.handleMouseDown.call(a,c)}),e.attachEvent("onmouseover",function(c){a.handleMouseOver.call(a,c)}),e.attachEvent("onmouseout",function(c){a.handleMouseOut.call(a,c)}))},dispDUpd:function(){if(!this.skipEvents){var a;this.dispatchDataUpdated&&(this.dispatchDataUpdated=!1,a="dataUpdated",this.fire(a,{type:a,chart:this}));this.chartCreated||(this.chartCreated=!0,a="init",this.fire(a,{type:a,chart:this}));this.chartRendered||(a="rendered",this.fire(a,{type:a,chart:this}),this.chartRendered=!0);a="drawn";this.fire(a,{type:a,chart:this})}this.skipEvents=!1},validateSize:function(){var c=this;c.premeasure();c.checkDisplay();if(c.divRealWidth!=c.previousWidth||c.divRealHeight!=c.previousHeight){var g=c.legend;if(0<c.realWidth&&0<c.realHeight){c.sizeChanged=!0;if(g){c.legendInitTO&&clearTimeout(c.legendInitTO);var a=setTimeout(function(){g.invalidateSize()},10);c.timeOuts.push(a);c.legendInitTO=a}"xy"!=c.type?c.marginsUpdated=!1:(c.marginsUpdated=!0,c.selfZoom=!0);clearTimeout(c.initTO);a=setTimeout(function(){c.initChart()},10);c.timeOuts.push(a);c.initTO=a}c.fire("resized",{type:"resized",chart:c});c.renderFix();g&&g.renderFix&&g.renderFix();c.previousHeight=c.divRealHeight;c.previousWidth=c.divRealWidth}},invalidateSize:function(){this.previousHeight=this.previousWidth=NaN;this.invalidateSizeReal()},invalidateSizeReal:function(){var a=this;a.marginsUpdated=!1;clearTimeout(a.validateTO);var e=setTimeout(function(){a.validateSize()},5);a.timeOuts.push(e);a.validateTO=e},validateData:function(a){this.chartCreated&&(this.dataChanged=!0,this.marginsUpdated=!1,this.initChart(a))},validateNow:function(a,e){this.initTO&&clearTimeout(this.initTO);a&&(this.dataChanged=!0);this.skipEvents=e;this.chartRendered=!1;this.write(this.div)},showItem:function(a){a.hidden=!1;this.initChart()},hideItem:function(a){a.hidden=!0;this.initChart()},hideBalloon:function(){var a=this;clearTimeout(a.hoverInt);clearTimeout(a.balloonTO);a.hoverInt=setTimeout(function(){a.hideBalloonReal.call(a)},a.hideBalloonTime)},cleanChart:function(){},hideBalloonReal:function(){var a=this.balloon;a&&a.hide()},showBalloon:function(f,m,a,d,c){var e=this;clearTimeout(e.balloonTO);clearTimeout(e.hoverInt);e.balloonTO=setTimeout(function(){e.showBalloonReal.call(e,f,m,a,d,c)},1)},showBalloonReal:function(f,m,a,d,c){this.handleMouseMove();var e=this.balloon;e.enabled&&(e.followCursor(!1),e.changeColor(m),!a||e.fixedPosition?(e.setPosition(d,c),e.followCursor(!1)):e.followCursor(!0),f&&e.showBalloon(f))},handleMouseOver:function(){this.outTO&&clearTimeout(this.outTO);b.resetMouseOver();this.mouseIsOver=!0},handleMouseOut:function(){var a=this;a.outTO&&clearTimeout(a.outTO);a.outTO=setTimeout(function(){a.handleMouseOutReal()},10)},handleMouseOutReal:function(){b.resetMouseOver();this.mouseIsOver=!1},handleMouseMove:function(a){a||(a=window.event);if(a){if(a.touches&&(a=a.touches.item(0),!a)){return}this.boundingRect&&a.clientX&&(this.mouseX=a.clientX-this.boundingRect.left,this.mouseY=a.clientY-this.boundingRect.top)}},handleTouchStart:function(a){this.handleMouseMove(a);this.handleMouseDown(a)},handleTouchEnd:function(a){this.handleMouseMove(a);b.resetMouseOver();this.handleReleaseOutside(a)},handleReleaseOutside:function(){},handleMouseDown:function(a){b.resetMouseOver();this.mouseIsOver=!0;a&&a.preventDefault&&(this.panEventsEnabled?a.preventDefault():a.touches||a.preventDefault())},addLegend:function(c,g){c=b.processObject(c,b.AmLegend,this.theme);c.divId=g;c.ieW=0;var a;a="object"!=typeof g&&g?document.getElementById(g):g;this.legend=c;c.chart=this;a?(c.div=a,c.position="outside",c.autoMargins=!1):c.div=this.legendDiv;return c},removeLegend:function(){this.legend=void 0;this.legendDiv.innerHTML=""},handleResize:function(){(b.isPercents(this.width)||b.isPercents(this.height))&&this.invalidateSizeReal();this.renderFix()},renderFix:function(){if(!b.VML){var a=this.container;a&&a.renderFix()}},getSVG:function(){if(b.hasSVG){return this.container}},animate:function(g,h,o,a,f,c,e){g["an_"+h]&&b.removeFromArray(this.animations,g["an_"+h]);o={obj:g,frame:0,attribute:h,from:o,to:a,time:f,effect:c,suffix:e};g["an_"+h]=o;this.animations.push(o);return o},setLegendData:function(a){var e=this.legend;e&&e.setData(a)},stopAnim:function(a){b.removeFromArray(this.animations,a)},updateAnimations:function(){var f;this.container&&this.container.update();if(this.animations){for(f=this.animations.length-1;0<=f;f--){var k=this.animations[f],g=1000*k.time/b.updateRate,h=k.frame+1,c=k.obj,q=k.attribute;if(h<=g){k.frame++;var a=Number(k.from),e=Number(k.to)-a,g=b[k.effect](0,h,a,e,g);0===e?(this.animations.splice(f,1),c.node.style[q]=Number(k.to)+k.suffix):c.node.style[q]=g+k.suffix}else{c.node.style[q]=Number(k.to)+k.suffix,this.animations.splice(f,1)}}}},update:function(){this.updateAnimations()},inIframe:function(){try{return window.self!==window.top}catch(a){return !0}},brr:function(){var m="amcharts.com",u=window.location.hostname.split("."),a;2<=u.length&&(a=u[u.length-2]+"."+u[u.length-1]);this.amLink&&(u=this.amLink.parentNode)&&u.removeChild(this.amLink);u=this.creditsPosition;if(a!=m||!0===this.inIframe()){var m="http://www."+m,d=a=0,c=this.realWidth,e=this.realHeight,f=this.type;if("serial"==f||"xy"==f||"gantt"==f){a=this.marginLeftReal,d=this.marginTopReal,c=a+this.plotAreaWidth,e=d+this.plotAreaHeight}var f=m+"/javascript-charts/",g="JavaScript charts",k="";"ammap"==this.product&&(f=m+"/javascript-maps/",g="Interactive JavaScript maps",k="JS map by amCharts");m=document.createElement("a");k=document.createTextNode(k);m.setAttribute("href",f);m.setAttribute("title",g);m.appendChild(k);this.chartDiv.appendChild(m);this.amLink=m;f=m.style;f.position="absolute";f.textDecoration="none";f.color=this.color;f.fontFamily=this.fontFamily;f.fontSize=this.fontSize+"px";f.opacity=0.7;f.display="block";var g=m.offsetWidth,m=m.offsetHeight,k=5+a,l=d+5;"bottom-left"==u&&(k=5+a,l=e-m-3);"bottom-right"==u&&(k=c-g-5,l=e-m-3);"top-right"==u&&(k=c-g-5,l=d+5);f.left=k+"px";f.top=l+"px"}}});b.Slice=b.Class({construct:function(){}});b.SerialDataItem=b.Class({construct:function(){}});b.GraphDataItem=b.Class({construct:function(){}});b.Guide=b.Class({construct:function(a){this.cname="Guide";b.applyTheme(this,a,this.cname)}});b.Title=b.Class({construct:function(a){this.cname="Title";b.applyTheme(this,a,this.cname)}});b.Label=b.Class({construct:function(a){this.cname="Label";b.applyTheme(this,a,this.cname)}})})();(function(){var b=window.AmCharts;b.AmGraph=b.Class({construct:function(a){this.cname="AmGraph";this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.type="line";this.stackable=!0;this.columnCount=1;this.columnIndex=0;this.centerCustomBullets=this.showBalloon=!0;this.maxBulletSize=50;this.minBulletSize=4;this.balloonText="[[value]]";this.hidden=this.scrollbar=this.animationPlayed=!1;this.pointPosition="middle";this.depthCount=1;this.includeInMinMax=!0;this.negativeBase=0;this.visibleInLegend=!0;this.showAllValueLabels=!1;this.showBulletsAt=this.showBalloonAt="close";this.lineThickness=1;this.dashLength=0;this.connect=!0;this.lineAlpha=1;this.bullet="none";this.bulletBorderThickness=2;this.bulletBorderAlpha=0;this.bulletAlpha=1;this.bulletSize=8;this.cornerRadiusTop=this.hideBulletsCount=this.bulletOffset=0;this.cursorBulletAlpha=1;this.gradientOrientation="vertical";this.dy=this.dx=0;this.periodValue="";this.clustered=!0;this.periodSpan=1;this.y=this.x=0;this.switchable=!0;this.tcc=this.minDistance=1;this.labelRotation=0;this.labelAnchor="auto";this.labelOffset=3;this.bcn="graph-";this.dateFormat="MMM DD, YYYY";b.applyTheme(this,a,this.cname)},draw:function(){var g=this.chart,h=g.type;isNaN(this.precision)||(this.numberFormatter?this.numberFormatter.precision=this.precision:this.numberFormatter={precision:this.precision,decimalSeparator:g.decimalSeparator,thousandsSeparator:g.thousandsSeparator});var o=g.container;this.container=o;this.destroy();var a=o.set(),f=o.set();this.behindColumns?(g.graphsBehindSet.push(a),g.bulletBehindSet.push(f)):(g.graphsSet.push(a),g.bulletSet.push(f));var c=this.bulletAxis;b.isString(c)&&(this.bulletAxis=g.getValueAxisById(c));this.bulletSet=f;if(!this.scrollbar){var c=g.marginLeftReal,e=g.marginTopReal;a.translate(c,e);f.translate(c,e)}o=o.set();b.remove(this.columnsSet);a.push(o);this.set=a;b.setCN(g,a,"graph-"+this.type);b.setCN(g,a,"graph-"+this.id);b.setCN(g,f,"graph-"+this.type);b.setCN(g,f,"graph-"+this.id);this.columnsSet=o;this.columnsArray=[];this.ownColumns=[];this.allBullets=[];this.animationArray=[];a=this.labelPosition;a||(f=this.valueAxis.stackType,a="top","column"==this.type&&(g.rotate&&(a="right"),"100%"==f||"regular"==f)&&(a="middle"),this.labelPosition=a);b.ifArray(this.data)&&(g=!1,"xy"==h?this.xAxis.axisCreated&&this.yAxis.axisCreated&&(g=!0):this.valueAxis.axisCreated&&(g=!0),!this.hidden&&g&&this.createGraph())},createGraph:function(){var a=this,e=a.chart;a.startAlpha=e.startAlpha;a.seqAn=e.sequencedAnimation;a.baseCoord=a.valueAxis.baseCoord;void 0===a.fillAlphas&&(a.fillAlphas=0);a.bulletColorR=a.bulletColor;void 0===a.bulletColorR&&(a.bulletColorR=a.lineColorR,a.bulletColorNegative=a.negativeLineColor);void 0===a.bulletAlpha&&(a.bulletAlpha=a.lineAlpha);e=e.type;"gantt"==e&&(e="serial");clearTimeout(a.playedTO);if(!isNaN(a.valueAxis.min)&&!isNaN(a.valueAxis.max)){switch(e){case"serial":a.categoryAxis&&(a.createSerialGraph(),"candlestick"==a.type&&1>a.valueAxis.minMaxMultiplier&&a.positiveClip(a.set));break;case"radar":a.createRadarGraph();break;case"xy":a.createXYGraph(),a.positiveClip(a.set)}a.playedTO=setTimeout(function(){a.setAnimationPlayed.call(a)},500*a.chart.startDuration)}},setAnimationPlayed:function(){this.animationPlayed=!0},createXYGraph:function(){var m=[],u=[],a=this.xAxis,d=this.yAxis;this.pmh=d.viH+1;this.pmw=a.viW+1;this.pmy=this.pmx=0;var c;for(c=this.start;c<=this.end;c++){var e=this.data[c].axes[a.id].graphs[this.id],f=e.values,g=f.x,k=f.y,f=a.getCoordinate(g),l=d.getCoordinate(k);!isNaN(g)&&!isNaN(k)&&(m.push(f),u.push(l),e.x=f,e.y=l,g=this.createBullet(e,f,l,c),k=this.labelText)&&(e=this.createLabel(e,f,l,k),this.positionLabel(f,l,e,g),this.allBullets.push(e))}this.drawLineGraph(m,u);this.launchAnimation()},createRadarGraph:function(){var u=this.valueAxis.stackType,I=[],a=[],d=[],c=[],l,m,n,p,r;for(r=this.start;r<=this.end;r++){var A=this.data[r].axes[this.valueAxis.id].graphs[this.id],f,g;"none"==u||"3d"==u?f=A.values.value:(f=A.values.close,g=A.values.open);if(isNaN(f)){this.connect||(this.drawLineGraph(I,a,d,c),I=[],a=[],d=[],c=[])}else{var k=this.y-(this.valueAxis.getCoordinate(f)-this.height),k=k*this.valueAxis.rMultiplier,t=180-360/(this.end-this.start+1)*r;"middle"==this.valueAxis.pointPosition&&(t-=180/(this.end-this.start+1));f=k*Math.sin(t/180*Math.PI);k*=Math.cos(t/180*Math.PI);I.push(f);a.push(k);if(!isNaN(g)){var q=this.y-(this.valueAxis.getCoordinate(g)-this.height),q=q*this.valueAxis.rMultiplier,e=q*Math.sin(t/180*Math.PI),t=q*Math.cos(t/180*Math.PI);d.push(e);c.push(t);isNaN(n)&&(n=e);isNaN(p)&&(p=t)}t=this.createBullet(A,f,k,r);if(e=this.labelText){A=this.createLabel(A,f,k,e),this.positionLabel(f,k,A,t),this.allBullets.push(A)}isNaN(l)&&(l=f);isNaN(m)&&(m=k)}}I.push(l);a.push(m);isNaN(n)||(d.push(n),c.push(p));this.drawLineGraph(I,a,d,c);this.launchAnimation()},positionLabel:function(a,c,d,m){var f="middle",n=!1,p=this.labelPosition,q=d.getBBox();if(m){var r=m.graphDataItem,G=this.chart.rotate,e=r.isNegative,g=this.chart;c-=q.height/4/2;switch(p){case"top":p=G?"top":e?"bottom":"top";break;case"right":p=G?e?"left":"right":"right";break;case"bottom":p=G?"bottom":e?"top":"bottom";break;case"left":p=G?e?"right":"left":"left"}var k=r.columnGraphics,l=0,u=0;k&&(l=k.x,u=k.y);var t=this.labelOffset;switch(p){case"top":c-=m.size/2+q.height/2+t;break;case"right":f="start";a+=m.size/2+t;break;case"bottom":c+=m.size/2+q.height/2+t;break;case"left":f="end";a-=m.size/2+t;break;case"inside":"column"==this.type&&(n=!0,G?e?(f="end",a=l-3-t):(f="start",a=l+3+t):c=e?u+7+t:u-10-t);break;case"middle":"column"==this.type&&(n=!0,G?a-=(a-l)/2+t-3:c-=(c-u)/2+t-3)}"auto"!=this.labelAnchor&&(f=this.labelAnchor);d.attr({"text-anchor":f});this.labelRotation&&d.rotate(this.labelRotation);d.translate(a,c);q=d.getBBox();!this.showAllValueLabels&&k&&n&&(q.height>r.columnHeight||q.width>r.columnWidth)&&(d.remove(),d=!1);if(d&&("serial"==g.type||"gantt"==g.type)){if(G){if(0>c||c>this.height){d.remove(),d=!1}}else{if(0>a||a>this.width){d.remove(),d=!1}}}return d}},getGradRotation:function(){var a=270;"horizontal"==this.gradientOrientation&&(a=0);return this.gradientRotation=a},createSerialGraph:function(){this.dashLengthSwitched=this.fillColorsSwitched=this.lineColorSwitched=void 0;var cP=this.chart,cQ=this.id,cS=this.index,cU=this.data,c3=this.chart.container,cY=this.valueAxis,c0=this.type,c4=this.columnWidthReal,c5=this.showBulletsAt;isNaN(this.columnWidth)||(c4=this.columnWidth);isNaN(c4)&&(c4=0.8);var S=this.useNegativeColorIfDown,T=this.width,U=this.height,W=this.y,X=this.rotate,aa=this.columnCount,Z=b.toCoordinate(this.cornerRadiusTop,c4/2),E=this.connect,a1=[],ab=[],ac,a3,F,H,I=this.chart.graphs.length,dc,J=this.dx/this.tcc,dm=this.dy/this.tcc,da=cY.stackType,cp=this.start,e=this.end,dp=this.scrollbar,cx="graph-column-";dp&&(cx="scrollbar-graph-column-");var bv=this.categoryAxis,cT=this.baseCoord,cq=this.negativeBase,cW=this.columnIndex,p=this.lineThickness,co=this.lineAlpha,di=this.lineColorR,L=this.dashLength,a8=this.set,dw,c7=this.getGradRotation(),cc=this.chart.columnSpacing,cr=bv.cellWidth,cL=(cr*c4-aa)/aa;cc>cL&&(cc=cL);var P,a0,O,dr=U+1,cK=T+1,cv=0,dH=0,l,dk,f,c8,dx=this.fillColorsR,a5=this.negativeFillColors,ch=this.negativeLineColor,V=this.fillAlphas,bc=this.negativeFillAlphas;"object"==typeof V&&(V=V[0]);"object"==typeof bc&&(bc=bc[0]);var dt=cY.getCoordinate(cY.min);cY.logarithmic&&(dt=cY.getCoordinate(cY.minReal));this.minCoord=dt;this.resetBullet&&(this.bullet="none");if(!(dp||"line"!=c0&&"smoothedLine"!=c0&&"step"!=c0||(1==cU.length&&"step"!=c0&&"none"==this.bullet&&(this.bullet="round",this.resetBullet=!0),!a5&&void 0==ch||S))){var cO=cq;cO>cY.max&&(cO=cY.max);cO<cY.min&&(cO=cY.min);cY.logarithmic&&(cO=cY.minReal);var a7=cY.getCoordinate(cO),A=cY.getCoordinate(cY.max);X?(dr=U,cK=Math.abs(A-a7)+1,l=U,dk=Math.abs(dt-a7)+1,c8=dH=0,cY.reversed?(cv=0,f=a7):(cv=a7,f=0)):(cK=T,dr=Math.abs(A-a7)+1,dk=T,l=Math.abs(dt-a7)+1,f=cv=0,cY.reversed?(c8=W,dH=a7):c8=a7+1)}var ca=Math.round;this.pmx=ca(cv);this.pmy=ca(dH);this.pmh=ca(dr);this.pmw=ca(cK);this.nmx=ca(f);this.nmy=ca(c8);this.nmh=ca(l);this.nmw=ca(dk);b.isModern||(this.nmy=this.nmx=0,this.nmh=this.height);this.clustered||(aa=1);c4="column"==c0?(cr*c4-cc*(aa-1))/aa:cr*c4;1>c4&&(c4=1);var cM=this.fixedColumnWidth;isNaN(cM)||(c4=cM);var de;if("line"==c0||"step"==c0||"smoothedLine"==c0){if(0<cp){for(de=cp-1;-1<de;de--){if(P=cU[de],a0=P.axes[cY.id].graphs[cQ],O=a0.values.value,!isNaN(O)){cp=de;break}}if(this.lineColorField){for(de=cp;-1<de;de--){if(P=cU[de],a0=P.axes[cY.id].graphs[cQ],a0.lineColor){this.bulletColorSwitched=this.lineColorSwitched=a0.lineColor;break}}}if(this.fillColorsField){for(de=cp;-1<de;de--){if(P=cU[de],a0=P.axes[cY.id].graphs[cQ],a0.fillColors){this.fillColorsSwitched=a0.fillColors;break}}}if(this.dashLengthField){for(de=cp;-1<de;de--){if(P=cU[de],a0=P.axes[cY.id].graphs[cQ],!isNaN(a0.dashLength)){this.dashLengthSwitched=a0.dashLength;break}}}}if(e<cU.length-1){for(de=e+1;de<cU.length;de++){if(P=cU[de],a0=P.axes[cY.id].graphs[cQ],O=a0.values.value,!isNaN(O)){e=de;break}}}}e<cU.length-1&&e++;var cg=[],ck=[],a=!1;if("line"==c0||"step"==c0||"smoothedLine"==c0){if(this.stackable&&"regular"==da||"100%"==da||this.fillToGraph){a=!0}}var a6=this.noStepRisers,dB=-1000,cf=-1000,cw=this.minDistance,m=!0,g=!1;for(de=cp;de<=e;de++){P=cU[de];a0=P.axes[cY.id].graphs[cQ];a0.index=de;var df,dn=NaN;if(S&&void 0==this.openField){for(var dF=de+1;dF<cU.length&&(!cU[dF]||!(df=cU[de+1].axes[cY.id].graphs[cQ])||!df.values||(dn=df.values.value,isNaN(dn)));dF++){}}var cm,ds,dj,dA,by=NaN,N=NaN,K=NaN,dl=NaN,dg=NaN,dy=NaN,cy=NaN,dG=NaN,cX=NaN,bs=NaN,t=NaN,cd=NaN,ct=NaN,cu=NaN,cn=NaN,cN=NaN,x=NaN,a2=void 0,z=dx,G=V,du=di,dE,c1,B=this.proCandlesticks,cV=this.topRadius,C=this.pattern;void 0!=a0.pattern&&(C=a0.pattern);isNaN(a0.alpha)||(G=a0.alpha);isNaN(a0.dashLength)||(L=a0.dashLength);var dC=a0.values;cY.recalculateToPercents&&(dC=a0.percents);if(dC){cu=this.stackable&&"none"!=da&&"3d"!=da?dC.close:dC.value;if("candlestick"==c0||"ohlc"==c0){cu=dC.close,cN=dC.low,cy=cY.getCoordinate(cN),cn=dC.high,cX=cY.getCoordinate(cn)}x=dC.open;K=cY.getCoordinate(cu);isNaN(x)||(dg=cY.getCoordinate(x),S&&(dn=x,x=dg=NaN));S&&(void 0==this.openField?df&&(df.isNegative=dn<cu?!0:!1,isNaN(dn)&&(a0.isNegative=!m)):a0.isNegative=dn>cu?!0:!1);if(!dp){switch(this.showBalloonAt){case"close":a0.y=K;break;case"open":a0.y=dg;break;case"high":a0.y=cX;break;case"low":a0.y=cy}}var by=P.x[bv.id],bw=this.periodSpan-1,k=Math.floor(cr/2)+Math.floor(bw*cr/2),db=k,R=0;"left"==this.stepDirection&&(R=(2*cr+bw*cr)/2,by-=R);"center"==this.stepDirection&&(R=cr/2,by-=R);"start"==this.pointPosition&&(by-=cr/2+Math.floor(bw*cr/2),k=0,db=Math.floor(cr)+Math.floor(bw*cr));"end"==this.pointPosition&&(by+=cr/2+Math.floor(bw*cr/2),k=Math.floor(cr)+Math.floor(bw*cr),db=0);if(a6){var bu=this.columnWidth;isNaN(bu)||(k*=bu,db*=bu)}dp||(a0.x=by);-100000>by&&(by=-100000);by>T+100000&&(by=T+100000);X?(N=K,dl=dg,dg=K=by,isNaN(x)&&!this.fillToGraph&&(dl=cT),dy=cy,dG=cX):(dl=N=by,isNaN(x)&&!this.fillToGraph&&(dg=cT));if(!B&&cu<x||B&&cu<dw){a0.isNegative=!0,a5&&(z=a5),bc&&(G=bc),void 0!=ch&&(du=ch)}g=!1;isNaN(cu)||(S?cu>dn?(m&&(g=!0),m=!1):(m||(g=!0),m=!0):a0.isNegative=cu<cq?!0:!1,dw=cu);var c=!1;dp&&cP.chartScrollbar.ignoreCustomColors&&(c=!0);c||(void 0!=a0.color&&(z=a0.color),a0.fillColors&&(z=a0.fillColors));switch(c0){case"line":if(isNaN(cu)){E||(this.drawLineGraph(a1,ab,cg,ck),a1=[],ab=[],cg=[],ck=[])}else{if(Math.abs(N-dB)>=cw||Math.abs(K-cf)>=cw){a1.push(N),ab.push(K),dB=N,cf=K}bs=N;t=K;cd=N;ct=K;!a||isNaN(dg)||isNaN(dl)||(cg.push(dl),ck.push(dg));if(g||void 0!=a0.lineColor||void 0!=a0.fillColors||!isNaN(a0.dashLength)){this.drawLineGraph(a1,ab,cg,ck),a1=[N],ab=[K],cg=[],ck=[],!a||isNaN(dg)||isNaN(dl)||(cg.push(dl),ck.push(dg)),S?m?(this.lineColorSwitched=di,this.fillColorsSwitched=dx):(this.lineColorSwitched=ch,this.fillColorsSwitched=a5):(this.lineColorSwitched=a0.lineColor,this.fillColorsSwitched=a0.fillColors),this.dashLengthSwitched=a0.dashLength}a0.gap&&(this.drawLineGraph(a1,ab,cg,ck),a1=[],ab=[],cg=[],ck=[])}break;case"smoothedLine":if(isNaN(cu)){E||(this.drawSmoothedGraph(a1,ab,cg,ck),a1=[],ab=[],cg=[],ck=[])}else{if(Math.abs(N-dB)>=cw||Math.abs(K-cf)>=cw){a1.push(N),ab.push(K),dB=N,cf=K}bs=N;t=K;cd=N;ct=K;!a||isNaN(dg)||isNaN(dl)||(cg.push(dl),ck.push(dg));void 0==a0.lineColor&&void 0==a0.fillColors&&isNaN(a0.dashLength)||(this.drawSmoothedGraph(a1,ab,cg,ck),a1=[N],ab=[K],cg=[],ck=[],!a||isNaN(dg)||isNaN(dl)||(cg.push(dl),ck.push(dg)),this.lineColorSwitched=a0.lineColor,this.fillColorsSwitched=a0.fillColors,this.dashLengthSwitched=a0.dashLength);a0.gap&&(this.drawSmoothedGraph(a1,ab,cg,ck),a1=[],ab=[],cg=[],ck=[])}break;case"step":if(!isNaN(cu)){X?(isNaN(ac)||(a1.push(ac),ab.push(K-k)),ab.push(K-k),a1.push(N),ab.push(K+db),a1.push(N),!a||isNaN(dg)||isNaN(dl)||(isNaN(F)||(cg.push(F),ck.push(dg-k)),cg.push(dl),ck.push(dg-k),cg.push(dl),ck.push(dg+db))):(isNaN(a3)||(ab.push(a3),a1.push(N-k)),a1.push(N-k),ab.push(K),a1.push(N+db),ab.push(K),!a||isNaN(dg)||isNaN(dl)||(isNaN(H)||(cg.push(dl-k),ck.push(H)),cg.push(dl-k),ck.push(dg),cg.push(dl+db),ck.push(dg)));ac=N;a3=K;F=dl;H=dg;bs=N;t=K;cd=N;ct=K;if(g||void 0!=a0.lineColor||void 0!=a0.fillColors||!isNaN(a0.dashLength)){var dh=a1[a1.length-2],D=ab[ab.length-2];a1.pop();ab.pop();this.drawLineGraph(a1,ab,cg,ck);a1=[dh];ab=[D];X?(ab.push(K+db),a1.push(N)):(a1.push(N+db),ab.push(K));cg=[];ck=[];this.lineColorSwitched=a0.lineColor;this.fillColorsSwitched=a0.fillColors;this.dashLengthSwitched=a0.dashLength;S&&(m?(this.lineColorSwitched=di,this.fillColorsSwitched=dx):(this.lineColorSwitched=ch,this.fillColorsSwitched=a5))}if(a6||a0.gap){ac=a3=NaN,this.drawLineGraph(a1,ab,cg,ck),a1=[],ab=[],cg=[],ck=[]}}else{if(!E){if(1>=this.periodSpan||1<this.periodSpan&&N-ac>k+db){ac=a3=NaN}this.drawLineGraph(a1,ab,cg,ck);a1=[];ab=[];cg=[];ck=[]}}break;case"column":dE=du;void 0!=a0.lineColor&&(dE=a0.lineColor);if(!isNaN(cu)){S||(a0.isNegative=cu<cq?!0:!1);a0.isNegative&&(a5&&(z=a5),void 0!=ch&&(dE=ch));var c6=cY.min,dq=cY.max;if(!(cu<c6&&x<c6||cu>dq&&x>dq)){var cl;if(X){"3d"==da?(ds=K-(aa/2-this.depthCount+1)*(c4+cc)+cc/2+dm*cW,cm=dl+J*cW,cl=cW):(ds=Math.floor(K-(aa/2-cW)*(c4+cc)+cc/2),cm=dl,cl=0);dj=c4;bs=N;t=ds+c4/2;isNaN(dl)||dl>N&&!a0.isNegative&&(bs=dl);cd=N;ct=ds+c4/2;ds+dj>U+cl*dm&&(dj=U-ds+cl*dm);ds<cl*dm&&(dj+=ds,ds=cl*dm);dA=N-dl;var r=cm;cm=b.fitToBounds(cm,0,T);dA+=r-cm;dA=b.fitToBounds(dA,-cm,T-cm+J*cW);ds<U&&0<dj&&(a2=new b.Cuboid(c3,dA,dj,J-cP.d3x,dm-cP.d3y,z,G,p,dE,co,c7,Z,X,L,C,cV,cx),a0.columnWidth=Math.abs(dA),a0.columnHeight=Math.abs(dj))}else{"3d"==da?(cm=N-(aa/2-this.depthCount+1)*(c4+cc)+cc/2+J*cW,ds=dg+dm*cW,cl=cW):(cm=N-(aa/2-cW)*(c4+cc)+cc/2,ds=dg,cl=0);dj=c4;bs=cm+c4/2;t=K;isNaN(dg)||dg<K&&!a0.isNegative&&(t=dg);cd=cm+c4/2;ct=K;cm+dj>T+cl*J&&(dj=T-cm+cl*J);cm<cl*J&&(dj+=cm-cl*J,cm=cl*J);dA=K-dg;var c9=ds;ds=b.fitToBounds(ds,this.dy,U);dA+=c9-ds;dA=b.fitToBounds(dA,-ds+dm*cW,U-ds);cm<T+cW*J&&0<dj&&(this.showOnAxis&&(ds-=dm/2),a2=new b.Cuboid(c3,dj,dA,J-cP.d3x,dm-cP.d3y,z,G,p,dE,this.lineAlpha,c7,Z,X,L,C,cV,cx),a0.columnHeight=Math.abs(dA),a0.columnWidth=Math.abs(dj))}}if(a2&&(c1=a2.set,b.setCN(cP,a2.set,"graph-"+this.type),b.setCN(cP,a2.set,"graph-"+this.id),a0.className&&b.setCN(cP,a2.set,a0.className,!0),a0.columnGraphics=c1,c1.translate(cm,ds),this.columnsSet.push(c1),(a0.url||this.showHandOnHover)&&c1.setAttr("cursor","pointer"),!dp)){"none"==da&&(dc=X?(this.end+1-de)*I-cS:I*de+cS);"3d"==da&&(X?(dc=(this.end+1-de)*I-cS-1000*this.depthCount,bs+=J*this.columnIndex,cd+=J*this.columnIndex,a0.y+=J*this.columnIndex):(dc=(I-cS)*(de+1)+1000*this.depthCount,t+=dm*this.columnIndex,ct+=dm*this.columnIndex,a0.y+=dm*this.columnIndex));if("regular"==da||"100%"==da){dc=X?0<dC.value?(this.end+1-de)*I+cS:(this.end+1-de)*I-cS:0<dC.value?I*de+cS:I*de-cS}this.columnsArray.push({column:a2,depth:dc});a0.x=X?ds+dj/2:cm+dj/2;this.ownColumns.push(a2);this.animateColumns(a2,de,N,dl,K,dg);this.addListeners(c1,a0)}}break;case"candlestick":if(!isNaN(x)&&!isNaN(cu)){var v,q;dE=du;void 0!=a0.lineColor&&(dE=a0.lineColor);if(X){if(ds=K-c4/2,cm=dl,dj=c4,ds+dj>U&&(dj=U-ds),0>ds&&(dj+=ds,ds=0),ds<U&&0<dj){var u,dd;cu>x?(u=[N,dG],dd=[dl,dy]):(u=[dl,dG],dd=[N,dy]);!isNaN(dG)&&!isNaN(dy)&&K<U&&0<K&&(v=b.line(c3,u,[K,K],dE,co,p),q=b.line(c3,dd,[K,K],dE,co,p));dA=N-dl;a2=new b.Cuboid(c3,dA,dj,J,dm,z,V,p,dE,co,c7,Z,X,L,C,cV,cx)}}else{if(cm=N-c4/2,ds=dg+p/2,dj=c4,cm+dj>T&&(dj=T-cm),0>cm&&(dj+=cm,cm=0),dA=K-dg,cm<T&&0<dj){B&&cu>=x&&(G=0);var a2=new b.Cuboid(c3,dj,dA,J,dm,z,G,p,dE,co,c7,Z,X,L,C,cV,cx),dv,dD;cu>x?(dv=[K,cX],dD=[dg,cy]):(dv=[dg,cX],dD=[K,cy]);!isNaN(cX)&&!isNaN(cy)&&N<T&&0<N&&(v=b.line(c3,[N,N],dv,dE,co,p),q=b.line(c3,[N,N],dD,dE,co,p),b.setCN(cP,v,this.bcn+"line-high"),a0.className&&b.setCN(cP,v,a0.className,!0),b.setCN(cP,q,this.bcn+"line-low"),a0.className&&b.setCN(cP,q,a0.className,!0))}}a2&&(c1=a2.set,a0.columnGraphics=c1,a8.push(c1),c1.translate(cm,ds-p/2),(a0.url||this.showHandOnHover)&&c1.setAttr("cursor","pointer"),v&&(a8.push(v),a8.push(q)),bs=N,t=K,X?(ct=K,cd=N,"open"==c5&&(cd=dl),"high"==c5&&(cd=dG),"low"==c5&&(cd=dy)):(ct=K,"open"==c5&&(ct=dg),"high"==c5&&(ct=cX),"low"==c5&&(ct=cy),cd=N),dp||(a0.x=X?ds+dj/2:cm+dj/2,this.animateColumns(a2,de,N,dl,K,dg),this.addListeners(c1,a0)))}break;case"ohlc":if(!(isNaN(x)||isNaN(cn)||isNaN(cN)||isNaN(cu))){var dz=c3.set();a8.push(dz);cu<x&&(a0.isNegative=!0,void 0!=ch&&(du=ch));var bz,y,cz;if(X){var cj=K-c4/2,cj=b.fitToBounds(cj,0,U),cb=b.fitToBounds(K,0,U),cJ=K+c4/2,cJ=b.fitToBounds(cJ,0,U);y=b.line(c3,[dl,dl],[cj,cb],du,co,p,L);0<K&&K<U&&(bz=b.line(c3,[dy,dG],[K,K],du,co,p,L));cz=b.line(c3,[N,N],[cb,cJ],du,co,p,L);ct=K;cd=N;"open"==c5&&(cd=dl);"high"==c5&&(cd=dG);"low"==c5&&(cd=dy)}else{var cZ=N-c4/2,cZ=b.fitToBounds(cZ,0,T),cs=b.fitToBounds(N,0,T),bb=N+c4/2,bb=b.fitToBounds(bb,0,T);y=b.line(c3,[cZ,cs],[dg,dg],du,co,p,L);0<N&&N<T&&(bz=b.line(c3,[N,N],[cy,cX],du,co,p,L));cz=b.line(c3,[cs,bb],[K,K],du,co,p,L);ct=K;"open"==c5&&(ct=dg);"high"==c5&&(ct=cX);"low"==c5&&(ct=cy);cd=N}a8.push(y);a8.push(bz);a8.push(cz);b.setCN(cP,y,this.bcn+"stroke-open");b.setCN(cP,cz,this.bcn+"stroke-close");b.setCN(cP,bz,this.bcn+"stroke");a0.className&&b.setCN(cP,dz,a0.className,!0);bs=N;t=K}}if(!dp&&!isNaN(cu)){var cR=this.hideBulletsCount;if(this.end-this.start<=cR||0===cR){var M=this.createBullet(a0,cd,ct,de),bx=this.labelText;if(bx&&M){var n=this.createLabel(a0,cd,ct,bx);(n=this.positionLabel(bs,t,n,M,dj,dA))&&this.allBullets.push(n)}if("regular"==da||"100%"==da){var w=cY.totalText;if(w){var ce=this.createLabel(a0,0,0,w,cY.totalTextColor);this.allBullets.push(ce);var ci=ce.getBBox(),Y=ci.width,bt=ci.height,Q,c2,a4=cY.totalTextOffset,h=cY.totals[de];h&&h.remove();var ba=0;"column"!=c0&&(ba=this.bulletSize);X?(c2=K,Q=0>cu?N-Y/2-2-ba-a4:N+Y/2+3+ba+a4):(Q=N,c2=0>cu?K+bt/2+ba+a4:K-bt/2-3-ba-a4);ce.translate(Q,c2);cY.totals[de]=ce;X?(0>c2||c2>U)&&ce.remove():(0>Q||Q>T)&&ce.remove()}}}}}}if("line"==c0||"step"==c0||"smoothedLine"==c0){"smoothedLine"==c0?this.drawSmoothedGraph(a1,ab,cg,ck):this.drawLineGraph(a1,ab,cg,ck),dp||this.launchAnimation()}this.bulletsHidden&&this.hideBullets();this.customBulletsHidden&&this.hideCustomBullets()},animateColumns:function(e,i){var a=this,c=a.chart.startDuration;0<c&&!a.animationPlayed&&(a.seqAn?(e.set.hide(),a.animationArray.push(e),c=setTimeout(function(){a.animate.call(a)},c/(a.end-a.start+1)*(i-a.start)*1000),a.timeOuts.push(c)):a.animate(e))},createLabel:function(f,k,g,h,c){var q=this.chart,a=f.labelColor;a||(a=this.color);a||(a=q.color);c&&(a=c);c=this.fontSize;void 0===c&&(this.fontSize=c=q.fontSize);var e=this.labelFunction;h=q.formatString(h,f);h=b.cleanFromEmpty(h);e&&(h=e(f,h));f=b.text(this.container,h,a,q.fontFamily,c);f.node.style.pointerEvents="none";f.translate(k,g);this.bulletSet.push(f);return f},positiveClip:function(a){a.clipRect(this.pmx,this.pmy,this.pmw,this.pmh)},negativeClip:function(a){a.clipRect(this.nmx,this.nmy,this.nmw,this.nmh)},drawLineGraph:function(a,c,e,f){var m=this;if(1<a.length){var h=m.set,k=m.chart,n=m.container,p=n.set(),q=n.set();h.push(q);h.push(p);var t=m.lineAlpha,u=m.lineThickness,h=m.fillAlphas,g=m.lineColorR,l=m.negativeLineAlpha;isNaN(l)&&(l=t);var w=m.lineColorSwitched;w&&(g=w);var w=m.fillColorsR,r=m.fillColorsSwitched;r&&(w=r);var v=m.dashLength;(r=m.dashLengthSwitched)&&(v=r);var r=m.negativeLineColor,O=m.negativeFillColors,y=m.negativeFillAlphas,A=m.baseCoord;0!==m.negativeBase&&(A=m.valueAxis.getCoordinate(m.negativeBase),A>m.height&&(A=m.height),0>A&&(A=0));t=b.line(n,a,c,g,t,u,v,!1,!0);b.setCN(k,t,m.bcn+"stroke");p.push(t);p.click(function(d){m.handleGraphEvent(d,"clickGraph")}).mouseover(function(d){m.handleGraphEvent(d,"rollOverGraph")}).mouseout(function(d){m.handleGraphEvent(d,"rollOutGraph")});void 0===r||m.useNegativeColorIfDown||(u=b.line(n,a,c,r,l,u,v,!1,!0),b.setCN(k,u,m.bcn+"stroke"),b.setCN(k,u,m.bcn+"stroke-negative"),q.push(u));if(0<h||0<y){if(u=a.join(";").split(";"),l=c.join(";").split(";"),t=k.type,"serial"==t||"radar"==t?0<e.length?(e.reverse(),f.reverse(),u=a.concat(e),l=c.concat(f)):"radar"==t?(l.push(0),u.push(0)):m.rotate?(l.push(l[l.length-1]),u.push(A),l.push(l[0]),u.push(A),l.push(l[0]),u.push(u[0])):(u.push(u[u.length-1]),l.push(A),u.push(u[0]),l.push(A),u.push(a[0]),l.push(l[0])):"xy"==t&&(c=m.fillToAxis)&&(b.isString(c)&&(c=k.getValueAxisById(c)),"H"==c.orientation?(A="top"==c.position?0:c.viH,u.push(u[u.length-1]),l.push(A),u.push(u[0]),l.push(A),u.push(a[0]),l.push(l[0])):(A="left"==c.position?0:c.viW,l.push(l[l.length-1]),u.push(A),l.push(l[0]),u.push(A),l.push(l[0]),u.push(u[0]))),a=m.gradientRotation,0<h&&(c=b.polygon(n,u,l,w,h,1,"#000",0,a),c.pattern(m.pattern,NaN,k.path),b.setCN(k,c,m.bcn+"fill"),p.push(c)),O||void 0!==r){isNaN(y)&&(y=h),O||(O=r),n=b.polygon(n,u,l,O,y,1,"#000",0,a),b.setCN(k,n,m.bcn+"fill"),b.setCN(k,n,m.bcn+"fill-negative"),n.pattern(m.pattern,NaN,k.path),q.push(n),q.click(function(d){m.handleGraphEvent(d,"clickGraph")}).mouseover(function(d){m.handleGraphEvent(d,"rollOverGraph")}).mouseout(function(d){m.handleGraphEvent(d,"rollOutGraph")})}}m.applyMask(q,p)}},applyMask:function(c,g){var a=c.length();"serial"!=this.chart.type||this.scrollbar||(this.positiveClip(g),0<a&&this.negativeClip(c))},drawSmoothedGraph:function(a,c,f,g){if(1<a.length){var n=this.set,k=this.chart,m=this.container,p=m.set(),r=m.set();n.push(r);n.push(p);var t=this.lineAlpha,u=this.lineThickness,n=this.dashLength,e=this.fillAlphas,l=this.lineColorR,q=this.fillColorsR,y=this.negativeLineColor,v=this.negativeFillColors,h=this.negativeFillAlphas,M=this.baseCoord,A=this.lineColorSwitched;A&&(l=A);(A=this.fillColorsSwitched)&&(q=A);A=this.negativeLineAlpha;isNaN(A)&&(A=t);t=new b.Bezier(m,a,c,l,t,u,q,0,n);b.setCN(k,t,this.bcn+"stroke");p.push(t.path);void 0!==y&&(u=new b.Bezier(m,a,c,y,A,u,q,0,n),b.setCN(k,u,this.bcn+"stroke"),b.setCN(k,u,this.bcn+"stroke-negative"),r.push(u.path));0<e&&(t=a.join(";").split(";"),l=c.join(";").split(";"),u="",0<f.length?(f.push("M"),g.push("M"),f.reverse(),g.reverse(),t=a.concat(f),l=c.concat(g)):(this.rotate?(u+=" L"+M+","+c[c.length-1],u+=" L"+M+","+c[0]):(u+=" L"+a[a.length-1]+","+M,u+=" L"+a[0]+","+M),u+=" L"+a[0]+","+c[0]),f=new b.Bezier(m,t,l,NaN,0,0,q,e,n,u),b.setCN(k,f,this.bcn+"fill"),f.path.pattern(this.pattern,NaN,k.path),p.push(f.path),v||void 0!==y)&&(h||(h=e),v||(v=y),a=new b.Bezier(m,a,c,NaN,0,0,v,h,n,u),a.path.pattern(this.pattern,NaN,k.path),b.setCN(k,a,this.bcn+"fill"),b.setCN(k,a,this.bcn+"fill-negative"),r.push(a.path));this.applyMask(r,p)}},launchAnimation:function(){var e=this,i=e.chart.startDuration;if(0<i&&!e.animationPlayed){var a=e.set,c=e.bulletSet;b.VML||(a.attr({opacity:e.startAlpha}),c.attr({opacity:e.startAlpha}));a.hide();c.hide();e.seqAn?(i=setTimeout(function(){e.animateGraphs.call(e)},e.index*i*1000),e.timeOuts.push(i)):e.animateGraphs()}},animateGraphs:function(){var f=this.chart,m=this.set,a=this.bulletSet,d=this.x,c=this.y;m.show();a.show();var e=f.startDuration,f=f.startEffect;m&&(this.rotate?(m.translate(-1000,c),a.translate(-1000,c)):(m.translate(d,-1000),a.translate(d,-1000)),m.animate({opacity:1,translate:d+","+c},e,f),a.animate({opacity:1,translate:d+","+c},e,f))},animate:function(c){var g=this.chart,a=this.animationArray;!c&&0<a.length&&(c=a[0],a.shift());a=b[b.getEffect(g.startEffect)];g=g.startDuration;c&&(this.rotate?c.animateWidth(g,a):c.animateHeight(g,a),c.set.show())},legendKeyColor:function(){var a=this.legendColor,e=this.lineAlpha;void 0===a&&(a=this.lineColorR,0===e&&(e=this.fillColorsR)&&(a="object"==typeof e?e[0]:e));return a},legendKeyAlpha:function(){var a=this.legendAlpha;void 0===a&&(a=this.lineAlpha,this.fillAlphas>a&&(a=this.fillAlphas),0===a&&(a=this.bulletAlpha),0===a&&(a=1));return a},createBullet:function(a,c,e){if(!isNaN(c)&&!isNaN(e)){var g=this.chart,p=this.container,m=this.bulletOffset,n=this.bulletSize;isNaN(a.bulletSize)||(n=a.bulletSize);var q=a.values.value,r=this.maxValue,G=this.minValue,f=this.maxBulletSize,h=this.minBulletSize;isNaN(r)||(isNaN(q)||(n=(q-G)/(r-G)*(f-h)+h),G==r&&(n=f));r=n;this.bulletAxis&&(n=a.values.error,isNaN(n)||(q=n),n=this.bulletAxis.stepWidth*q);n<this.minBulletSize&&(n=this.minBulletSize);this.rotate?c=a.isNegative?c-m:c+m:e=a.isNegative?e+m:e-m;var k,h=this.bulletColorR;a.lineColor&&(this.bulletColorSwitched=a.lineColor);this.bulletColorSwitched&&(h=this.bulletColorSwitched);a.isNegative&&void 0!==this.bulletColorNegative&&(h=this.bulletColorNegative);void 0!==a.color&&(h=a.color);var l;"xy"==g.type&&this.valueField&&(l=this.pattern,a.pattern&&(l=a.pattern));m=this.bullet;a.bullet&&(m=a.bullet);var q=this.bulletBorderThickness,G=this.bulletBorderColorR,f=this.bulletBorderAlpha,u=this.bulletAlpha;G||(G=h);this.useLineColorForBulletBorder&&(G=this.lineColorR,this.lineColorSwitched&&(G=this.lineColorSwitched));var t=a.alpha;isNaN(t)||(u=t);if("none"!=this.bullet||a.bullet){k=b.bullet(p,m,n,h,u,q,G,f,r,0,l,g.path)}if(this.customBullet||a.customBullet){l=this.customBullet,a.customBullet&&(l=a.customBullet),l&&(k&&k.remove(),"function"==typeof l?(k=new l,k.chart=g,a.bulletConfig&&(k.availableSpace=e,k.graph=this,k.graphDataItem=a,k.bulletY=e,a.bulletConfig.minCoord=this.minCoord-e,k.bulletConfig=a.bulletConfig),k.write(p),k=k.set):(k=p.set(),p=p.image(l,0,0,n,n),k.push(p),this.centerCustomBullets&&p.translate(-n/2,-n/2)))}if(k){(a.url||this.showHandOnHover)&&k.setAttr("cursor","pointer");if("serial"==g.type||"gantt"==g.type){if(-0.5>c-0||c-0>this.width||e<-n/2||e-0>this.height){k.remove(),k=null}}k&&(this.bulletSet.push(k),k.translate(c,e),this.addListeners(k,a),this.allBullets.push(k));a.bx=c;a.by=e;b.setCN(g,k,this.bcn+"bullet");a.className&&b.setCN(g,k,a.className,!0)}k?(k.size=n||0,a.bulletGraphics=k):k={size:0};k.graphDataItem=a;return k}},showBullets:function(){var a=this.allBullets,e;this.bulletsHidden=!1;for(e=0;e<a.length;e++){a[e].show()}},hideBullets:function(){var a=this.allBullets,e;this.bulletsHidden=!0;for(e=0;e<a.length;e++){a[e].hide()}},showCustomBullets:function(){var a=this.allBullets,e;this.customBulletsHidden=!1;for(e=0;e<a.length;e++){a[e].graphDataItem.customBullet&&a[e].show()}},hideCustomBullets:function(){var a=this.allBullets,e;this.customBulletsHidden=!0;for(e=0;e<a.length;e++){a[e].graphDataItem.customBullet&&a[e].hide()}},addListeners:function(c,g){var a=this;c.mouseover(function(d){a.handleRollOver(g,d)}).mouseout(function(d){a.handleRollOut(g,d)}).touchend(function(d){a.handleRollOver(g,d);a.chart.panEventsEnabled&&a.handleClick(g,d)}).touchstart(function(d){a.handleRollOver(g,d)}).click(function(d){a.handleClick(g,d)}).dblclick(function(d){a.handleDoubleClick(g,d)}).contextmenu(function(d){a.handleRightClick(g,d)})},handleRollOver:function(g,h){if(g){var o=this.chart,a={type:"rollOverGraphItem",item:g,index:g.index,graph:this,target:this,chart:this.chart,event:h};this.fire("rollOverGraphItem",a);o.fire("rollOverGraphItem",a);clearTimeout(o.hoverInt);a=this.showBalloon;!o.chartCursor||"serial"!=o.type&&"gantt"!=o.type||(a=!1,!o.chartCursor.valueBalloonsEnabled&&this.showBalloon&&(a=!0));if(a){var a=o.formatString(this.balloonText,g,!0),f=this.balloonFunction;f&&(a=f(g,g.graph));a=b.cleanFromEmpty(a);f=o.getBalloonColor(this,g);o.balloon.showBullet=!1;o.balloon.pointerOrientation="V";var c=g.x,e=g.y;o.rotate&&(c=g.y,e=g.x);""!==a?o.showBalloon(a,f,!0,c+o.marginLeftReal,e+o.marginTopReal):this.chart.hideBalloonReal()}else{this.chart.hideBalloonReal()}}this.handleGraphEvent(h,"rollOverGraph")},handleRollOut:function(c,g){this.chart.hideBalloon();if(c){var a={type:"rollOutGraphItem",item:c,index:c.index,graph:this,target:this,chart:this.chart,event:g};this.fire("rollOutGraphItem",a);this.chart.fire("rollOutGraphItem",a)}this.handleGraphEvent(g,"rollOutGraph")},handleClick:function(c,g){if(c){var a={type:"clickGraphItem",item:c,index:c.index,graph:this,target:this,chart:this.chart,event:g};this.fire("clickGraphItem",a);this.chart.fire("clickGraphItem",a);b.getURL(c.url,this.urlTarget)}this.handleGraphEvent(g,"clickGraph")},handleGraphEvent:function(c,g){var a={type:g,graph:this,target:this,chart:this.chart,event:c};this.fire(g,a);this.chart.fire(g,a)},handleRightClick:function(c,g){if(c){var a={type:"rightClickGraphItem",item:c,index:c.index,graph:this,target:this,chart:this.chart,event:g};this.fire("rightClickGraphItem",a);this.chart.fire("rightClickGraphItem",a)}},handleDoubleClick:function(c,g){if(c){var a={type:"doubleClickGraphItem",item:c,index:c.index,graph:this,target:this,chart:this.chart,event:g};this.fire("doubleClickGraphItem",a);this.chart.fire("doubleClickGraphItem",a)}},zoom:function(a,e){this.start=a;this.end=e;this.draw()},changeOpacity:function(e){var i=this.set;i&&i.setAttr("opacity",e);if(i=this.ownColumns){var a;for(a=0;a<i.length;a++){var c=i[a].set;c&&c.setAttr("opacity",e)}}(i=this.bulletSet)&&i.setAttr("opacity",e)},destroy:function(){b.remove(this.set);b.remove(this.bulletSet);var a=this.timeOuts;if(a){var e;for(e=0;e<a.length;e++){clearTimeout(a[e])}}this.timeOuts=[]}})})();(function(){var b=window.AmCharts;b.ChartCursor=b.Class({construct:function(a){this.cname="ChartCursor";this.createEvents("changed","zoomed","onHideCursor","draw","selected","moved");this.enabled=!0;this.cursorAlpha=1;this.selectionAlpha=0.2;this.cursorColor="#CC0000";this.categoryBalloonAlpha=1;this.color="#FFFFFF";this.type="cursor";this.zoomed=!1;this.zoomable=!0;this.pan=!1;this.categoryBalloonDateFormat="MMM DD, YYYY";this.categoryBalloonText="[[category]]";this.categoryBalloonEnabled=this.valueBalloonsEnabled=!0;this.rolledOver=!1;this.cursorPosition="middle";this.bulletsEnabled=this.skipZoomDispatch=!1;this.bulletSize=8;this.selectWithoutZooming=this.oneBalloonOnly=!1;this.graphBulletSize=1.7;this.animationDuration=0.3;this.zooming=!1;this.adjustment=0;this.avoidBalloonOverlapping=!0;this.leaveCursor=!1;b.applyTheme(this,a,this.cname)},draw:function(){this.destroy();var c=this.chart,g=c.container;this.rotate=c.rotate;this.container=g;g=g.set();g.translate(this.x,this.y);this.set=g;c.cursorSet.push(g);g=new b.AmBalloon;g.className="category";g.chart=c;this.categoryBalloon=g;b.copyProperties(c.balloon,g);g.cornerRadius=0;g.shadowAlpha=0;g.borderThickness=1;g.borderAlpha=1;g.showBullet=!1;var a=this.categoryBalloonColor;void 0===a&&(a=this.cursorColor);g.fillColor=a;g.balloonColor=a;g.fillAlpha=this.categoryBalloonAlpha;g.borderColor=a;g.color=this.color;a=this.valueLineAxis;b.isString(a)&&(a=c.getValueAxisById(a));a||(a=c.valueAxes[0]);this.valueLineAxis=a;this.valueLineBalloonEnabled&&(this.vaBalloon=a=new b.AmBalloon,b.copyProperties(g,a),a.animationDuration=0,this.rotate||(a.pointerOrientation="H"));this.rotate&&(g.pointerOrientation="H");this.extraWidth=0;this.prevX=[];this.prevY=[];this.prevTX=[];this.prevTY=[];if(this.valueBalloonsEnabled){for(g=0;g<c.graphs.length;g++){a=new b.AmBalloon,a.className=c.graphs[g].id,a.chart=c,b.copyProperties(c.balloon,a),c.graphs[g].valueBalloon=a}}"cursor"==this.type?this.createCursor():this.createCrosshair()},updateData:function(){var a=this.chart;this.data=a.chartData;this.firstTime=a.firstTime;this.lastTime=a.lastTime},createCursor:function(){var l=this.chart,m=this.cursorAlpha,n=l.categoryAxis,w=this.categoryBalloon,e,a,c,f;c=l.dx;f=l.dy;var g=this.width,h=this.height,k=l.rotate;w.pointerWidth=n.tickLength;k?(e=[0,g,g+c],a=[0,0,f],c=[c,0,0],f=[f,0,h]):(e=[c,0,0],a=[f,0,h],c=[0,g,g+c],f=[0,0,f]);e=b.line(this.container,e,a,this.cursorColor,m,1);b.setCN(l,e,"cursor-line");this.line=e;e.node.style.pointerEvents="none";(a=this.fullRectSet)?(a.push(e),a.translate(this.x,this.y)):this.set.push(e);this.valueLineEnabled&&(e=this.valueLineAlpha,isNaN(e)||(m=e),m=b.line(this.container,c,f,this.cursorColor,m,1),m.node.style.pointerEvents="none",b.setCN(l,m,"cursor-value-line"),this.vLine=m,this.set.push(m));this.setBalloonBounds(w,n,k);(l=this.vaBalloon)&&this.setBalloonBounds(l,this.valueLineAxis,!k);this.hideCursor()},createCrosshair:function(){var c=this.cursorAlpha,g=this.container,a=b.line(g,[0,0],[0,this.height],this.cursorColor,c,1),c=b.line(g,[0,this.width],[0,0],this.cursorColor,c,1);b.setCN(this.chart,a,"cursor-line");b.setCN(this.chart,c,"cursor-line");this.set.push(a);this.set.push(c);this.vLine=a;this.hLine=c;this.hideCursor()},update:function(){var c=this.chart;if(c){if(c.mouseIsOver){var g=c.mouseX-this.x,a=c.mouseY-this.y;-0.5<g&&g<this.width+1&&0<a&&a<this.height?(this.drawing?this.rolledOver||c.setMouseCursor("crosshair"):this.pan&&(this.rolledOver||c.setMouseCursor("move")),this.rolledOver=!0,(this.valueLineEnabled||this.valueLineBalloonEnabled)&&this.updateVLine(g,a),this.setPosition()):this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}else{this.rolledOver&&(this.handleMouseOut(),this.rolledOver=!1)}}},updateVLine:function(e,f){var g=this.vLine,q=this.vaBalloon;if((g||q)&&!this.panning&&!this.drawing){g&&g.show();var k=this.valueLineAxis,a,c=this.rotate;c?(g&&g.translate(e,0),k&&(a=k.coordinateToValue(e)),g=e):(g&&g.translate(0,f),k&&(a=k.coordinateToValue(f)),g=f-1);if(q&&!isNaN(a)&&this.prevLineValue!=a){var d=k.formatValue(a,!0);this.setBalloonPosition(q,k,g,!c);q.showBalloon(d)}this.prevLineValue=a}},getMousePosition:function(){var c,g=this.width,a=this.height;c=this.chart;this.rotate?(c=c.mouseY-this.y,0>c&&(c=0),c>a&&(c=a)):(c=c.mouseX-this.x-1,0>c&&(c=0),c>g&&(c=g));return c},updateCrosshair:function(){var h=this.chart,k=h.mouseX-this.x,a=h.mouseY-this.y,c=this.vLine,e=this.hLine,k=b.fitToBounds(k,0,this.width),a=b.fitToBounds(a,0,this.height);c&&0<this.cursorAlpha&&(c.show(),e.show(),c.translate(k,0),e.translate(0,a));this.zooming&&(h.hideXScrollbar&&(k=NaN),h.hideYScrollbar&&(a=NaN),this.updateSelectionSize(k,a));this.fireMoved();h.mouseIsOver||this.zooming||this.hideCursor()},fireMoved:function(){var a=this.chart,e={type:"moved",target:this};e.chart=a;e.zooming=this.zooming;e.x=a.mouseX-this.x;e.y=a.mouseY-this.y;this.fire("moved",e)},updateSelectionSize:function(f,k){b.remove(this.selection);var g=this.selectionPosX,h=this.selectionPosY,c=0,q=0,a=this.width,e=this.height;isNaN(f)||(g>f&&(c=f,a=g-f),g<f&&(c=g,a=f-g),g==f&&(c=f,a=0),a+=this.extraWidth,c-=this.extraWidth/2);isNaN(k)||(h>k&&(q=k,e=h-k),h<k&&(q=h,e=k-h),h==k&&(q=k,e=0),e+=this.extraWidth,q-=this.extraWidth/2);0<a&&0<e&&(g=b.rect(this.container,a,e,this.cursorColor,this.selectionAlpha),b.setCN(this.chart,g,"cursor-selection"),g.translate(c+this.x,q+this.y),this.selection=g)},arrangeBalloons:function(){var f=this.valueBalloons,m=this.x,a=this.y,d=this.height+a;f.sort(this.compareY);var c;for(c=0;c<f.length;c++){var e=f[c].balloon;e.setBounds(m,a,m+this.width,d);e.prevX=this.prevX[c];e.prevY=this.prevY[c];e.prevTX=this.prevTX[c];e.prevTY=this.prevTY[c];e.draw();d=e.yPos-3}this.arrangeBalloons2()},compareY:function(a,e){return a.yy<e.yy?1:-1},arrangeBalloons2:function(){var a=this.valueBalloons;a.reverse();var c,d=this.x,f,e,g=a.length;for(e=0;e<g;e++){var k=a[e].balloon;c=k.bottom;var l=k.bottom-k.yPos,s=g-e-1;0<e&&c-l<f+3&&(k.setBounds(d,f+3,d+this.width,f+l+3),k.prevX=this.prevX[s],k.prevY=this.prevY[s],k.prevTX=this.prevTX[s],k.prevTY=this.prevTY[s],k.draw());k.set&&k.set.show();this.prevX[s]=k.prevX;this.prevY[s]=k.prevY;this.prevTX[s]=k.prevTX;this.prevTY[s]=k.prevTY;f=k.bottom}},showBullets:function(){b.remove(this.allBullets);var f=this.container,k=f.set();this.set.push(k);this.set.show();this.allBullets=k;var k=this.chart.graphs,g;for(g=0;g<k.length;g++){var h=k[g];if(!h.hidden&&h.balloonText){var c=this.data[this.index].axes[h.valueAxis.id].graphs[h.id],q=c.y;if(!isNaN(q)){var a,e;a=c.x;this.rotate?(e=q,q=a):e=a;h=b.circle(f,this.bulletSize/2,this.chart.getBalloonColor(h,c,!0),h.cursorBulletAlpha);h.translate(e,q);this.allBullets.push(h)}}}},destroy:function(){this.clear();b.remove(this.selection);this.selection=null;var a=this.categoryBalloon;a&&a.destroy();(a=this.vaBalloon)&&a.destroy();this.destroyValueBalloons();b.remove(this.set)},clear:function(){},destroyValueBalloons:function(){var a=this.valueBalloons;if(a){var e;for(e=0;e<a.length;e++){a[e].balloon.hide()}}},zoom:function(g,h,o,a){var f=this.chart;this.destroyValueBalloons();this.zooming=!1;var c;this.rotate?this.selectionPosY=c=f.mouseY:this.selectionPosX=c=f.mouseX;this.start=g;this.end=h;this.startTime=o;this.endTime=a;this.zoomed=!0;a=f.categoryAxis;c=this.rotate;h=this.width;o=this.height;g=a.stepWidth;if(this.fullWidth){var e=1;a.parseDates&&!a.equalSpacing&&(e=a.minDuration());c?this.extraWidth=o=g*e:(this.extraWidth=h=g*e,this.categoryBalloon.minWidth=h);this.line&&this.line.remove();this.line=b.rect(this.container,h,o,this.cursorColor,this.cursorAlpha,0);this.line.node.style.pointerEvents="none";b.setCN(f,this.line,"cursor-fill");this.fullRectSet&&this.fullRectSet.push(this.line)}this.stepWidth=g;this.tempVal=this.valueBalloonsEnabled;this.valueBalloonsEnabled=!1;this.setPosition();this.valueBalloonsEnabled=this.tempVal;this.hideCursor()},hideObj:function(a){a&&a.hide()},hideCursor:function(a){void 0===a&&(a=!0);this.leaveCursor||(this.hideObj(this.set),this.hideObj(this.categoryBalloon),this.hideObj(this.line),this.hideObj(this.vLine),this.hideObj(this.hLine),this.hideObj(this.vaBalloon),this.hideObj(this.allBullets),this.destroyValueBalloons(),this.selectWithoutZooming||b.remove(this.selection),this.previousIndex=NaN,a&&this.fire("onHideCursor",{type:"onHideCursor",chart:this.chart,target:this}),this.drawing||this.chart.setMouseCursor("auto"),this.normalizeBulletSize())},setPosition:function(c,g,a){void 0===g&&(g=!0);if("cursor"==this.type){if(this.tempPosition=NaN,b.ifArray(this.data)){isNaN(c)&&(c=this.getMousePosition()),(c!=this.previousMousePosition||!0===this.zoomed||this.oneBalloonOnly)&&!isNaN(c)&&("mouse"==this.cursorPosition&&(this.tempPosition=c),isNaN(a)&&(a=this.chart.categoryAxis.xToIndex(c)),a!=this.previousIndex||this.zoomed||"mouse"==this.cursorPosition||this.oneBalloonOnly)&&(this.updateCursor(a,g),this.zoomed=!1),this.previousMousePosition=c}}else{this.updateCrosshair()}},normalizeBulletSize:function(){var e=this.resizedBullets;if(e){for(var i=0;i<e.length;i++){var a=e[i],c=a.bulletGraphics;c&&(c.translate(a.bx,a.by,1),a=a.graph,isNaN(this.graphBulletAlpha)||(c.setAttr("fill-opacity",a.bulletAlpha),c.setAttr("stroke-opacity",a.bulletBorderAlpha)))}}},updateCursor:function(a,c){var e=this.chart,f=this.fullWidth,k=e.mouseX-this.x,g=e.mouseY-this.y;this.drawingNow&&(b.remove(this.drawingLine),this.drawingLine=b.line(this.container,[this.x+this.drawStartX,this.x+k],[this.y+this.drawStartY,this.y+g],this.cursorColor,1,1));if(this.enabled){void 0===c&&(c=!0);this.index=a+=this.adjustment;var h=e.categoryAxis,l=e.dx,m=e.dy,n=this.x+1,p=this.y+1,q=this.width,t=this.height,v=this.data[a],y;this.data[a+1]&&(y=this.data[a+1]);this.fireMoved();if(v){var A=v.x[h.id],r=e.rotate,E=this.stepWidth,C=this.categoryBalloon,D=this.firstTime,aa=this.lastTime,u=this.cursorPosition,w=this.zooming,z=this.panning,J=e.graphs;if(e.mouseIsOver||w||z||this.forceShow){if(this.forceShow=!1,z){var l=this.panClickPos,e=this.panClickEndTime,w=this.panClickStartTime,B=this.panClickEnd,n=this.panClickStart,k=(r?l-g:l-k)/E;if(!h.parseDates||h.equalSpacing){k=Math.round(k)}0!==k&&(l={type:"zoomed",target:this},l.chart=this.chart,h.parseDates&&!h.equalSpacing?(e+k>aa&&(k=aa-e),w+k<D&&(k=D-w),l.start=Math.round(w+k),l.end=Math.round(e+k),this.fire(l.type,l)):B+k>=this.data.length||0>n+k||(l.start=n+k,l.end=B+k,this.fire(l.type,l)))}else{"start"==u?A-=h.cellWidth/2:"mouse"==u&&(e.mouseIsOver?A=r?g-2:k-2:isNaN(this.tempPosition)||(A=this.tempPosition-2));if(r){if(0>A){if(w){A=0}else{this.hideCursor();return}}if(A>t+1){if(w){A=t+1}else{this.hideCursor();return}}}else{if(0>A){if(w){A=0}else{this.hideCursor();return}}if(A>q){if(w){A=q}else{this.hideCursor();return}}}D=this.line;0<this.cursorAlpha&&(r?(aa=0,E=A+m,f&&(E-=h.cellWidth/2)):(aa=A,E=0,f&&(aa-=h.cellWidth/2)),u=this.animationDuration,0<u&&!this.zooming?isNaN(this.previousX)?D.translate(aa,E):(D.translate(this.previousX,this.previousY),D.animate({translate:aa+","+E},u,"easeOutSine")):D.translate(aa,E),this.previousX=aa,this.previousY=E,D.show());this.linePos=r?A+m:A;w&&(f&&D.hide(),r?this.updateSelectionSize(NaN,A):this.updateSelectionSize(A,NaN));aa=!0;w&&(aa=!1);this.categoryBalloonEnabled&&aa?(this.setBalloonPosition(C,h,A,r),(D=this.categoryBalloonFunction)?C.showBalloon(D(v.category)):(D=A="",h.parseDates?(A=b.formatDate(v.category,this.categoryBalloonDateFormat,e),h=b.changeDate(new Date(v.category),e.categoryAxis.minPeriod,1),D=b.formatDate(h,this.categoryBalloonDateFormat,e),-1!=A.indexOf("fff")&&(A=b.formatMilliseconds(A,v.category),D=b.formatMilliseconds(D,h))):(A=b.fixNewLines(v.category),y&&(D=b.fixNewLines(y.category))),h=this.categoryBalloonText.replace(/\[\[category\]\]/g,String(A)),h=h.replace(/\[\[toCategory\]\]/g,String(D)),C.showBalloon(h))):C.hide();J&&this.bulletsEnabled&&this.showBullets();if(this.oneBalloonOnly){A=Infinity;for(h=0;h<J.length;h++){C=J[h],C.showBalloon&&!C.hidden&&C.balloonText&&(y=v.axes[C.valueAxis.id].graphs[C.id],D=y.y,"top"==C.showBalloonAt&&(D=0),"bottom"==C.showBalloonAt&&(D=this.height),isNaN(D)||(r?Math.abs(k-D)<A&&(A=Math.abs(k-D),B=C):Math.abs(g-D)<A&&(A=Math.abs(g-D),B=C)))}this.mostCloseGraph&&(B=this.mostCloseGraph)}if(a!=this.previousIndex||B!=this.previousMostCloseGraph){if(this.normalizeBulletSize(),this.destroyValueBalloons(),this.resizedBullets=[],J&&this.valueBalloonsEnabled&&aa&&e.balloon.enabled){this.valueBalloons=aa=[];for(h=0;h<J.length;h++){if(C=J[h],D=NaN,(!this.oneBalloonOnly||C==B)&&C.showBalloon&&!C.hidden&&C.balloonText&&("step"==C.type&&"left"==C.stepDirection&&(v=this.data[a+1]),v)){if(y=v.axes[C.valueAxis.id].graphs[C.id]){D=y.y}"top"==C.showBalloonAt&&(D=0);"bottom"==C.showBalloonAt&&(D=this.height);if(this.showNextAvailable&&isNaN(D)&&a+1<this.data.length){for(A=a+1;A<this.data.length;A++){if(E=this.data[A]){if(y=E.axes[C.valueAxis.id].graphs[C.id],D=y.y,!isNaN(D)){break}}}}if(!isNaN(D)){E=y.x;f=!0;if(r){if(A=D,0>E||E>t){f=!1}}else{if(A=E,E=D,0>A||A>q+l+1){f=!1}}f&&(f=this.graphBulletSize,m=this.graphBulletAlpha,1==f&&isNaN(m)||!b.isModern||!(u=y.bulletGraphics)||(u.translate(y.bx,y.by,f),this.resizedBullets.push(y),isNaN(m)||(u.setAttr("fill-opacity",m),u.setAttr("stroke-opacity",m))),f=C.valueBalloon,m=e.getBalloonColor(C,y),f.setBounds(n,p,n+q,p+t),f.pointerOrientation="H",u=this.balloonPointerOrientation,"vertical"==u&&(f.pointerOrientation="V"),"horizontal"==u&&(f.pointerOrientation="H"),f.changeColor(m),void 0!==C.balloonAlpha&&(f.fillAlpha=C.balloonAlpha),void 0!==C.balloonTextColor&&(f.color=C.balloonTextColor),f.setPosition(A+n,E+p),A=e.formatString(C.balloonText,y,!0),(E=C.balloonFunction)&&(A=E(y,C).toString()),""!==A&&(r?f.showBalloon(A):(f.text=A,f.show=!0),aa.push({yy:D,balloon:f})),!r&&f.set&&(f.set.hide(),C=f.textDiv)&&(C.style.visibility="hidden"))}}}this.avoidBalloonOverlapping&&this.arrangeBalloons()}}c?(l={type:"changed"},l.index=a,l.chart=this.chart,l.zooming=w,l.mostCloseGraph=B,l.position=r?g:k,l.target=this,e.fire("changed",l),this.fire("changed",l),this.skipZoomDispatch=!1):(this.skipZoomDispatch=!0,e.updateLegendValues(a));this.previousIndex=a;this.previousMostCloseGraph=B}}}}else{this.hideCursor()}},setBalloonPosition:function(k,l,m,p){var n=l.position,y=l.inside;l=l.axisThickness;var a=this.chart,c=a.dx,a=a.dy,d=this.x,e=this.y,f=this.width,g=this.height;p?(y&&("right"==n?k.setBounds(d,e+a,d+f+c,e+m+a):k.setBounds(d,e+a,d+f+c,e+m)),"right"==n?y?k.setPosition(d+f+c,e+m+a):k.setPosition(d+f+c+l,e+m+a):y?k.setPosition(d,e+m):k.setPosition(d-l,e+m)):"top"==n?y?k.setPosition(d+m+c,e+a):k.setPosition(d+m+c,e+a-l+1):y?k.setPosition(d+m,e+g):k.setPosition(d+m,e+g+l-1)},setBalloonBounds:function(g,k,l){var n=k.position,m=k.inside,p=k.axisThickness,q=k.tickLength,A=this.chart,a=A.dx,A=A.dy,c=this.x,d=this.y,e=this.width,f=this.height;l?(m&&(g.pointerWidth=0),"right"==n?m?g.setBounds(c,d+A,c+e+a,d+f+A):g.setBounds(c+e+a+p,d+A,c+e+1000,d+f+A):m?g.setBounds(c,d,e+c,f+d):g.setBounds(-1000,-1000,c-q-p,d+f+15)):(g.maxWidth=e,k.parseDates&&(q=0,g.pointerWidth=0),"top"==n?m?g.setBounds(c+a,d+A,e+a+c,f+d):g.setBounds(c+a,-1000,e+a+c,d+A-q-p):m?g.setBounds(c,d,e+c,f+d-q):g.setBounds(c,d+f+q+p-1,c+e,d+f+q+p))},enableDrawing:function(a){this.enabled=!a;this.hideCursor();this.rolledOver=!1;this.drawing=a},isZooming:function(a){a&&a!=this.zooming&&this.handleMouseDown("fake");a||a==this.zooming||this.handleMouseUp()},handleMouseOut:function(){if(this.enabled){if(this.zooming){this.setPosition()}else{this.index=void 0;var a={type:"changed",index:void 0,target:this};a.chart=this.chart;this.fire("changed",a);this.hideCursor()}}},handleReleaseOutside:function(){this.handleMouseUp()},handleMouseUp:function(){var f=this.chart,k=this.data,g;if(f){var h=f.mouseX-this.x,c=f.mouseY-this.y;if(this.drawingNow){this.drawingNow=!1;b.remove(this.drawingLine);g=this.drawStartX;var q=this.drawStartY;if(2<Math.abs(g-h)||2<Math.abs(q-c)){g={type:"draw",target:this,chart:f,initialX:g,initialY:q,finalX:h,finalY:c},this.fire(g.type,g)}}if(this.enabled&&0<k.length){if(this.pan){this.rolledOver=!1}else{if(this.zoomable&&this.zooming){g=this.selectWithoutZooming?{type:"selected"}:{type:"zoomed"};g.target=this;g.chart=f;if("cursor"==this.type){this.rotate?this.selectionPosY=c:this.selectionPosX=c=h,4>Math.abs(c-this.initialMouse)&&this.fromIndex==this.index||(this.index<this.fromIndex?(g.end=this.fromIndex,g.start=this.index):(g.end=this.index,g.start=this.fromIndex),c=f.categoryAxis,c.parseDates&&!c.equalSpacing&&(k[g.start]&&(g.start=k[g.start].time),k[g.end]&&(g.end=f.getEndTime(k[g.end].time))),this.skipZoomDispatch||this.fire(g.type,g))}else{var a=this.initialMouseX,e=this.initialMouseY;3>Math.abs(h-a)&&3>Math.abs(c-e)||(k=Math.min(a,h),q=Math.min(e,c),h=Math.abs(a-h),c=Math.abs(e-c),f.hideXScrollbar&&(k=0,h=this.width),f.hideYScrollbar&&(q=0,c=this.height),g.selectionHeight=c,g.selectionWidth=h,g.selectionY=q,g.selectionX=k,this.skipZoomDispatch||this.fire(g.type,g))}this.selectWithoutZooming||b.remove(this.selection)}}this.skipZoomDispatch=!1}}this.panning=this.zooming=!1},showCursorAt:function(a){var e=this.chart.categoryAxis;a=e.parseDates?e.dateToCoordinate(a):e.categoryToCoordinate(a);this.previousMousePosition=NaN;this.forceShow=!0;this.setPosition(a,!1)},clearSelection:function(){b.remove(this.selection)},handleMouseDown:function(h){if(this.zoomable||this.pan||this.drawing){var k=this.rotate,a=this.chart,c=a.mouseX-this.x,e=a.mouseY-this.y;if(0<c&&c<this.width&&0<e&&e<this.height||"fake"==h){this.setPosition(),this.selectWithoutZooming&&b.remove(this.selection),this.drawing?(this.drawStartY=e,this.drawStartX=c,this.drawingNow=!0):this.pan?(this.zoomable=!1,a.setMouseCursor("move"),this.panning=!0,this.panClickPos=k?e:c,this.panClickStart=this.start,this.panClickEnd=this.end,this.panClickStartTime=this.startTime,this.panClickEndTime=this.endTime):this.zoomable&&("cursor"==this.type?(this.fromIndex=this.index,k?(this.initialMouse=e,this.selectionPosY=this.linePos):(this.initialMouse=c,this.selectionPosX=this.linePos)):(this.initialMouseX=c,this.initialMouseY=e,this.selectionPosX=c,this.selectionPosY=e),this.zooming=!0)}}}})})();(function(){var b=window.AmCharts;b.SimpleChartScrollbar=b.Class({construct:function(a){this.createEvents("zoomed");this.backgroundColor="#D4D4D4";this.backgroundAlpha=1;this.selectedBackgroundColor="#EFEFEF";this.scrollDuration=this.selectedBackgroundAlpha=1;this.resizeEnabled=!0;this.hideResizeGrips=!1;this.scrollbarHeight=20;this.updateOnReleaseOnly=!1;9>document.documentMode&&(this.updateOnReleaseOnly=!0);this.dragIconHeight=this.dragIconWidth=35;this.dragIcon="dragIconRoundBig";b.applyTheme(this,a,"SimpleChartScrollbar")},draw:function(){var k=this;k.destroy();if(k.enabled){var l=k.chart.container,m=k.rotate,n=k.chart,a=l.set();k.set=a;n.scrollbarsSet.push(a);var p,y;m?(p=k.scrollbarHeight,y=n.plotAreaHeight):(y=k.scrollbarHeight,p=n.plotAreaWidth);k.width=p;if((k.height=y)&&p){var c=b.rect(l,p,y,k.backgroundColor,k.backgroundAlpha,1,k.backgroundColor,k.backgroundAlpha);b.setCN(n,c,"scrollbar-bg");k.bg=c;a.push(c);c=b.rect(l,p,y,"#000",0.005);a.push(c);k.invisibleBg=c;c.click(function(){k.handleBgClick()}).mouseover(function(){k.handleMouseOver()}).mouseout(function(){k.handleMouseOut()}).touchend(function(){k.handleBgClick()});c=b.rect(l,p,y,k.selectedBackgroundColor,k.selectedBackgroundAlpha);b.setCN(n,c,"scrollbar-bg-selected");k.selectedBG=c;a.push(c);p=b.rect(l,p,y,"#000",0.005);k.dragger=p;a.push(p);p.mousedown(function(d){k.handleDragStart(d)}).mouseup(function(){k.handleDragStop()}).mouseover(function(){k.handleDraggerOver()}).mouseout(function(){k.handleMouseOut()}).touchstart(function(d){k.handleDragStart(d)}).touchend(function(){k.handleDragStop()});p=n.pathToImages;m?(c=p+k.dragIcon+"H.png",p=k.dragIconWidth,m=k.dragIconHeight):(c=p+k.dragIcon+".png",m=k.dragIconWidth,p=k.dragIconHeight);y=l.image(c,0,0,m,p);b.setCN(n,y,"scrollbar-grip-left");c=l.image(c,0,0,m,p);b.setCN(n,c,"scrollbar-grip-right");var e=10,f=20;n.panEventsEnabled&&(e=25,f=k.scrollbarHeight);var g=b.rect(l,e,f,"#000",0.005),h=b.rect(l,e,f,"#000",0.005);h.translate(-(e-m)/2,-(f-p)/2);g.translate(-(e-m)/2,-(f-p)/2);m=l.set([y,h]);l=l.set([c,g]);k.iconLeft=m;a.push(k.iconLeft);k.iconRight=l;a.push(l);m.mousedown(function(){k.leftDragStart()}).mouseup(function(){k.leftDragStop()}).mouseover(function(){k.iconRollOver()}).mouseout(function(){k.iconRollOut()}).touchstart(function(){k.leftDragStart()}).touchend(function(){k.leftDragStop()});l.mousedown(function(){k.rightDragStart()}).mouseup(function(){k.rightDragStop()}).mouseover(function(){k.iconRollOver()}).mouseout(function(){k.iconRollOut()}).touchstart(function(){k.rightDragStart()}).touchend(function(){k.rightDragStop()});b.ifArray(n.chartData)?a.show():a.hide();k.hideDragIcons();k.clipDragger(!1)}a.translate(k.x,k.y);a.node.style.msTouchAction="none"}},updateScrollbarSize:function(f,g){f=Math.round(f);g=Math.round(g);var o=this.dragger,c,a,d,e;this.rotate?(c=0,a=f,d=this.width+1,e=g-f,o.setAttr("height",g-f),o.setAttr("y",a)):(c=f,a=0,d=g-f,e=this.height+1,o.setAttr("width",g-f),o.setAttr("x",c));this.clipAndUpdate(c,a,d,e)},update:function(){var c,d=!1,f,n,m=this.x,p=this.y,q=this.dragger,r=this.getDBox();if(r){f=r.x+m;n=r.y+p;var u=r.width,r=r.height,E=this.rotate,e=this.chart,g=this.width,k=this.height,l=e.mouseX,a=e.mouseY;c=this.initialMouse;this.forceClip&&this.clipDragger(!0);e.mouseIsOver&&(this.dragging&&(e=this.initialCoord,E?(c=e+(a-c),0>c&&(c=0),e=k-r,c>e&&(c=e),q.setAttr("y",c)):(c=e+(l-c),0>c&&(c=0),e=g-u,c>e&&(c=e),q.setAttr("x",c)),this.clipDragger(!0)),this.resizingRight&&(E?(c=a-n,c+n>k+p&&(c=k-n+p),0>c?(this.resizingRight=!1,d=this.resizingLeft=!0):(0===c&&(c=0.1),q.setAttr("height",c))):(c=l-f,c+f>g+m&&(c=g-f+m),0>c?(this.resizingRight=!1,d=this.resizingLeft=!0):(0===c&&(c=0.1),q.setAttr("width",c))),this.clipDragger(!0)),this.resizingLeft&&(E?(f=n,n=a,n<p&&(n=p),n>k+p&&(n=k+p),c=!0===d?f-n:r+f-n,0>c?(this.resizingRight=!0,this.resizingLeft=!1,q.setAttr("y",f+r-p)):(0===c&&(c=0.1),q.setAttr("y",n-p),q.setAttr("height",c))):(n=l,n<m&&(n=m),n>g+m&&(n=g+m),c=!0===d?f-n:u+f-n,0>c?(this.resizingRight=!0,this.resizingLeft=!1,q.setAttr("x",f+u-m)):(0===c&&(c=0.1),q.setAttr("x",n-m),q.setAttr("width",c))),this.clipDragger(!0)))}},stopForceClip:function(){this.forceClip=!1},clipDragger:function(f){var m=this.getDBox();if(m){var a=m.x,d=m.y,c=m.width,m=m.height,e=!1;if(this.rotate){if(a=0,c=this.width+1,this.clipY!=d||this.clipH!=m){e=!0}}else{if(d=0,m=this.height+1,this.clipX!=a||this.clipW!=c){e=!0}}e&&(this.clipAndUpdate(a,d,c,m),f&&(this.updateOnReleaseOnly||this.dispatchScrollbarEvent()))}},maskGraphs:function(){},clipAndUpdate:function(e,i,a,c){this.clipX=e;this.clipY=i;this.clipW=a;this.clipH=c;this.selectedBG.clipRect(e,i,a,c);this.updateDragIconPositions();this.maskGraphs(e,i,a,c)},dispatchScrollbarEvent:function(){if(this.skipEvent){this.skipEvent=!1}else{var e=this.chart;e.hideBalloon();var k=this.getDBox(),a=k.x,d=k.y,c=k.width,k=k.height;this.rotate?(a=d,c=this.height/k):c=this.width/c;e={type:"zoomed",position:a,chart:e,target:this,multiplier:c};this.fire(e.type,e)}},updateDragIconPositions:function(){var e=this.getDBox(),f=e.x,g=e.y,q=this.iconLeft,k=this.iconRight,a,c,d=this.scrollbarHeight;this.rotate?(a=this.dragIconWidth,c=this.dragIconHeight,q.translate((d-c)/2,g-a/2),k.translate((d-c)/2,g+e.height-a/2)):(a=this.dragIconHeight,c=this.dragIconWidth,q.translate(f-c/2,(d-a)/2),k.translate(f-c/2+e.width,(d-a)/2))},showDragIcons:function(){this.resizeEnabled&&(this.iconLeft.show(),this.iconRight.show())},hideDragIcons:function(){if(!this.resizingLeft&&!this.resizingRight&&!this.dragging){if(this.hideResizeGrips||!this.resizeEnabled){this.iconLeft.hide(),this.iconRight.hide()}this.removeCursors()}},removeCursors:function(){this.chart.setMouseCursor("auto")},relativeZoom:function(a,e){this.enabled&&(this.dragger.stop(),this.multiplier=a,this.position=e,this.updateScrollbarSize(e,this.rotate?e+this.height/a:e+this.width/a),this.clipDragger())},destroy:function(){this.clear();b.remove(this.set);b.remove(this.iconRight);b.remove(this.iconLeft)},clear:function(){},handleDragStart:function(){if(this.enabled){var a=this.chart;this.dragger.stop();this.removeCursors();this.dragging=!0;var e=this.getDBox();this.rotate?(this.initialCoord=e.y,this.initialMouse=a.mouseY):(this.initialCoord=e.x,this.initialMouse=a.mouseX)}},handleDragStop:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent());this.dragging=!1;this.mouseIsOver&&this.removeCursors();this.update()},handleDraggerOver:function(){this.handleMouseOver()},leftDragStart:function(){this.dragger.stop();this.resizingLeft=!0},leftDragStop:function(){this.resizingLeft=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},rightDragStart:function(){this.dragger.stop();this.resizingRight=!0},rightDragStop:function(){this.resizingRight=!1;this.mouseIsOver||this.removeCursors();this.updateOnRelease()},iconRollOut:function(){this.removeCursors()},iconRollOver:function(){this.rotate?this.chart.setMouseCursor("n-resize"):this.chart.setMouseCursor("e-resize");this.handleMouseOver()},getDBox:function(){if(this.dragger){return this.dragger.getBBox()}},handleBgClick:function(){var m=this;if(!m.resizingRight&&!m.resizingLeft){m.zooming=!0;var u,a,c=m.scrollDuration,g=m.dragger;u=m.getDBox();var e=u.height,f=u.width;a=m.chart;var h=m.y,k=m.x,l=m.rotate;l?(u="y",a=a.mouseY-e/2-h,a=b.fitToBounds(a,0,m.height-e)):(u="x",a=a.mouseX-f/2-k,a=b.fitToBounds(a,0,m.width-f));m.updateOnReleaseOnly?(m.skipEvent=!1,g.setAttr(u,a),m.dispatchScrollbarEvent(),m.clipDragger()):(a=Math.round(a),l?g.animate({y:a},c,">"):g.animate({x:a},c,">"),m.forceClip=!0,clearTimeout(m.forceTO),m.forceTO=setTimeout(function(){m.stopForceClip.call(m)},5000*c))}},updateOnRelease:function(){this.updateOnReleaseOnly&&(this.update(),this.skipEvent=!1,this.dispatchScrollbarEvent())},handleReleaseOutside:function(){if(this.set){if(this.resizingLeft||this.resizingRight||this.dragging){this.updateOnRelease(),this.removeCursors()}this.mouseIsOver=this.dragging=this.resizingRight=this.resizingLeft=!1;this.hideDragIcons();this.update()}},handleMouseOver:function(){this.mouseIsOver=!0;this.showDragIcons()},handleMouseOut:function(){this.mouseIsOver=!1;this.hideDragIcons()}})})();(function(){var b=window.AmCharts;b.ChartScrollbar=b.Class({inherits:b.SimpleChartScrollbar,construct:function(a){this.cname="ChartScrollbar";b.ChartScrollbar.base.construct.call(this,a);this.enabled=!0;this.graphLineColor="#BBBBBB";this.graphLineAlpha=0;this.graphFillColor="#BBBBBB";this.graphFillAlpha=1;this.selectedGraphLineColor="#888888";this.selectedGraphLineAlpha=0;this.selectedGraphFillColor="#888888";this.selectedGraphFillAlpha=1;this.gridCount=0;this.gridColor="#FFFFFF";this.gridAlpha=0.7;this.skipEvent=this.autoGridCount=!1;this.color="#FFFFFF";this.scrollbarCreated=!1;this.offset=0;this.oppositeAxis=!0;b.applyTheme(this,a,this.cname)},init:function(){var c=this.categoryAxis,g=this.chart;c||(this.categoryAxis=c=new b.CategoryAxis);c.chart=g;c.id="scrollbar";c.dateFormats=g.categoryAxis.dateFormats;c.markPeriodChange=g.categoryAxis.markPeriodChange;c.boldPeriodBeginning=g.categoryAxis.boldPeriodBeginning;c.labelFunction=g.categoryAxis.labelFunction;c.axisItemRenderer=b.RecItem;c.axisRenderer=b.RecAxis;c.guideFillRenderer=b.RecFill;c.inside=!0;c.fontSize=this.fontSize;c.tickLength=0;c.axisAlpha=0;b.isString(this.graph)&&(this.graph=b.getObjById(g.graphs,this.graph));if(c=this.graph){var a=this.valueAxis;a||(this.valueAxis=a=new b.ValueAxis,a.visible=!1,a.scrollbar=!0,a.axisItemRenderer=b.RecItem,a.axisRenderer=b.RecAxis,a.guideFillRenderer=b.RecFill,a.labelsEnabled=!1,a.chart=g);g=this.unselectedGraph;g||(g=new b.AmGraph,g.scrollbar=!0,this.unselectedGraph=g,g.negativeBase=c.negativeBase,g.noStepRisers=c.noStepRisers);g=this.selectedGraph;g||(g=new b.AmGraph,g.scrollbar=!0,this.selectedGraph=g,g.negativeBase=c.negativeBase,g.noStepRisers=c.noStepRisers)}this.scrollbarCreated=!0},draw:function(){var u=this;b.ChartScrollbar.base.draw.call(u);if(u.enabled){u.scrollbarCreated||u.init();var I=u.chart,a=I.chartData,c=u.categoryAxis,m=u.rotate,e=u.x,l=u.y,n=u.width,p=u.height,r=I.categoryAxis,A=u.set;c.setOrientation(!m);c.parseDates=r.parseDates;c.rotate=m;c.equalSpacing=r.equalSpacing;c.minPeriod=r.minPeriod;c.startOnAxis=r.startOnAxis;c.viW=n;c.viH=p;c.width=n;c.height=p;c.gridCount=u.gridCount;c.gridColor=u.gridColor;c.gridAlpha=u.gridAlpha;c.color=u.color;c.tickLength=0;c.axisAlpha=0;c.autoGridCount=u.autoGridCount;c.parseDates&&!c.equalSpacing&&c.timeZoom(I.firstTime,I.lastTime);c.zoom(0,a.length-1);if(r=u.graph){var g=u.valueAxis,h=r.valueAxis;g.id=h.id;g.rotate=m;g.setOrientation(m);g.width=n;g.height=p;g.viW=n;g.viH=p;g.dataProvider=a;g.reversed=h.reversed;g.logarithmic=h.logarithmic;g.gridAlpha=0;g.axisAlpha=0;A.push(g.set);m?(g.y=l,g.x=0):(g.x=e,g.y=0);var e=Infinity,l=-Infinity,k;for(k=0;k<a.length;k++){var t=a[k].axes[h.id].graphs[r.id].values,q;for(q in t){if(t.hasOwnProperty(q)&&"percents"!=q&&"total"!=q){var f=t[q];f<e&&(e=f);f>l&&(l=f)}}}Infinity!=e&&(g.minimum=e);-Infinity!=l&&(g.maximum=l+0.1*(l-e));e==l&&(--g.minimum,g.maximum+=1);void 0!==u.minimum&&(g.minimum=u.minimum);void 0!==u.maximum&&(g.maximum=u.maximum);g.zoom(0,a.length-1);q=u.unselectedGraph;q.id=r.id;q.bcn="scrollbar-graph-";q.rotate=m;q.chart=I;q.data=a;q.valueAxis=g;q.chart=r.chart;q.categoryAxis=u.categoryAxis;q.periodSpan=r.periodSpan;q.valueField=r.valueField;q.openField=r.openField;q.closeField=r.closeField;q.highField=r.highField;q.lowField=r.lowField;q.lineAlpha=u.graphLineAlpha;q.lineColorR=u.graphLineColor;q.fillAlphas=u.graphFillAlpha;q.fillColorsR=u.graphFillColor;q.connect=r.connect;q.hidden=r.hidden;q.width=n;q.height=p;q.pointPosition=r.pointPosition;q.stepDirection=r.stepDirection;q.periodSpan=r.periodSpan;h=u.selectedGraph;h.id=r.id;h.bcn=q.bcn+"selected-";h.rotate=m;h.chart=I;h.data=a;h.valueAxis=g;h.chart=r.chart;h.categoryAxis=c;h.periodSpan=r.periodSpan;h.valueField=r.valueField;h.openField=r.openField;h.closeField=r.closeField;h.highField=r.highField;h.lowField=r.lowField;h.lineAlpha=u.selectedGraphLineAlpha;h.lineColorR=u.selectedGraphLineColor;h.fillAlphas=u.selectedGraphFillAlpha;h.fillColorsR=u.selectedGraphFillColor;h.connect=r.connect;h.hidden=r.hidden;h.width=n;h.height=p;h.pointPosition=r.pointPosition;h.stepDirection=r.stepDirection;h.periodSpan=r.periodSpan;I=u.graphType;I||(I=r.type);q.type=I;h.type=I;a=a.length-1;q.zoom(0,a);h.zoom(0,a);h.set.click(function(){u.handleBackgroundClick()}).mouseover(function(){u.handleMouseOver()}).mouseout(function(){u.handleMouseOut()});q.set.click(function(){u.handleBackgroundClick()}).mouseover(function(){u.handleMouseOver()}).mouseout(function(){u.handleMouseOut()});A.push(q.set);A.push(h.set)}A.push(c.set);A.push(c.labelsSet);u.bg.toBack();u.invisibleBg.toFront();u.dragger.toFront();u.iconLeft.toFront();u.iconRight.toFront()}},timeZoom:function(c,g,a){this.startTime=c;this.endTime=g;this.timeDifference=g-c;this.skipEvent=!b.toBoolean(a);this.zoomScrollbar();this.skipEvent||this.dispatchScrollbarEvent()},zoom:function(a,e){this.start=a;this.end=e;this.skipEvent=!0;this.zoomScrollbar()},dispatchScrollbarEvent:function(){if(this.skipEvent){this.skipEvent=!1}else{var a=this.chart.chartData,c,d,f=this.dragger.getBBox();c=f.x;var e=f.y,g=f.width,f=f.height,k=this.chart;this.rotate?(c=e,d=f):d=g;g={type:"zoomed",target:this};g.chart=k;var l=this.categoryAxis,s=this.stepWidth,e=k.minSelectedTime,f=!1;if(l.parseDates&&!l.equalSpacing){if(a=k.lastTime,k=k.firstTime,l=Math.round(c/s)+k,c=this.dragging?l+this.timeDifference:Math.round((c+d)/s)+k,l>c&&(l=c),0<e&&c-l<e&&(c=Math.round(l+(c-l)/2),f=Math.round(e/2),l=c-f,c+=f,f=!0),c>a&&(c=a),c-e<l&&(l=c-e),l<k&&(l=k),l+e>c&&(c=l+e),l!=this.startTime||c!=this.endTime){this.startTime=l,this.endTime=c,g.start=l,g.end=c,g.startDate=new Date(l),g.endDate=new Date(c),this.fire(g.type,g)}}else{if(l.startOnAxis||(c+=s/2),d-=this.stepWidth/2,e=l.xToIndex(c),c=l.xToIndex(c+d),e!=this.start||this.end!=c){l.startOnAxis&&(this.resizingRight&&e==c&&c++,this.resizingLeft&&e==c&&(0<e?e--:c=1)),this.start=e,this.end=this.dragging?this.start+this.difference:c,g.start=this.start,g.end=this.end,l.parseDates&&(a[this.start]&&(g.startDate=new Date(a[this.start].time)),a[this.end]&&(g.endDate=new Date(a[this.end].time))),this.fire(g.type,g)}}f&&this.zoomScrollbar()}},zoomScrollbar:function(){var e,i;e=this.chart;var a=e.chartData,c=this.categoryAxis;c.parseDates&&!c.equalSpacing?(a=c.stepWidth,c=e.firstTime,e=a*(this.startTime-c),i=a*(this.endTime-c)):(e=a[this.start].x[c.id],i=a[this.end].x[c.id],a=c.stepWidth,c.startOnAxis||(c=a/2,e-=c,i+=c));this.stepWidth=a;this.updateScrollbarSize(e,i)},maskGraphs:function(e,k,a,d){var c=this.selectedGraph;c&&c.set.clipRect(e,k,a,d)},handleDragStart:function(){b.ChartScrollbar.base.handleDragStart.call(this);this.difference=this.end-this.start;this.timeDifference=this.endTime-this.startTime;0>this.timeDifference&&(this.timeDifference=0)},handleBackgroundClick:function(){b.ChartScrollbar.base.handleBackgroundClick.call(this);this.dragging||(this.difference=this.end-this.start,this.timeDifference=this.endTime-this.startTime,0>this.timeDifference&&(this.timeDifference=0))}})})();(function(){var b=window.AmCharts;b.AmBalloon=b.Class({construct:function(a){this.cname="AmBalloon";this.enabled=!0;this.fillColor="#FFFFFF";this.fillAlpha=0.8;this.borderThickness=2;this.borderColor="#FFFFFF";this.borderAlpha=1;this.cornerRadius=0;this.maxWidth=220;this.horizontalPadding=8;this.verticalPadding=4;this.pointerWidth=6;this.pointerOrientation="V";this.color="#000000";this.adjustBorderColor=!0;this.show=this.follow=this.showBullet=!1;this.bulletSize=3;this.shadowAlpha=0.4;this.shadowColor="#000000";this.fadeOutDuration=this.animationDuration=0.3;this.fixedPosition=!1;this.offsetY=6;this.offsetX=1;this.textAlign="center";this.disableMouseEvents=!0;this.deltaSignX=this.deltaSignY=1;b.isModern||(this.offsetY*=1.5);b.applyTheme(this,a,this.cname)},draw:function(){var I=this.pointToX,J=this.pointToY,O=this.chart;b.VML&&(this.fadeOutDuration=0);this.xAnim&&O.stopAnim(this.xAnim);this.yAnim&&O.stopAnim(this.yAnim);if(!isNaN(I)){var ab=this.follow,e=O.container,a=this.set;b.remove(a);this.removeDiv();a=e.set();a.node.style.pointerEvents="none";this.set=a;O.balloonsSet.push(a);if(this.show){var c=this.l,f=this.t,g=this.r,h=this.b,k=this.balloonColor,l=this.fillColor,n=this.borderColor,q=l;void 0!=k&&(this.adjustBorderColor?q=n=k:l=k);var y=this.horizontalPadding,u=this.verticalPadding,m=this.pointerWidth,B=this.pointerOrientation,z=this.cornerRadius,v=O.fontFamily,D=this.fontSize;void 0==D&&(D=O.fontSize);var k=document.createElement("div"),p=O.classNamePrefix;k.className=p+"-balloon-div";this.className&&(k.className=k.className+" "+p+"-balloon-div-"+this.className);p=k.style;this.disableMouseEvents&&(p.pointerEvents="none");p.position="absolute";var r=this.minWidth,t="";isNaN(r)||(t="min-width:"+(r-2*y)+"px; ");k.innerHTML="<div style='text-align:"+this.textAlign+"; "+t+"max-width:"+this.maxWidth+"px; font-size:"+D+"px; color:"+this.color+"; font-family:"+v+"'>"+this.text+"</div>";O.chartDiv.appendChild(k);this.textDiv=k;D=k.offsetWidth;v=k.offsetHeight;k.clientHeight&&(D=k.clientWidth,v=k.clientHeight);v+=2*u;t=D+2*y;!isNaN(r)&&t<r&&(t=r);window.opera&&(v+=2);var C=!1,D=this.offsetY;O.handDrawn&&(D+=O.handDrawScatter+2);"H"!=B?(r=I-t/2,J<f+v+10&&"down"!=B?(C=!0,ab&&(J+=D),D=J+m,this.deltaSignY=-1):(ab&&(J-=D),D=J-v-m,this.deltaSignY=1)):(2*m>v&&(m=v/2),D=J-v/2,I<c+(g-c)/2?(r=I+m,this.deltaSignX=-1):(r=I-t-m,this.deltaSignX=1));D+v>=h&&(D=h-v);D<f&&(D=f);r<c&&(r=c);r+t>g&&(r=g-t);var f=D+u,h=r+y,u=this.shadowAlpha,w=this.shadowColor,y=this.borderThickness,E=this.bulletSize,A;0<z||0===m?(0<u&&(I=b.rect(e,t,v,l,0,y+1,w,u,this.cornerRadius),b.isModern?I.translate(1,1):I.translate(4,4),a.push(I)),l=b.rect(e,t,v,l,this.fillAlpha,y,n,this.borderAlpha,this.cornerRadius),this.showBullet&&(A=b.circle(e,E,q,this.fillAlpha),a.push(A))):(q=[],z=[],"H"!=B?(c=I-r,c>t-m&&(c=t-m),c<m&&(c=m),q=[0,c-m,I-r,c+m,t,t,0,0],z=C?[0,0,J-D,0,0,v,v,0]:[v,v,J-D,v,v,0,0,v]):(q=J-D,q>v-m&&(q=v-m),q<m&&(q=m),z=[0,q-m,J-D,q+m,v,v,0,0],q=I<c+(g-c)/2?[0,0,r<I?0:I-r,0,0,t,t,0]:[t,t,r+t>I?t:I-r,t,t,0,0,t]),0<u&&(I=b.polygon(e,q,z,l,0,y,w,u),I.translate(1,1),a.push(I)),l=b.polygon(e,q,z,l,this.fillAlpha,y,n,this.borderAlpha));this.bg=l;a.push(l);l.toFront();b.setCN(O,l,"balloon-bg");this.className&&b.setCN(O,l,"balloon-bg-"+this.className);e=1*this.deltaSignX;p.left=h+"px";p.top=f+"px";a.translate(r-e,D);l=l.getBBox();this.bottom=D+v+1;this.yPos=l.y+D;A&&A.translate(this.pointToX-r+e,J-D);J=this.animationDuration;0<this.animationDuration&&!ab&&!isNaN(this.prevX)&&(a.translate(this.prevX,this.prevY),a.animate({translate:r-e+","+D},J,"easeOutSine"),k&&(p.left=this.prevTX+"px",p.top=this.prevTY+"px",this.xAnim=O.animate({node:k},"left",this.prevTX,h,J,"easeOutSine","px"),this.yAnim=O.animate({node:k},"top",this.prevTY,f,J,"easeOutSine","px")));this.prevX=r-e;this.prevY=D;this.prevTX=h;this.prevTY=f}}},followMouse:function(){if(this.follow&&this.show){var e=this.chart.mouseX-this.offsetX*this.deltaSignX,k=this.chart.mouseY;this.pointToX=e;this.pointToY=k;if(e!=this.previousX||k!=this.previousY){if(this.previousX=e,this.previousY=k,0===this.cornerRadius){this.draw()}else{var a=this.set;if(a){var d=a.getBBox(),e=e-d.width/2,c=k-d.height-10;e<this.l&&(e=this.l);e>this.r-d.width&&(e=this.r-d.width);c<this.t&&(c=k+10);a.translate(e,c);k=this.textDiv.style;k.left=e+this.horizontalPadding+"px";k.top=c+this.verticalPadding+"px"}}}}},changeColor:function(a){this.balloonColor=a},setBounds:function(e,i,a,c){this.l=e;this.t=i;this.r=a;this.b=c;this.destroyTO&&clearTimeout(this.destroyTO)},showBalloon:function(a){this.text=a;this.show=!0;this.destroyTO&&clearTimeout(this.destroyTO);a=this.chart;this.fadeAnim1&&a.stopAnim(this.fadeAnim1);this.fadeAnim2&&a.stopAnim(this.fadeAnim2);this.draw()},hide:function(e){var i=this;isNaN(e)&&(e=i.fadeOutDuration);var a=i.chart;if(0<e){i.destroyTO&&clearTimeout(i.destroyTO);i.destroyTO=setTimeout(function(){i.destroy.call(i)},1000*e);i.follow=!1;i.show=!1;var c=i.set;c&&(c.setAttr("opacity",i.fillAlpha),i.fadeAnim1=c.animate({opacity:0},e,"easeInSine"));i.textDiv&&(i.fadeAnim2=a.animate({node:i.textDiv},"opacity",1,0,e,"easeInSine",""))}else{i.show=!1,i.follow=!1,i.destroy()}},setPosition:function(c,g,a){this.pointToX=c;this.pointToY=g;a&&(c==this.previousX&&g==this.previousY||this.draw());this.previousX=c;this.previousY=g},followCursor:function(e){var i=this;(i.follow=e)?(i.pShowBullet=i.showBullet,i.showBullet=!1):void 0!==i.pShowBullet&&(i.showBullet=i.pShowBullet);clearInterval(i.interval);var a=i.chart.mouseX,c=i.chart.mouseY;!isNaN(a)&&e&&(i.pointToX=a-i.offsetX*i.deltaSignX,i.pointToY=c,i.followMouse(),i.interval=setInterval(function(){i.followMouse.call(i)},40))},removeDiv:function(){if(this.textDiv){var a=this.textDiv.parentNode;a&&a.removeChild(this.textDiv)}},destroy:function(){clearInterval(this.interval);b.remove(this.set);this.removeDiv();this.set=null}})})();(function(){var b=window.AmCharts;b.AmCoordinateChart=b.Class({inherits:b.AmChart,construct:function(a){b.AmCoordinateChart.base.construct.call(this,a);this.theme=a;this.createEvents("rollOverGraphItem","rollOutGraphItem","clickGraphItem","doubleClickGraphItem","rightClickGraphItem","clickGraph","rollOverGraph","rollOutGraph");this.startAlpha=1;this.startDuration=0;this.startEffect="elastic";this.sequencedAnimation=!0;this.colors="#FF6600 #FCD202 #B0DE09 #0D8ECF #2A0CD0 #CD0D74 #CC0000 #00CC00 #0000CC #DDDDDD #999999 #333333 #990000".split(" ");this.balloonDateFormat="MMM DD, YYYY";this.valueAxes=[];this.graphs=[];this.guides=[];this.gridAboveGraphs=!1;b.applyTheme(this,a,"AmCoordinateChart")},initChart:function(){b.AmCoordinateChart.base.initChart.call(this);var a=this.categoryAxis;a&&(this.categoryAxis=b.processObject(a,b.CategoryAxis,this.theme));this.processValueAxes();this.createValueAxes();this.processGraphs();this.processGuides();b.VML&&(this.startAlpha=1);this.setLegendData(this.graphs);this.gridAboveGraphs&&this.gridSet.toFront()},createValueAxes:function(){if(0===this.valueAxes.length){var a=new b.ValueAxis;this.addValueAxis(a)}},parseData:function(){this.processValueAxes();this.processGraphs()},parseSerialData:function(D){var E=this.graphs,J,O={},ad=this.seriesIdField;ad||(ad=this.categoryField);this.chartData=[];if(D){var W=!1,ac,a=this.categoryAxis,c,e,f;a&&(W=a.parseDates,c=a.forceShowField,f=a.classNameField,e=a.labelColorField,ac=a.categoryFunction);var g,k,m={},t;W&&(J=b.extractPeriod(a.minPeriod),g=J.period,k=J.count,t=b.getPeriodDuration(g,k));var q={};this.lookupTable=q;var h,u=this.dataDateFormat,v={};for(h=0;h<D.length;h++){var w={},A=D[h];J=A[this.categoryField];w.dataContext=A;w.category=ac?ac(J,A,a):String(J);c&&(w.forceShow=A[c]);f&&(w.className=A[f]);e&&(w.labelColor=A[e]);q[A[ad]]=w;if(W&&(a.categoryFunction?J=a.categoryFunction(J,A,a):(!u||J instanceof Date||(J=J.toString()+" |"),J=b.getDate(J,u,a.minPeriod)),J=b.resetDateToMin(J,g,k,a.firstDayOfWeek),w.category=J,w.time=J.getTime(),isNaN(w.time))){continue}var l=this.valueAxes;w.axes={};w.x={};var n;for(n=0;n<l.length;n++){var p=l[n].id;w.axes[p]={};w.axes[p].graphs={};var z;for(z=0;z<E.length;z++){J=E[z];var r=J.id,B=1.1;isNaN(J.gapPeriod)||(B=J.gapPeriod);var y=J.periodValue;if(J.valueAxis.id==p){w.axes[p].graphs[r]={};var I={};I.index=h;var C=A;J.dataProvider&&(C=O);I.values=this.processValues(C,J,y);!J.connect&&v&&v[r]&&0<B&&w.time-m[r]>=t*B&&(v[r].gap=!0);this.processFields(J,I,C);I.category=w.category;I.serialDataItem=w;I.graph=J;w.axes[p].graphs[r]=I;m[r]=w.time;v[r]=I}}}this.chartData[h]=w}}for(D=0;D<E.length;D++){J=E[D],J.dataProvider&&this.parseGraphData(J)}},processValues:function(m,u,a){var c={},g,e=!1;"candlestick"!=u.type&&"ohlc"!=u.type||""===a||(e=!0);for(var f="value error open close low high".split(" "),h=0;h<f.length;h++){var k=f[h];"value"!=k&&"error"!=k&&e&&(a=k.charAt(0).toUpperCase()+k.slice(1));var l=m[u[k+"Field"]+a];null!==l&&(g=Number(l),isNaN(g)||(c[k]=g),"date"==u.valueAxis.type&&void 0!==l&&(g=b.getDate(l,u.chart.dataDateFormat),c[k]=g.getTime()))}return c},parseGraphData:function(f){var g=f.dataProvider,o=f.seriesIdField;o||(o=this.seriesIdField);o||(o=this.categoryField);var c;for(c=0;c<g.length;c++){var a=g[c],d=this.lookupTable[String(a[o])],e=f.valueAxis.id;d&&(e=d.axes[e].graphs[f.id],e.serialDataItem=d,e.values=this.processValues(a,f,f.periodValue),this.processFields(f,e,a))}},addValueAxis:function(a){a.chart=this;this.valueAxes.push(a);this.validateData()},removeValueAxesAndGraphs:function(){var a=this.valueAxes,e;for(e=a.length-1;-1<e;e--){this.removeValueAxis(a[e])}},removeValueAxis:function(e){var i=this.graphs,a;for(a=i.length-1;0<=a;a--){var c=i[a];c&&c.valueAxis==e&&this.removeGraph(c)}i=this.valueAxes;for(a=i.length-1;0<=a;a--){i[a]==e&&i.splice(a,1)}this.validateData()},addGraph:function(a){this.graphs.push(a);this.chooseGraphColor(a,this.graphs.length-1);this.validateData()},removeGraph:function(c){var g=this.graphs,a;for(a=g.length-1;0<=a;a--){g[a]==c&&(g.splice(a,1),c.destroy())}this.validateData()},processValueAxes:function(){var c=this.valueAxes,g;for(g=0;g<c.length;g++){var a=c[g],a=b.processObject(a,b.ValueAxis,this.theme);c[g]=a;a.chart=this;a.id||(a.id="valueAxisAuto"+g+"_"+(new Date).getTime());void 0===a.usePrefixes&&(a.usePrefixes=this.usePrefixes)}},processGuides:function(){var h=this.guides,k=this.categoryAxis;if(h){for(var a=0;a<h.length;a++){var c=h[a];(void 0!==c.category||void 0!==c.date)&&k&&k.addGuide(c);c.id||(c.id="guideAuto"+a+"_"+(new Date).getTime());var e=c.valueAxis;e?(b.isString(e)&&(e=this.getValueAxisById(e)),e?e.addGuide(c):this.valueAxes[0].addGuide(c)):isNaN(c.value)||this.valueAxes[0].addGuide(c)}}},processGraphs:function(){var c=this.graphs,g;for(g=0;g<c.length;g++){var a=c[g],a=b.processObject(a,b.AmGraph,this.theme);c[g]=a;this.chooseGraphColor(a,g);a.chart=this;b.isString(a.valueAxis)&&(a.valueAxis=this.getValueAxisById(a.valueAxis));a.valueAxis||(a.valueAxis=this.valueAxes[0]);a.id||(a.id="graphAuto"+g+"_"+(new Date).getTime())}},formatString:function(h,k,a){var c=k.graph,e=c.valueAxis;e.duration&&k.values.value&&(e=b.formatDuration(k.values.value,e.duration,"",e.durationUnits,e.maxInterval,e.numberFormatter),h=h.split("[[value]]").join(e));h=b.massReplace(h,{"[[title]]":c.title,"[[description]]":k.description});h=a?b.fixNewLines(h):b.fixBrakes(h);return h=b.cleanFromEmpty(h)},getBalloonColor:function(h,k,a){var c=h.lineColor,e=h.balloonColor;a&&(e=c);a=h.fillColorsR;"object"==typeof a?c=a[0]:void 0!==a&&(c=a);k.isNegative&&(a=h.negativeLineColor,h=h.negativeFillColors,"object"==typeof h?a=h[0]:void 0!==h&&(a=h),void 0!==a&&(c=a));void 0!==k.color&&(c=k.color);void 0!==k.lineColor&&(c=k.lineColor);k=k.fillColors;void 0!==k&&(c=k,b.ifArray(k)&&(c=k[0]));void 0===e&&(e=c);return e},getGraphById:function(a){return b.getObjById(this.graphs,a)},getValueAxisById:function(a){return b.getObjById(this.valueAxes,a)},processFields:function(g,h,o){if(g.itemColors){var a=g.itemColors,f=h.index;h.color=f<a.length?a[f]:b.randomColor()}a="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" ");for(f=0;f<a.length;f++){var c=a[f],e=g[c+"Field"];e&&(e=o[e],b.isDefined(e)&&(h[c]=e))}h.dataContext=o},chooseGraphColor:function(c,g){if(c.lineColor){c.lineColorR=c.lineColor}else{var a;a=this.colors.length>g?this.colors[g]:b.randomColor();c.lineColorR=a}c.fillColorsR=c.fillColors?c.fillColors:c.lineColorR;c.bulletBorderColorR=c.bulletBorderColor?c.bulletBorderColor:c.useLineColorForBulletBorder?c.lineColorR:c.bulletColor;c.bulletColorR=c.bulletColor?c.bulletColor:c.lineColorR;if(a=this.patterns){c.pattern=a[g]}},handleLegendEvent:function(e){var i=e.type;e=e.dataItem;if(!this.legend.data&&e){var a=e.hidden,c=e.showBalloon;switch(i){case"clickMarker":this.textClickEnabled&&(c?this.hideGraphsBalloon(e):this.showGraphsBalloon(e));break;case"clickLabel":c?this.hideGraphsBalloon(e):this.showGraphsBalloon(e);break;case"rollOverItem":a||this.highlightGraph(e);break;case"rollOutItem":a||this.unhighlightGraph();break;case"hideItem":this.hideGraph(e);break;case"showItem":this.showGraph(e)}}},highlightGraph:function(e){var k=this.graphs,a,d=0.2;this.legend&&(d=this.legend.rollOverGraphAlpha);if(1!=d){for(a=0;a<k.length;a++){var c=k[a];c!=e&&c.changeOpacity(d)}}},unhighlightGraph:function(){var a;this.legend&&(a=this.legend.rollOverGraphAlpha);if(1!=a){a=this.graphs;var e;for(e=0;e<a.length;e++){a[e].changeOpacity(1)}}},showGraph:function(a){a.switchable&&(a.hidden=!1,this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),this.chartCreated&&this.initChart())},hideGraph:function(a){a.switchable&&(this.dataChanged=!0,"xy"!=this.type&&(this.marginsUpdated=!1),a.hidden=!0,this.chartCreated&&this.initChart())},hideGraphsBalloon:function(a){a.showBalloon=!1;this.updateLegend()},showGraphsBalloon:function(a){a.showBalloon=!0;this.updateLegend()},updateLegend:function(){this.legend&&this.legend.invalidateSize()},resetAnimation:function(){var a=this.graphs;if(a){var e;for(e=0;e<a.length;e++){a[e].animationPlayed=!1}}},animateAgain:function(){this.resetAnimation();this.validateNow()}})})();(function(){var b=window.AmCharts;b.AmSlicedChart=b.Class({inherits:b.AmChart,construct:function(a){this.createEvents("rollOverSlice","rollOutSlice","clickSlice","pullOutSlice","pullInSlice","rightClickSlice");b.AmSlicedChart.base.construct.call(this,a);this.colors="#FF0F00 #FF6600 #FF9E01 #FCD202 #F8FF01 #B0DE09 #04D215 #0D8ECF #0D52D1 #2A0CD0 #8A0CCF #CD0D74 #754DEB #DDDDDD #999999 #333333 #000000 #57032A #CA9726 #990000 #4B0C25".split(" ");this.alpha=1;this.groupPercent=0;this.groupedTitle="Other";this.groupedPulled=!1;this.groupedAlpha=1;this.marginLeft=0;this.marginBottom=this.marginTop=10;this.marginRight=0;this.hoverAlpha=1;this.outlineColor="#FFFFFF";this.outlineAlpha=0;this.outlineThickness=1;this.startAlpha=0;this.startDuration=1;this.startEffect="bounce";this.sequencedAnimation=!0;this.pullOutDuration=1;this.pullOutEffect="bounce";this.pullOnHover=this.pullOutOnlyOne=!1;this.labelsEnabled=!0;this.labelTickColor="#000000";this.labelTickAlpha=0.2;this.hideLabelsPercent=0;this.urlTarget="_self";this.autoMarginOffset=10;this.gradientRatio=[];this.maxLabelWidth=200;b.applyTheme(this,a,"AmSlicedChart")},initChart:function(){b.AmSlicedChart.base.initChart.call(this);this.dataChanged&&(this.parseData(),this.dispatchDataUpdated=!0,this.dataChanged=!1,this.setLegendData(this.chartData));this.drawChart()},handleLegendEvent:function(e){var k=e.type,a=e.dataItem,d=this.legend;if(!d.data&&a){var c=a.hidden;e=e.event;switch(k){case"clickMarker":c||d.switchable||this.clickSlice(a,e);break;case"clickLabel":c||this.clickSlice(a,e,!1);break;case"rollOverItem":c||this.rollOverSlice(a,!1,e);break;case"rollOutItem":c||this.rollOutSlice(a,e);break;case"hideItem":this.hideSlice(a,e);break;case"showItem":this.showSlice(a,e)}}},invalidateVisibility:function(){this.recalculatePercents();this.initChart();var a=this.legend;a&&a.invalidateSize()},addEventListeners:function(c,g){var a=this;c.mouseover(function(d){a.rollOverSlice(g,!0,d)}).mouseout(function(d){a.rollOutSlice(g,d)}).touchend(function(d){a.rollOverSlice(g,d);a.panEventsEnabled&&a.clickSlice(g,d)}).touchstart(function(d){a.rollOverSlice(g,d)}).click(function(d){a.clickSlice(g,d)}).contextmenu(function(d){a.handleRightClick(g,d)})},formatString:function(e,i,a){e=b.formatValue(e,i,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers);var c=this.pf.precision;isNaN(this.tempPrec)||(this.pf.precision=this.tempPrec);e=b.formatValue(e,i,["percents"],this.pf);e=b.massReplace(e,{"[[title]]":i.title,"[[description]]":i.description});this.pf.precision=c;-1!=e.indexOf("[[")&&(e=b.formatDataContextValue(e,i.dataContext));e=a?b.fixNewLines(e):b.fixBrakes(e);return e=b.cleanFromEmpty(e)},startSlices:function(){var a;for(a=0;a<this.chartData.length;a++){0<this.startDuration&&this.sequencedAnimation?this.setStartTO(a):this.startSlice(this.chartData[a])}},setStartTO:function(a){var e=this;a=setTimeout(function(){e.startSequenced.call(e)},e.startDuration/e.chartData.length*500*a);e.timeOuts.push(a)},pullSlices:function(e){var i=this.chartData,a;for(a=0;a<i.length;a++){var c=i[a];c.pulled&&this.pullSlice(c,1,e)}},startSequenced:function(){var a=this.chartData,e;for(e=0;e<a.length;e++){if(!a[e].started){this.startSlice(this.chartData[e]);break}}},startSlice:function(e){e.started=!0;var i=e.wedge,a=this.startDuration,c=e.labelSet;i&&0<a&&(0<e.alpha&&i.show(),i.translate(e.startX,e.startY),i.animate({opacity:1,translate:"0,0"},a,this.startEffect));c&&0<a&&(0<e.alpha&&c.show(),c.translate(e.startX,e.startY),c.animate({opacity:1,translate:"0,0"},a,this.startEffect))},showLabels:function(){var e=this.chartData,i;for(i=0;i<e.length;i++){var a=e[i];if(0<a.alpha){var c=a.label;c&&c.show();(a=a.tick)&&a.show()}}},showSlice:function(a){isNaN(a)?a.hidden=!1:this.chartData[a].hidden=!1;this.invalidateVisibility()},hideSlice:function(a){isNaN(a)?a.hidden=!0:this.chartData[a].hidden=!0;this.hideBalloon();this.invalidateVisibility()},rollOverSlice:function(g,h,o){isNaN(g)||(g=this.chartData[g]);clearTimeout(this.hoverInt);if(!g.hidden){this.pullOnHover&&this.pullSlice(g,1);1>this.hoverAlpha&&g.wedge&&g.wedge.attr({opacity:this.hoverAlpha});var a=g.balloonX,f=g.balloonY;g.pulled&&(a+=g.pullX,f+=g.pullY);var c=this.formatString(this.balloonText,g,!0),e=this.balloonFunction;e&&(c=e(g,c));e=b.adjustLuminosity(g.color,-0.15);c?this.showBalloon(c,e,h,a,f):this.hideBalloon();0===g.value&&this.hideBalloon();g={type:"rollOverSlice",dataItem:g,chart:this,event:o};this.fire(g.type,g)}},rollOutSlice:function(c,g){isNaN(c)||(c=this.chartData[c]);c.wedge&&c.wedge.attr({opacity:1});this.hideBalloon();var a={type:"rollOutSlice",dataItem:c,chart:this,event:g};this.fire(a.type,a)},clickSlice:function(c,g,a){isNaN(c)||(c=this.chartData[c]);c.pulled?this.pullSlice(c,0):this.pullSlice(c,1);b.getURL(c.url,this.urlTarget);a||(c={type:"clickSlice",dataItem:c,chart:this,event:g},this.fire(c.type,c))},handleRightClick:function(c,g){isNaN(c)||(c=this.chartData[c]);var a={type:"rightClickSlice",dataItem:c,chart:this,event:g};this.fire(a.type,a)},drawTicks:function(){var e=this.chartData,i;for(i=0;i<e.length;i++){var a=e[i];if(a.label){var c=a.ty,c=b.line(this.container,[a.tx0,a.tx,a.tx2],[a.ty0,c,c],this.labelTickColor,this.labelTickAlpha);b.setCN(this,c,this.type+"-tick");b.setCN(this,c,a.className,!0);a.tick=c;a.wedge.push(c)}}},initialStart:function(){var c=this,g=c.startDuration,a=setTimeout(function(){c.showLabels.call(c)},1000*g);c.timeOuts.push(a);c.chartCreated?c.pullSlices(!0):(c.startSlices(),0<g?(g=setTimeout(function(){c.pullSlices.call(c)},1200*g),c.timeOuts.push(g)):c.pullSlices(!0))},pullSlice:function(e,i,a){var c=this.pullOutDuration;!0===a&&(c=0);if(a=e.wedge){0<c?(a.animate({translate:i*e.pullX+","+i*e.pullY},c,this.pullOutEffect),e.labelSet&&e.labelSet.animate({translate:i*e.pullX+","+i*e.pullY},c,this.pullOutEffect)):(e.labelSet&&e.labelSet.translate(i*e.pullX,i*e.pullY),a.translate(i*e.pullX,i*e.pullY))}1==i?(e.pulled=!0,this.pullOutOnlyOne&&this.pullInAll(e.index),e={type:"pullOutSlice",dataItem:e,chart:this}):(e.pulled=!1,e={type:"pullInSlice",dataItem:e,chart:this});this.fire(e.type,e)},pullInAll:function(c){var g=this.chartData,a;for(a=0;a<this.chartData.length;a++){a!=c&&g[a].pulled&&this.pullSlice(g[a],0)}},pullOutAll:function(){var a=this.chartData,e;for(e=0;e<a.length;e++){a[e].pulled||this.pullSlice(a[e],1)}},parseData:function(){var f=[];this.chartData=f;var k=this.dataProvider;isNaN(this.pieAlpha)||(this.alpha=this.pieAlpha);if(void 0!==k){var g=k.length,h=0,c,q,a;for(c=0;c<g;c++){q={};var e=k[c];q.dataContext=e;null!==e[this.valueField]&&(q.value=Number(e[this.valueField]));(a=e[this.titleField])||(a="");q.title=a;q.pulled=b.toBoolean(e[this.pulledField],!1);(a=e[this.descriptionField])||(a="");q.description=a;q.labelRadius=Number(e[this.labelRadiusField]);q.switchable=!0;q.className=e[this.classNameField];q.url=e[this.urlField];a=e[this.patternField];!a&&this.patterns&&(a=this.patterns[c]);q.pattern=a;q.visibleInLegend=b.toBoolean(e[this.visibleInLegendField],!0);a=e[this.alphaField];q.alpha=void 0!==a?Number(a):this.alpha;a=e[this.colorField];void 0!==a&&(q.color=a);q.labelColor=b.toColor(e[this.labelColorField]);h+=q.value;q.hidden=!1;f[c]=q}for(c=k=0;c<g;c++){q=f[c],q.percents=q.value/h*100,q.percents<this.groupPercent&&k++}1<k&&(this.groupValue=0,this.removeSmallSlices(),f.push({title:this.groupedTitle,value:this.groupValue,percents:this.groupValue/h*100,pulled:this.groupedPulled,color:this.groupedColor,url:this.groupedUrl,description:this.groupedDescription,alpha:this.groupedAlpha,pattern:this.groupedPattern,className:this.groupedClassName,dataContext:{}}));g=this.baseColor;g||(g=this.pieBaseColor);h=this.brightnessStep;h||(h=this.pieBrightnessStep);for(c=0;c<f.length;c++){g?a=b.adjustLuminosity(g,c*h/100):(a=this.colors[c],void 0===a&&(a=b.randomColor())),void 0===f[c].color&&(f[c].color=a)}this.recalculatePercents()}},recalculatePercents:function(){var e=this.chartData,i=0,a,c;for(a=0;a<e.length;a++){c=e[a],!c.hidden&&0<c.value&&(i+=c.value)}for(a=0;a<e.length;a++){c=this.chartData[a],c.percents=!c.hidden&&0<c.value?100*c.value/i:0}},removeSmallSlices:function(){var a=this.chartData,e;for(e=a.length-1;0<=e;e--){a[e].percents<this.groupPercent&&(this.groupValue+=a[e].value,a.splice(e,1))}},animateAgain:function(){var e=this;e.startSlices();for(var i=0;i<e.chartData.length;i++){var a=e.chartData[i];a.started=!1;var c=a.wedge;c&&c.translate(a.startX,a.startY);(c=a.labelSet)&&c.translate(a.startX,a.startY)}i=e.startDuration;0<i?(i=setTimeout(function(){e.pullSlices.call(e)},1200*i),e.timeOuts.push(i)):e.pullSlices()},measureMaxLabel:function(){var h=this.chartData,m=0,a;for(a=0;a<h.length;a++){var c=h[a],f=this.formatString(this.labelText,c),e=this.labelFunction;e&&(f=e(c,f));c=b.text(this.container,f,this.color,this.fontFamily,this.fontSize);f=c.getBBox().width;f>m&&(m=f);c.remove()}return m}})})();(function(){var b=window.AmCharts;b.AmRectangularChart=b.Class({inherits:b.AmCoordinateChart,construct:function(a){b.AmRectangularChart.base.construct.call(this,a);this.theme=a;this.createEvents("zoomed");this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=20;this.verticalPosition=this.horizontalPosition=this.depth3D=this.angle=0;this.heightMultiplier=this.widthMultiplier=1;this.plotAreaFillColors="#FFFFFF";this.plotAreaFillAlphas=0;this.plotAreaBorderColor="#000000";this.plotAreaBorderAlpha=0;this.zoomOutButtonImageSize=19;this.zoomOutButtonImage="lens.png";this.zoomOutText="Show all";this.zoomOutButtonColor="#e5e5e5";this.zoomOutButtonAlpha=0;this.zoomOutButtonRollOverAlpha=1;this.zoomOutButtonPadding=8;this.trendLines=[];this.autoMargins=!0;this.marginsUpdated=!1;this.autoMarginOffset=10;b.applyTheme(this,a,"AmRectangularChart")},initChart:function(){b.AmRectangularChart.base.initChart.call(this);this.updateDxy();var a=!0;!this.marginsUpdated&&this.autoMargins&&(this.resetMargins(),a=!1);this.processScrollbars();this.updateMargins();this.updatePlotArea();this.updateScrollbars();this.updateTrendLines();this.updateChartCursor();this.updateValueAxes();a&&(this.scrollbarOnly||this.updateGraphs())},drawChart:function(){b.AmRectangularChart.base.drawChart.call(this);this.drawPlotArea();if(b.ifArray(this.chartData)){var a=this.chartCursor;a&&a.draw()}},resetMargins:function(){var e={},k;if("xy"==this.type){var a=this.xAxes,d=this.yAxes;for(k=0;k<a.length;k++){var c=a[k];c.ignoreAxisWidth||(c.setOrientation(!0),c.fixAxisPosition(),e[c.position]=!0)}for(k=0;k<d.length;k++){a=d[k],a.ignoreAxisWidth||(a.setOrientation(!1),a.fixAxisPosition(),e[a.position]=!0)}}else{d=this.valueAxes;for(k=0;k<d.length;k++){a=d[k],a.ignoreAxisWidth||(a.setOrientation(this.rotate),a.fixAxisPosition(),e[a.position]=!0)}(k=this.categoryAxis)&&!k.ignoreAxisWidth&&(k.setOrientation(!this.rotate),k.fixAxisPosition(),k.fixAxisPosition(),e[k.position]=!0)}e.left&&(this.marginLeft=0);e.right&&(this.marginRight=0);e.top&&(this.marginTop=0);e.bottom&&(this.marginBottom=0);this.fixMargins=e},measureMargins:function(){var m=this.valueAxes,u,a=this.autoMarginOffset,d=this.fixMargins,c=this.realWidth,e=this.realHeight,f=a,g=a,k=c;u=e;var l;for(l=0;l<m.length;l++){m[l].handleSynchronization(),u=this.getAxisBounds(m[l],f,k,g,u),f=Math.round(u.l),k=Math.round(u.r),g=Math.round(u.t),u=Math.round(u.b)}if(m=this.categoryAxis){u=this.getAxisBounds(m,f,k,g,u),f=Math.round(u.l),k=Math.round(u.r),g=Math.round(u.t),u=Math.round(u.b)}d.left&&f<a&&(this.marginLeft=Math.round(-f+a));d.right&&k>=c-a&&(this.marginRight=Math.round(k-c+a));d.top&&g<a+this.titleHeight&&(this.marginTop=Math.round(this.marginTop-g+a+this.titleHeight));d.bottom&&u>e-a&&(this.marginBottom=Math.round(this.marginBottom+u-e+a));this.initChart()},getAxisBounds:function(f,g,o,c,a){if(!f.ignoreAxisWidth){var d=f.labelsSet,e=f.tickLength;f.inside&&(e=0);if(d){switch(d=f.getBBox(),f.position){case"top":f=d.y;c>f&&(c=f);break;case"bottom":f=d.y+d.height;a<f&&(a=f);break;case"right":f=d.x+d.width+e+3;o<f&&(o=f);break;case"left":f=d.x-e,g>f&&(g=f)}}}return{l:g,t:c,r:o,b:a}},drawZoomOutButton:function(){var h=this;if(!h.zbSet){var k=h.container.set();h.zoomButtonSet.push(k);var l=h.color,m=h.fontSize,q=h.zoomOutButtonImageSize,n=h.zoomOutButtonImage,p=b.lang.zoomOutText||h.zoomOutText,A=h.zoomOutButtonColor,a=h.zoomOutButtonAlpha,c=h.zoomOutButtonFontSize,e=h.zoomOutButtonPadding;isNaN(c)||(m=c);(c=h.zoomOutButtonFontColor)&&(l=c);var c=h.zoomOutButton,f;c&&(c.fontSize&&(m=c.fontSize),c.color&&(l=c.color),c.backgroundColor&&(A=c.backgroundColor),isNaN(c.backgroundAlpha)||(h.zoomOutButtonRollOverAlpha=c.backgroundAlpha));var g=c=0;void 0!==h.pathToImages&&n&&(f=h.container.image(h.pathToImages+n,0,0,q,q),b.setCN(h,f,"zoom-out-image"),k.push(f),f=f.getBBox(),c=f.width+5);void 0!==p&&(l=b.text(h.container,p,l,h.fontFamily,m,"start"),b.setCN(h,l,"zoom-out-label"),m=l.getBBox(),g=f?f.height/2-3:m.height/2,l.translate(c,g),k.push(l));f=k.getBBox();l=1;b.isModern||(l=0);A=b.rect(h.container,f.width+2*e+5,f.height+2*e-2,A,1,1,A,l);A.setAttr("opacity",a);A.translate(-e,-e);b.setCN(h,A,"zoom-out-bg");k.push(A);A.toBack();h.zbBG=A;f=A.getBBox();k.translate(h.marginLeftReal+h.plotAreaWidth-f.width+e,h.marginTopReal+e);k.hide();k.mouseover(function(){h.rollOverZB()}).mouseout(function(){h.rollOutZB()}).click(function(){h.clickZB()}).touchstart(function(){h.rollOverZB()}).touchend(function(){h.rollOutZB();h.clickZB()});for(a=0;a<k.length;a++){k[a].attr({cursor:"pointer"})}h.zbSet=k}},rollOverZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonRollOverAlpha)},rollOutZB:function(){this.zbBG.setAttr("opacity",this.zoomOutButtonAlpha)},clickZB:function(){this.zoomOut()},zoomOut:function(){this.updateScrollbar=!0;this.zoom()},drawPlotArea:function(){var m=this.dx,u=this.dy,a=this.marginLeftReal,c=this.marginTopReal,g=this.plotAreaWidth-1,e=this.plotAreaHeight-1,f=this.plotAreaFillColors,h=this.plotAreaFillAlphas,k=this.plotAreaBorderColor,l=this.plotAreaBorderAlpha;"object"==typeof h&&(h=h[0]);f=b.polygon(this.container,[0,g,g,0,0],[0,0,e,e,0],f,h,1,k,l,this.plotAreaGradientAngle);b.setCN(this,f,"plot-area");f.translate(a+m,c+u);this.set.push(f);0!==m&&0!==u&&(f=this.plotAreaFillColors,"object"==typeof f&&(f=f[0]),f=b.adjustLuminosity(f,-0.15),g=b.polygon(this.container,[0,m,g+m,g,0],[0,u,u,0,0],f,h,1,k,l),b.setCN(this,g,"plot-area-bottom"),g.translate(a,c+e),this.set.push(g),m=b.polygon(this.container,[0,0,m,m,0],[0,e,e+u,u,0],f,h,1,k,l),b.setCN(this,m,"plot-area-left"),m.translate(a,c),this.set.push(m));(a=this.bbset)&&this.scrollbarOnly&&a.remove()},updatePlotArea:function(){var c=this.updateWidth(),g=this.updateHeight(),a=this.container;this.realWidth=c;this.realWidth=g;a&&this.container.setSize(c,g);c=c-this.marginLeftReal-this.marginRightReal-this.dx;g=g-this.marginTopReal-this.marginBottomReal;1>c&&(c=1);1>g&&(g=1);this.plotAreaWidth=Math.round(c);this.plotAreaHeight=Math.round(g)},updateDxy:function(){this.dx=Math.round(this.depth3D*Math.cos(this.angle*Math.PI/180));this.dy=Math.round(-this.depth3D*Math.sin(this.angle*Math.PI/180));this.d3x=Math.round(this.columnSpacing3D*Math.cos(this.angle*Math.PI/180));this.d3y=Math.round(-this.columnSpacing3D*Math.sin(this.angle*Math.PI/180))},updateMargins:function(){var a=this.getTitleHeight();this.titleHeight=a;this.marginTopReal=this.marginTop-this.dy;this.fixMargins&&!this.fixMargins.top&&(this.marginTopReal+=a);this.marginBottomReal=this.marginBottom;this.marginLeftReal=this.marginLeft;this.marginRightReal=this.marginRight},updateValueAxes:function(){var g=this.valueAxes,h=this.marginLeftReal,o=this.marginTopReal,a=this.plotAreaHeight,f=this.plotAreaWidth,c;for(c=0;c<g.length;c++){var e=g[c];e.axisRenderer=b.RecAxis;e.guideFillRenderer=b.RecFill;e.axisItemRenderer=b.RecItem;e.dx=this.dx;e.dy=this.dy;e.viW=f-1;e.viH=a-1;e.marginsChanged=!0;e.viX=h;e.viY=o;this.updateObjectSize(e)}},updateObjectSize:function(a){a.width=(this.plotAreaWidth-1)*this.widthMultiplier;a.height=(this.plotAreaHeight-1)*this.heightMultiplier;a.x=this.marginLeftReal+this.horizontalPosition;a.y=this.marginTopReal+this.verticalPosition},updateGraphs:function(){var c=this.graphs,g;for(g=0;g<c.length;g++){var a=c[g];a.x=this.marginLeftReal+this.horizontalPosition;a.y=this.marginTopReal+this.verticalPosition;a.width=this.plotAreaWidth*this.widthMultiplier;a.height=this.plotAreaHeight*this.heightMultiplier;a.index=g;a.dx=this.dx;a.dy=this.dy;a.rotate=this.rotate}},updateChartCursor:function(){var a=this.chartCursor;a&&(a=b.processObject(a,b.ChartCursor,this.theme),this.addChartCursor(a),a.x=this.marginLeftReal,a.y=this.marginTopReal,a.width=this.plotAreaWidth-1,a.height=this.plotAreaHeight-1,a.chart=this)},processScrollbars:function(){var a=this.chartScrollbar;a&&(a=b.processObject(a,b.ChartScrollbar,this.theme),this.addChartScrollbar(a))},updateScrollbars:function(){},addChartCursor:function(a){b.callMethod("destroy",[this.chartCursor]);a&&(this.listenTo(a,"changed",this.handleCursorChange),this.listenTo(a,"zoomed",this.handleCursorZoom));this.chartCursor=a},removeChartCursor:function(){b.callMethod("destroy",[this.chartCursor]);this.chartCursor=null},zoomTrendLines:function(){var c=this.trendLines,g;for(g=0;g<c.length;g++){var a=c[g];a.valueAxis.recalculateToPercents?a.set&&a.set.hide():(a.x=this.marginLeftReal+this.horizontalPosition,a.y=this.marginTopReal+this.verticalPosition,a.draw())}},addTrendLine:function(a){this.trendLines.push(a)},removeTrendLine:function(c){var g=this.trendLines,a;for(a=g.length-1;0<=a;a--){g[a]==c&&g.splice(a,1)}},adjustMargins:function(e,i){var a=e.position,c=e.scrollbarHeight+e.offset;e.enabled&&("top"==a?i?this.marginLeftReal+=c:this.marginTopReal+=c:i?this.marginRightReal+=c:this.marginBottomReal+=c)},getScrollbarPosition:function(e,k,a){var d="bottom",c="top";e.oppositeAxis||(c=d,d="top");e.position=k?"bottom"==a||"left"==a?d:c:"top"==a||"right"==a?d:c},updateChartScrollbar:function(e,f){if(e){e.rotate=f;var g=this.marginTopReal,q=this.marginLeftReal,k=e.scrollbarHeight,a=this.dx,c=this.dy,d=e.offset;"top"==e.position?f?(e.y=g,e.x=q-k-d):(e.y=g-k+c-d,e.x=q+a):f?(e.y=g+c,e.x=q+this.plotAreaWidth+a+d):(e.y=g+this.plotAreaHeight+d,e.x=this.marginLeftReal)}},showZB:function(a){var e=this.zbSet;a&&(e=this.zoomOutText,""!==e&&e&&this.drawZoomOutButton());if(e=this.zbSet){this.zoomButtonSet.push(e),a?e.show():e.hide(),this.rollOutZB()}},handleReleaseOutside:function(a){b.AmRectangularChart.base.handleReleaseOutside.call(this,a);(a=this.chartCursor)&&a.handleReleaseOutside&&a.handleReleaseOutside()},handleMouseDown:function(a){b.AmRectangularChart.base.handleMouseDown.call(this,a);var e=this.chartCursor;e&&e.handleMouseDown&&e.handleMouseDown(a)},handleCursorChange:function(){},update:function(){b.AmRectangularChart.base.update.call(this);this.chartCursor&&this.chartCursor.update&&this.chartCursor.update()}})})();(function(){var b=window.AmCharts;b.TrendLine=b.Class({construct:function(a){this.cname="TrendLine";this.createEvents("click");this.isProtected=!1;this.dashLength=0;this.lineColor="#00CC00";this.lineThickness=this.lineAlpha=1;b.applyTheme(this,a,this.cname)},draw:function(){var a=this;a.destroy();var c=a.chart,e=c.container,f,m,h,k,n=a.categoryAxis,p=a.initialDate,q=a.initialCategory,t=a.finalDate,u=a.finalCategory,g=a.valueAxis,l=a.valueAxisX,w=a.initialXValue,r=a.finalXValue,v=a.initialValue,O=a.finalValue,y=g.recalculateToPercents,A=c.dataDateFormat;n&&(p&&(p=b.getDate(p,A,"fff"),a.initialDate=p,f=n.dateToCoordinate(p)),q&&(f=n.categoryToCoordinate(q)),t&&(t=b.getDate(t,A,"fff"),a.finalDate=t,m=n.dateToCoordinate(t)),u&&(m=n.categoryToCoordinate(u)));l&&!y&&(isNaN(w)||(f=l.getCoordinate(w)),isNaN(r)||(m=l.getCoordinate(r)));g&&!y&&(isNaN(v)||(h=g.getCoordinate(v)),isNaN(O)||(k=g.getCoordinate(O)));if(!(isNaN(f)||isNaN(m)||isNaN(h)||isNaN(h))){c.rotate?(n=[h,k],k=[f,m]):(n=[f,m],k=[h,k]);p=a.lineColor;h=b.line(e,n,k,p,a.lineAlpha,a.lineThickness,a.dashLength);f=n;m=k;u=n[1]-n[0];g=k[1]-k[0];0===u&&(u=0.01);0===g&&(g=0.01);q=u/Math.abs(u);t=g/Math.abs(g);g=u*g/Math.abs(u*g)*Math.sqrt(Math.pow(u,2)+Math.pow(g,2));u=Math.asin(u/g);g=90*Math.PI/180-u;u=Math.abs(5*Math.cos(g));g=Math.abs(5*Math.sin(g));f.push(n[1]-q*g,n[0]-q*g);m.push(k[1]+t*u,k[0]+t*u);n=b.polygon(e,f,m,p,0.005,0);e=e.set([n,h]);e.translate(c.marginLeftReal,c.marginTopReal);c.trendLinesSet.push(e);b.setCN(c,h,"trend-line");b.setCN(c,h,"trend-line-"+a.id);a.line=h;a.set=e;if(h=a.initialImage){h=b.processObject(h,b.Image,a.theme),h.chart=c,h.draw(),h.translate(f[0]+h.offsetX,m[0]+h.offsetY),e.push(h.set)}if(h=a.finalImage){h=b.processObject(h,b.Image,a.theme),h.chart=c,h.draw(),h.translate(f[1]+h.offsetX,m[1]+h.offsetY),e.push(h.set)}n.mouseup(function(){a.handleLineClick()}).mouseover(function(){a.handleLineOver()}).mouseout(function(){a.handleLineOut()});n.touchend&&n.touchend(function(){a.handleLineClick()});e.clipRect(0,0,c.plotAreaWidth,c.plotAreaHeight)}},handleLineClick:function(){var a={type:"click",trendLine:this,chart:this.chart};this.fire(a.type,a)},handleLineOver:function(){var a=this.rollOverColor;void 0!==a&&this.line.attr({stroke:a})},handleLineOut:function(){this.line.attr({stroke:this.lineColor})},destroy:function(){b.remove(this.set)}})})();(function(){var b=window.AmCharts;b.Image=b.Class({construct:function(a){this.cname="Image";this.height=this.width=20;this.rotation=this.offsetY=this.offsetX=0;this.balloonColor=this.color="#000000";this.opacity=1;b.applyTheme(this,a,this.cname)},draw:function(){var e=this;e.set&&e.set.remove();var i=e.chart.container;e.set=i.set();var a,c;e.url?(a=i.image(e.url,0,0,e.width,e.height),c=1):e.svgPath&&(a=i.path(e.svgPath),a.setAttr("fill",e.color),a.setAttr("stroke",e.outlineColor),i=a.getBBox(),c=Math.min(e.width/i.width,e.height/i.height));a&&(a.setAttr("opacity",e.opacity),e.set.rotate(e.rotation),a.translate(-e.width/2,-e.height/2,c),e.balloonText&&a.mouseover(function(d){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}).mouseout(function(d){e.chart.hideBalloon()}).touchend(function(d){e.chart.hideBalloon()}).touchstart(function(d){e.chart.showBalloon(e.balloonText,e.balloonColor,!0)}),e.set.push(a))},translate:function(a,e){this.set&&this.set.translate(a,e)}})})();(function(){var b=window.AmCharts;b.circle=function(a,c,e,f,k,g,h,l,s){0>=c&&(c=0.001);if(void 0==k||0===k){k=0.01}void 0===g&&(g="#000000");void 0===h&&(h=0);f={fill:e,stroke:g,"fill-opacity":f,"stroke-width":k,"stroke-opacity":h};a=isNaN(s)?a.circle(0,0,c).attr(f):a.ellipse(0,0,c,s).attr(f);l&&a.gradient("radialGradient",[e,b.adjustLuminosity(e,-0.6)]);return a};b.text=function(f,k,g,h,c,q,a,e){q||(q="middle");"right"==q&&(q="end");"left"==q&&(q="start");isNaN(e)&&(e=1);void 0!==k&&(k=String(k),b.isIE&&!b.isModern&&(k=k.replace("&amp;","&"),k=k.replace("&","&amp;")));g={fill:g,"font-family":h,"font-size":c,opacity:e};!0===a&&(g["font-weight"]="bold");g["text-anchor"]=q;return f.text(k,g)};b.polygon=function(h,k,l,m,q,n,p,A,a,c,e){isNaN(n)&&(n=0.01);isNaN(A)&&(A=q);var f=m,g=!1;"object"==typeof f&&1<f.length&&(g=!0,f=f[0]);void 0===p&&(p=f);q={fill:f,stroke:p,"fill-opacity":q,"stroke-width":n,"stroke-opacity":A};void 0!==e&&0<e&&(q["stroke-dasharray"]=e);e=b.dx;n=b.dy;h.handDrawn&&(l=b.makeHD(k,l,h.handDrawScatter),k=l[0],l=l[1]);p=Math.round;c&&(p=b.doNothing);c="M"+(p(k[0])+e)+","+(p(l[0])+n);for(A=1;A<k.length;A++){c+=" L"+(p(k[A])+e)+","+(p(l[A])+n)}h=h.path(c+" Z").attr(q);g&&h.gradient("linearGradient",m,a);return h};b.rect=function(c,e,g,m,q,n,p,r,u,E,f){if(isNaN(e)||isNaN(g)){return c.set()}isNaN(n)&&(n=0);void 0===u&&(u=0);void 0===E&&(E=270);isNaN(q)&&(q=0);var h=m,k=!1;"object"==typeof h&&(h=h[0],k=!0);void 0===p&&(p=h);void 0===r&&(r=q);e=Math.round(e);g=Math.round(g);var l=0,a=0;0>e&&(e=Math.abs(e),l=-e);0>g&&(g=Math.abs(g),a=-g);l+=b.dx;a+=b.dy;q={fill:h,stroke:p,"fill-opacity":q,"stroke-opacity":r};void 0!==f&&0<f&&(q["stroke-dasharray"]=f);c=c.rect(l,a,e,g,u,n).attr(q);k&&c.gradient("linearGradient",m,E);return c};b.bullet=function(h,k,l,m,q,n,p,A,a,c,e,f){var g;"circle"==k&&(k="round");switch(k){case"round":g=b.circle(h,l/2,m,q,n,p,A);break;case"square":g=b.polygon(h,[-l/2,l/2,l/2,-l/2],[l/2,l/2,-l/2,-l/2],m,q,n,p,A,c-180);break;case"rectangle":g=b.polygon(h,[-l,l,l,-l],[l/2,l/2,-l/2,-l/2],m,q,n,p,A,c-180);break;case"diamond":g=b.polygon(h,[-l/2,0,l/2,0],[0,-l/2,0,l/2],m,q,n,p,A);break;case"triangleUp":g=b.triangle(h,l,0,m,q,n,p,A);break;case"triangleDown":g=b.triangle(h,l,180,m,q,n,p,A);break;case"triangleLeft":g=b.triangle(h,l,270,m,q,n,p,A);break;case"triangleRight":g=b.triangle(h,l,90,m,q,n,p,A);break;case"bubble":g=b.circle(h,l/2,m,q,n,p,A,!0);break;case"line":g=b.line(h,[-l/2,l/2],[0,0],m,q,n,p,A);break;case"yError":g=h.set();g.push(b.line(h,[0,0],[-l/2,l/2],m,q,n));g.push(b.line(h,[-a,a],[-l/2,-l/2],m,q,n));g.push(b.line(h,[-a,a],[l/2,l/2],m,q,n));break;case"xError":g=h.set(),g.push(b.line(h,[-l/2,l/2],[0,0],m,q,n)),g.push(b.line(h,[-l/2,-l/2],[-a,a],m,q,n)),g.push(b.line(h,[l/2,l/2],[-a,a],m,q,n))}g&&g.pattern(e,NaN,f);return g};b.triangle=function(a,c,d,f,e,g,k,l){if(void 0===g||0===g){g=1}void 0===k&&(k="#000");void 0===l&&(l=0);f={fill:f,stroke:k,"fill-opacity":e,"stroke-width":g,"stroke-opacity":l};c/=2;var s;0===d&&(s=" M"+-c+","+c+" L0,"+-c+" L"+c+","+c+" Z");180==d&&(s=" M"+-c+","+-c+" L0,"+c+" L"+c+","+-c+" Z");90==d&&(s=" M"+-c+","+-c+" L"+c+",0 L"+-c+","+c+" Z");270==d&&(s=" M"+-c+",0 L"+c+","+c+" L"+c+","+-c+" Z");return a.path(s).attr(f)};b.line=function(l,m,n,w,e,a,c,f,g,h,k){if(l.handDrawn&&!k){return b.handDrawnLine(l,m,n,w,e,a,c,f,g,h,k)}a={fill:"none","stroke-width":a};void 0!==c&&0<c&&(a["stroke-dasharray"]=c);isNaN(e)||(a["stroke-opacity"]=e);w&&(a.stroke=w);w=Math.round;h&&(w=b.doNothing);h=b.dx;e=b.dy;c="M"+(w(m[0])+h)+","+(w(n[0])+e);for(f=1;f<m.length;f++){c+=" L"+(w(m[f])+h)+","+(w(n[f])+e)}if(b.VML){return l.path(c,void 0,!0).attr(a)}g&&(c+=" M0,0 L0,0");return l.path(c).attr(a)};b.makeHD=function(a,d,k){for(var m=[],l=[],n=1;n<a.length;n++){for(var p=Number(a[n-1]),q=Number(d[n-1]),r=Number(a[n]),C=Number(d[n]),c=Math.sqrt(Math.pow(r-p,2)+Math.pow(C-q,2)),c=Math.round(c/50)+1,r=(r-p)/c,C=(C-q)/c,e=0;e<=c;e++){var f=p+e*r+Math.random()*k,g=q+e*C+Math.random()*k;m.push(f);l.push(g)}}return[m,l]};b.handDrawnLine=function(c,e,g,m,q,n,p,r,u,E){var f,h=c.set();for(f=1;f<e.length;f++){for(var k=[e[f-1],e[f]],l=[g[f-1],g[f]],l=b.makeHD(k,l,c.handDrawScatter),k=l[0],l=l[1],a=1;a<k.length;a++){h.push(b.line(c,[k[a-1],k[a]],[l[a-1],l[a]],m,q,n+Math.random()*c.handDrawThickness-c.handDrawThickness/2,p,r,u,E,!0))}}return h};b.doNothing=function(a){return a};b.wedge=function(C,D,E,I,W,O,P,ac,ad,a,c,e,g){var k=Math.round;O=k(O);P=k(P);ac=k(ac);var q=k(P/O*ac),n=b.VML,f=359.5+O/100;359.94<f&&(f=359.94);W>=f&&(W=f);var w=1/180*Math.PI,f=D+Math.sin(I*w)*ac,r=E-Math.cos(I*w)*q,u=D+Math.sin(I*w)*O,y=E-Math.cos(I*w)*P,h=D+Math.sin((I+W)*w)*O,l=E-Math.cos((I+W)*w)*P,m=D+Math.sin((I+W)*w)*ac,w=E-Math.cos((I+W)*w)*q,t={fill:b.adjustLuminosity(a.fill,-0.2),"stroke-opacity":0,"fill-opacity":a["fill-opacity"]},p=0;180<Math.abs(W)&&(p=1);I=C.set();var z;n&&(f=k(10*f),u=k(10*u),h=k(10*h),m=k(10*m),r=k(10*r),y=k(10*y),l=k(10*l),w=k(10*w),D=k(10*D),ad=k(10*ad),E=k(10*E),O*=10,P*=10,ac*=10,q*=10,1>Math.abs(W)&&1>=Math.abs(h-u)&&1>=Math.abs(l-y)&&(z=!0));W="";var v;e&&(t["fill-opacity"]=0,t["stroke-opacity"]=a["stroke-opacity"]/2,t.stroke=a.stroke);if(0<ad){v=" M"+f+","+(r+ad)+" L"+u+","+(y+ad);n?(z||(v+=" A"+(D-O)+","+(ad+E-P)+","+(D+O)+","+(ad+E+P)+","+u+","+(y+ad)+","+h+","+(l+ad)),v+=" L"+m+","+(w+ad),0<ac&&(z||(v+=" B"+(D-ac)+","+(ad+E-q)+","+(D+ac)+","+(ad+E+q)+","+m+","+(ad+w)+","+f+","+(ad+r)))):(v+=" A"+O+","+P+",0,"+p+",1,"+h+","+(l+ad)+" L"+m+","+(w+ad),0<ac&&(v+=" A"+ac+","+q+",0,"+p+",0,"+f+","+(r+ad)));v+=" Z";var J=ad;n&&(J/=10);for(var A=0;A<J;A+=10){var B=C.path(v,void 0,void 0,"1000,1000").attr(t);I.push(B);B.translate(0,-A)}v=C.path(" M"+f+","+r+" L"+f+","+(r+ad)+" L"+u+","+(y+ad)+" L"+u+","+y+" L"+f+","+r+" Z",void 0,void 0,"1000,1000").attr(t);ad=C.path(" M"+h+","+l+" L"+h+","+(l+ad)+" L"+m+","+(w+ad)+" L"+m+","+w+" L"+h+","+l+" Z",void 0,void 0,"1000,1000").attr(t);I.push(v);I.push(ad)}n?(z||(W=" A"+k(D-O)+","+k(E-P)+","+k(D+O)+","+k(E+P)+","+k(u)+","+k(y)+","+k(h)+","+k(l)),O=" M"+k(f)+","+k(r)+" L"+k(u)+","+k(y)+W+" L"+k(m)+","+k(w)):O=" M"+f+","+r+" L"+u+","+y+(" A"+O+","+P+",0,"+p+",1,"+h+","+l)+" L"+m+","+w;0<ac&&(n?z||(O+=" B"+(D-ac)+","+(E-q)+","+(D+ac)+","+(E+q)+","+m+","+w+","+f+","+r):O+=" A"+ac+","+q+",0,"+p+",0,"+f+","+r);C.handDrawn&&(D=b.line(C,[f,u],[r,y],a.stroke,a.thickness*Math.random()*C.handDrawThickness,a["stroke-opacity"]),I.push(D));C=C.path(O+" Z",void 0,void 0,"1000,1000").attr(a);if(c){D=[];for(E=0;E<c.length;E++){D.push(b.adjustLuminosity(a.fill,c[E]))}0<D.length&&C.gradient("linearGradient",D)}C.pattern(e,NaN,g);I.wedge=C;I.push(C);return I};b.adjustLuminosity=function(e,k){e=String(e).replace(/[^0-9a-f]/gi,"");6>e.length&&(e=String(e[0])+String(e[0])+String(e[1])+String(e[1])+String(e[2])+String(e[2]));k=k||0;var a="#",d,c;for(c=0;3>c;c++){d=parseInt(e.substr(2*c,2),16),d=Math.round(Math.min(Math.max(0,d+d*k),255)).toString(16),a+=("00"+d).substr(d.length)}return a}})();(function(){var b=window.AmCharts;b.Bezier=b.Class({construct:function(m,u,a,c,g,e,f,h,k,l){"object"==typeof f&&(f=f[0]);"object"==typeof h&&(h=h[0]);0===h&&(f="none");e={fill:f,"fill-opacity":h,"stroke-width":e};void 0!==k&&0<k&&(e["stroke-dasharray"]=k);isNaN(g)||(e["stroke-opacity"]=g);c&&(e.stroke=c);c="M"+Math.round(u[0])+","+Math.round(a[0]);g=[];for(k=0;k<u.length;k++){g.push({x:Number(u[k]),y:Number(a[k])})}1<g.length&&(u=this.interpolate(g),c+=this.drawBeziers(u));l?c+=l:b.VML||(c+="M0,0 L0,0");this.path=m.path(c).attr(e);this.node=this.path.node},interpolate:function(a){var c=[];c.push({x:a[0].x,y:a[0].y});var e=a[1].x-a[0].x,f=a[1].y-a[0].y,k=b.bezierX,g=b.bezierY;c.push({x:a[0].x+e/k,y:a[0].y+f/g});var h;for(h=1;h<a.length-1;h++){var l=a[h-1],s=a[h],f=a[h+1];isNaN(f.x)&&(f=s);isNaN(s.x)&&(s=l);isNaN(l.x)&&(l=s);e=f.x-s.x;f=f.y-l.y;l=s.x-l.x;l>e&&(l=e);c.push({x:s.x-l/k,y:s.y-f/g});c.push({x:s.x,y:s.y});c.push({x:s.x+l/k,y:s.y+f/g})}f=a[a.length-1].y-a[a.length-2].y;e=a[a.length-1].x-a[a.length-2].x;c.push({x:a[a.length-1].x-e/k,y:a[a.length-1].y-f/g});c.push({x:a[a.length-1].x,y:a[a.length-1].y});return c},drawBeziers:function(c){var g="",a;for(a=0;a<(c.length-1)/3;a++){g+=this.drawBezierMidpoint(c[3*a],c[3*a+1],c[3*a+2],c[3*a+3])}return g},drawBezierMidpoint:function(m,u,a,d){var c=Math.round,e=this.getPointOnSegment(m,u,0.75),f=this.getPointOnSegment(d,a,0.75),g=(d.x-m.x)/16,k=(d.y-m.y)/16,l=this.getPointOnSegment(m,u,0.375);m=this.getPointOnSegment(e,f,0.375);m.x-=g;m.y-=k;u=this.getPointOnSegment(f,e,0.375);u.x+=g;u.y+=k;a=this.getPointOnSegment(d,a,0.375);g=this.getMiddle(l,m);e=this.getMiddle(e,f);f=this.getMiddle(u,a);l=" Q"+c(l.x)+","+c(l.y)+","+c(g.x)+","+c(g.y);l+=" Q"+c(m.x)+","+c(m.y)+","+c(e.x)+","+c(e.y);l+=" Q"+c(u.x)+","+c(u.y)+","+c(f.x)+","+c(f.y);return l+=" Q"+c(a.x)+","+c(a.y)+","+c(d.x)+","+c(d.y)},getMiddle:function(a,e){return{x:(a.x+e.x)/2,y:(a.y+e.y)/2}},getPointOnSegment:function(c,g,a){return{x:c.x+(g.x-c.x)*a,y:c.y+(g.y-c.y)*a}}})})();(function(){var b=window.AmCharts;b.AmDraw=b.Class({construct:function(e,i,a,c){b.SVG_NS="http://www.w3.org/2000/svg";b.SVG_XLINK="http://www.w3.org/1999/xlink";b.hasSVG=!!document.createElementNS&&!!document.createElementNS(b.SVG_NS,"svg").createSVGRect;1>i&&(i=10);1>a&&(a=10);this.div=e;this.width=i;this.height=a;this.rBin=document.createElement("div");b.hasSVG?(b.SVG=!0,i=this.createSvgElement("svg"),e.appendChild(i),this.container=i,this.addDefs(c),this.R=new b.SVGRenderer(this)):b.isIE&&b.VMLRenderer&&(b.VML=!0,b.vmlStyleSheet||(document.namespaces.add("amvml","urn:schemas-microsoft-com:vml"),31>document.styleSheets.length?(i=document.createStyleSheet(),i.addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true"),b.vmlStyleSheet=i):document.styleSheets[0].addRule(".amvml","behavior:url(#default#VML); display:inline-block; antialias:true")),this.container=e,this.R=new b.VMLRenderer(this,c),this.R.disableSelection(e))},createSvgElement:function(a){return document.createElementNS(b.SVG_NS,a)},circle:function(h,k,a,c){var e=new b.AmDObject("circle",this);e.attr({r:a,cx:h,cy:k});this.addToContainer(e.node,c);return e},ellipse:function(h,m,a,c,f){var e=new b.AmDObject("ellipse",this);e.attr({rx:a,ry:c,cx:h,cy:m});this.addToContainer(e.node,f);return e},setSize:function(a,e){0<a&&0<e&&(this.container.style.width=a+"px",this.container.style.height=e+"px")},rect:function(f,k,g,h,c,q,a){var e=new b.AmDObject("rect",this);b.VML&&(c=Math.round(100*c/Math.min(g,h)),g+=2*q,h+=2*q,e.bw=q,e.node.style.marginLeft=-q,e.node.style.marginTop=-q);1>g&&(g=1);1>h&&(h=1);e.attr({x:f,y:k,width:g,height:h,rx:c,ry:c,"stroke-width":q});this.addToContainer(e.node,a);return e},image:function(g,h,o,a,f,c){var e=new b.AmDObject("image",this);e.attr({x:h,y:o,width:a,height:f});this.R.path(e,g);this.addToContainer(e.node,c);return e},addToContainer:function(a,e){e||(e=this.container);e.appendChild(a)},text:function(c,g,a){return this.R.text(c,g,a)},path:function(h,k,a,c){var e=new b.AmDObject("path",this);c||(c="100,100");e.attr({cs:c});a?e.attr({dd:h}):e.attr({d:h});this.addToContainer(e.node,k);return e},set:function(a){return this.R.set(a)},remove:function(a){if(a){var e=this.rBin;e.appendChild(a);e.innerHTML=""}},renderFix:function(){var c=this.container,g=c.style;g.top="0px";g.left="0px";var a=c.getBoundingClientRect(),c=a.left-Math.round(a.left),a=a.top-Math.round(a.top);c&&(g.left=c+"px");a&&(g.top=a+"px")},update:function(){this.R.update()},addDefs:function(c){if(b.hasSVG){var g=this.createSvgElement("desc"),a=this.container;a.setAttribute("version","1.1");a.style.position="absolute";this.setSize(this.width,this.height);b.rtl&&(a.setAttribute("direction","rtl"),a.style.left="auto",a.style.right="0px");c.addCodeCredits&&g.appendChild(document.createTextNode("JavaScript chart by amCharts "+c.version));a.appendChild(g);c.defs&&(g=this.createSvgElement("defs"),a.appendChild(g),b.parseDefs(c.defs,g),this.defs=g)}}})})();(function(){var b=window.AmCharts;b.AmDObject=b.Class({construct:function(a,e){this.D=e;this.R=e.R;this.node=this.R.create(this,a);this.y=this.x=0;this.scale=1},attr:function(a){this.R.attr(this,a);return this},getAttr:function(a){return this.node.getAttribute(a)},setAttr:function(a,e){this.R.setAttr(this,a,e);return this},clipRect:function(e,i,a,c){this.R.clipRect(this,e,i,a,c)},translate:function(e,i,a,c){c||(e=Math.round(e),i=Math.round(i));this.R.move(this,e,i,a);this.x=e;this.y=i;this.scale=a;this.angle&&this.rotate(this.angle)},rotate:function(a,e){this.R.rotate(this,a,e);this.angle=a},animate:function(h,m,a){for(var c in h){if(h.hasOwnProperty(c)){var f=c,e=h[c];a=b.getEffect(a);this.R.animate(this,f,e,m,a)}}},push:function(c){if(c){var g=this.node;g.appendChild(c.node);var a=c.clipPath;a&&g.appendChild(a);(c=c.grad)&&g.appendChild(c)}},text:function(a){this.R.setText(this,a)},remove:function(){this.R.remove(this)},clear:function(){var a=this.node;if(a.hasChildNodes()){for(;1<=a.childNodes.length;){a.removeChild(a.firstChild)}}},hide:function(){this.setAttr("visibility","hidden")},show:function(){this.setAttr("visibility","visible")},getBBox:function(){return this.R.getBBox(this)},toFront:function(){var a=this.node;if(a){this.prevNextNode=a.nextSibling;var e=a.parentNode;e&&e.appendChild(a)}},toPrevious:function(){var a=this.node;a&&this.prevNextNode&&(a=a.parentNode)&&a.insertBefore(this.prevNextNode,null)},toBack:function(){var c=this.node;if(c){this.prevNextNode=c.nextSibling;var g=c.parentNode;if(g){var a=g.firstChild;a&&g.insertBefore(c,a)}}},mouseover:function(a){this.R.addListener(this,"mouseover",a);return this},mouseout:function(a){this.R.addListener(this,"mouseout",a);return this},click:function(a){this.R.addListener(this,"click",a);return this},dblclick:function(a){this.R.addListener(this,"dblclick",a);return this},mousedown:function(a){this.R.addListener(this,"mousedown",a);return this},mouseup:function(a){this.R.addListener(this,"mouseup",a);return this},touchstart:function(a){this.R.addListener(this,"touchstart",a);return this},touchend:function(a){this.R.addListener(this,"touchend",a);return this},contextmenu:function(a){this.node.addEventListener?this.node.addEventListener("contextmenu",a,!0):this.R.addListener(this,"contextmenu",a);return this},stop:function(){b.removeFromArray(this.R.animations,this.an_x);b.removeFromArray(this.R.animations,this.an_y)},length:function(){return this.node.childNodes.length},gradient:function(c,g,a){this.R.gradient(this,c,g,a)},pattern:function(c,g,a){c&&this.R.pattern(this,c,g,a)}})})();(function(){var b=window.AmCharts;b.VMLRenderer=b.Class({construct:function(a,e){this.chart=e;this.D=a;this.cNames={circle:"oval",ellipse:"oval",rect:"roundrect",path:"shape"};this.styleMap={x:"left",y:"top",width:"width",height:"height","font-family":"fontFamily","font-size":"fontSize",visibility:"visibility"}},create:function(e,k){var a;if("group"==k){a=document.createElement("div"),e.type="div"}else{if("text"==k){a=document.createElement("div"),e.type="text"}else{if("image"==k){a=document.createElement("img"),e.type="image"}else{e.type="shape";e.shapeType=this.cNames[k];a=document.createElement("amvml:"+this.cNames[k]);var d=document.createElement("amvml:stroke");a.appendChild(d);e.stroke=d;var c=document.createElement("amvml:fill");a.appendChild(c);e.fill=c;c.className="amvml";d.className="amvml";a.className="amvml"}}}a.style.position="absolute";a.style.top=0;a.style.left=0;return a},path:function(a,e){a.node.setAttribute("src",e)},setAttr:function(f,k,g){if(void 0!==g){var h;8===document.documentMode&&(h=!0);var c=f.node,q=f.type,a=c.style;"r"==k&&(a.width=2*g,a.height=2*g);"oval"==f.shapeType&&("rx"==k&&(a.width=2*g),"ry"==k&&(a.height=2*g));"roundrect"==f.shapeType&&("width"!=k&&"height"!=k||--g);"cursor"==k&&(a.cursor=g);"cx"==k&&(a.left=g-b.removePx(a.width)/2);"cy"==k&&(a.top=g-b.removePx(a.height)/2);var e=this.styleMap[k];void 0!==e&&(a[e]=g);"text"==q&&("text-anchor"==k&&(f.anchor=g,e=c.clientWidth,"end"==g&&(a.marginLeft=-e+"px"),"middle"==g&&(a.marginLeft=-(e/2)+"px",a.textAlign="center"),"start"==g&&(a.marginLeft="0px")),"fill"==k&&(a.color=g),"font-weight"==k&&(a.fontWeight=g));if(a=f.children){for(e=0;e<a.length;e++){a[e].setAttr(k,g)}}if("shape"==q){"cs"==k&&(c.style.width="100px",c.style.height="100px",c.setAttribute("coordsize",g));"d"==k&&c.setAttribute("path",this.svgPathToVml(g));"dd"==k&&c.setAttribute("path",g);q=f.stroke;f=f.fill;"stroke"==k&&(h?q.color=g:q.setAttribute("color",g));"stroke-width"==k&&(h?q.weight=g:q.setAttribute("weight",g));"stroke-opacity"==k&&(h?q.opacity=g:q.setAttribute("opacity",g));"stroke-dasharray"==k&&(a="solid",0<g&&3>g&&(a="dot"),3<=g&&6>=g&&(a="dash"),6<g&&(a="longdash"),h?q.dashstyle=a:q.setAttribute("dashstyle",a));if("fill-opacity"==k||"opacity"==k){0===g?h?f.on=!1:f.setAttribute("on",!1):h?f.opacity=g:f.setAttribute("opacity",g)}"fill"==k&&(h?f.color=g:f.setAttribute("color",g));"rx"==k&&(h?c.arcSize=g+"%":c.setAttribute("arcsize",g+"%"))}}},attr:function(c,g){for(var a in g){g.hasOwnProperty(a)&&this.setAttr(c,a,g[a])}},text:function(h,k,a){var c=new b.AmDObject("text",this.D),e=c.node;e.style.whiteSpace="pre";e.innerHTML=h;this.D.addToContainer(e,a);this.attr(c,k);return c},getBBox:function(a){return this.getBox(a.node)},getBox:function(l){var m=l.offsetLeft,n=l.offsetTop,w=l.offsetWidth,d=l.offsetHeight,a;if(l.hasChildNodes()){var c,f,g;for(g=0;g<l.childNodes.length;g++){a=this.getBox(l.childNodes[g]);var h=a.x;isNaN(h)||(isNaN(c)?c=h:h<c&&(c=h));var k=a.y;isNaN(k)||(isNaN(f)?f=k:k<f&&(f=k));h=a.width+h;isNaN(h)||(w=Math.max(w,h));a=a.height+k;isNaN(a)||(d=Math.max(d,a))}0>c&&(m+=c);0>f&&(n+=f)}return{x:m,y:n,width:w,height:d}},setText:function(c,g){var a=c.node;a&&(a.innerHTML=g);this.setAttr(c,"text-anchor",c.anchor)},addListener:function(c,g,a){c.node["on"+g]=a},move:function(h,k,a){var c=h.node,e=c.style;"text"==h.type&&(a-=b.removePx(e.fontSize)/2-1);"oval"==h.shapeType&&(k-=b.removePx(e.width)/2,a-=b.removePx(e.height)/2);h=h.bw;isNaN(h)||(k-=h,a-=h);isNaN(k)||isNaN(a)||(c.style.left=k+"px",c.style.top=a+"px")},svgPathToVml:function(a){var d=a.split(" ");a="";var k,l=Math.round,p;for(p=0;p<d.length;p++){var m=d[p],n=m.substring(0,1),m=m.substring(1),q=m.split(","),r=l(q[0])+","+l(q[1]);"M"==n&&(a+=" m "+r);"L"==n&&(a+=" l "+r);"Z"==n&&(a+=" x e");if("Q"==n){var C=k.length,c=k[C-1],f=q[0],g=q[1],r=q[2],h=q[3];k=l(k[C-2]/3+2/3*f);c=l(c/3+2/3*g);f=l(2/3*f+r/3);g=l(2/3*g+h/3);a+=" c "+k+","+c+","+f+","+g+","+r+","+h}"A"==n&&(a+=" wa "+m);"B"==n&&(a+=" at "+m);k=q}return a},animate:function(f,h,g,k,c){var q=f.node,a=this.chart;if("translate"==h){h=g.split(",");g=h[1];var d=q.offsetTop;a.animate(f,"left",q.offsetLeft,h[0],k,c,"px");a.animate(f,"top",d,g,k,c,"px")}},clipRect:function(h,k,a,c,d){h=h.node;0===k&&0===a?(h.style.width=c+"px",h.style.height=d+"px",h.style.overflow="hidden"):h.style.clip="rect("+a+"px "+(k+c)+"px "+(a+d)+"px "+k+"px)"},rotate:function(a,c,e){if(0!==Number(c)){var f=a.node;a=f.style;e||(e=this.getBGColor(f.parentNode));a.backgroundColor=e;a.paddingLeft=1;e=c*Math.PI/180;var k=Math.cos(e),g=Math.sin(e),h=b.removePx(a.left),l=b.removePx(a.top),s=f.offsetWidth,f=f.offsetHeight;c/=Math.abs(c);a.left=h+s/2-s/2*Math.cos(e)-c*f/2*Math.sin(e)+3;a.top=l-c*s/2*Math.sin(e)+c*f/2*Math.sin(e);a.cssText=a.cssText+"; filter:progid:DXImageTransform.Microsoft.Matrix(M11='"+k+"', M12='"+-g+"', M21='"+g+"', M22='"+k+"', sizingmethod='auto expand');"}},getBGColor:function(c){var g="#FFFFFF";if(c.style){var a=c.style.backgroundColor;""!==a?g=a:c.parentNode&&(g=this.getBGColor(c.parentNode))}return g},set:function(c){var g=new b.AmDObject("group",this.D);this.D.container.appendChild(g.node);if(c){var a;for(a=0;a<c.length;a++){g.push(c[a])}}return g},gradient:function(g,h,o,a){var f="";"radialGradient"==h&&(h="gradientradial",o.reverse());"linearGradient"==h&&(h="gradient");var c;for(c=0;c<o.length;c++){var d=Math.round(100*c/(o.length-1)),f=f+(d+"% "+o[c]);c<o.length-1&&(f+=",")}g=g.fill;90==a?a=0:270==a?a=180:180==a?a=90:0===a&&(a=270);8===document.documentMode?(g.type=h,g.angle=a):(g.setAttribute("type",h),g.setAttribute("angle",a));f&&(g.colors.value=f)},remove:function(a){a.clipPath&&this.D.remove(a.clipPath);this.D.remove(a.node)},disableSelection:function(a){void 0!==typeof a.onselectstart&&(a.onselectstart=function(){return !1});a.style.cursor="default"},pattern:function(h,k,a,c){a=h.node;h=h.fill;var e="none";k.color&&(e=k.color);a.fillColor=e;k=k.url;b.isAbsolute(k)||(k=c+k);8===document.documentMode?(h.type="tile",h.src=k):(h.setAttribute("type","tile"),h.setAttribute("src",k))},update:function(){}})})();(function(){var b=window.AmCharts;b.SVGRenderer=b.Class({construct:function(a){this.D=a;this.animations=[]},create:function(a,e){return document.createElementNS(b.SVG_NS,e)},attr:function(c,g){for(var a in g){g.hasOwnProperty(a)&&this.setAttr(c,a,g[a])}},setAttr:function(c,g,a){void 0!==a&&c.node.setAttribute(g,a)},animate:function(h,m,a,c,f){var e=h.node;h["an_"+m]&&b.removeFromArray(this.animations,h["an_"+m]);"translate"==m?(e=(e=e.getAttribute("transform"))?String(e).substring(10,e.length-1):"0,0",e=e.split(", ").join(" "),e=e.split(" ").join(","),0===e&&(e="0,0")):e=Number(e.getAttribute(m));a={obj:h,frame:0,attribute:m,from:e,to:a,time:c,effect:f};this.animations.push(a);h["an_"+m]=a},update:function(){var m,u=this.animations;for(m=u.length-1;0<=m;m--){var a=u[m],c=1000*a.time/b.updateRate,g=a.frame+1,e=a.obj,f=a.attribute,h,k,l;g<=c?(a.frame++,"translate"==f?(h=a.from.split(","),f=Number(h[0]),h=Number(h[1]),isNaN(h)&&(h=0),k=a.to.split(","),l=Number(k[0]),k=Number(k[1]),l=0===l-f?l:Math.round(b[a.effect](0,g,f,l-f,c)),a=0===k-h?k:Math.round(b[a.effect](0,g,h,k-h,c)),f="transform",a="translate("+l+","+a+")"):(k=Number(a.from),h=Number(a.to),l=h-k,a=b[a.effect](0,g,k,l,c),isNaN(a)&&(a=h),0===l&&this.animations.splice(m,1)),this.setAttr(e,f,a)):("translate"==f?(k=a.to.split(","),l=Number(k[0]),k=Number(k[1]),e.translate(l,k)):(h=Number(a.to),this.setAttr(e,f,h)),this.animations.splice(m,1))}},getBBox:function(a){if(a=a.node){try{return a.getBBox()}catch(e){}}return{width:0,height:0,x:0,y:0}},path:function(a,e){a.node.setAttributeNS(b.SVG_XLINK,"xlink:href",e)},clipRect:function(f,k,g,h,c){var q=f.node,a=f.clipPath;a&&this.D.remove(a);var e=q.parentNode;e&&(q=document.createElementNS(b.SVG_NS,"clipPath"),a=b.getUniqueId(),q.setAttribute("id",a),this.D.rect(k,g,h,c,0,0,q),e.appendChild(q),k="#",b.baseHref&&!b.isIE&&(k=this.removeTarget(window.location.href)+k),this.setAttr(f,"clip-path","url("+k+a+")"),this.clipPathC++,f.clipPath=q)},text:function(g,h,o){var a=new b.AmDObject("text",this.D);g=String(g).split("\n");var f=h["font-size"],c;for(c=0;c<g.length;c++){var e=this.create(null,"tspan");e.appendChild(document.createTextNode(g[c]));e.setAttribute("y",(f+2)*c+Math.round(f/2));e.setAttribute("x",0);e.style.fontSize=f+"px";a.node.appendChild(e)}a.node.setAttribute("y",Math.round(f/2));this.attr(a,h);this.D.addToContainer(a.node,o);return a},setText:function(c,g){var a=c.node;a&&(a.removeChild(a.firstChild),a.appendChild(document.createTextNode(g)))},move:function(d,i,a,c){isNaN(i)&&(i=0);isNaN(a)&&(a=0);i="translate("+i+","+a+")";c&&(i=i+" scale("+c+")");this.setAttr(d,"transform",i)},rotate:function(d,i){var a=d.node.getAttribute("transform"),c="rotate("+i+")";a&&(c=a+" "+c);this.setAttr(d,"transform",c)},set:function(c){var g=new b.AmDObject("g",this.D);this.D.container.appendChild(g.node);if(c){var a;for(a=0;a<c.length;a++){g.push(c[a])}}return g},addListener:function(c,g,a){c.node["on"+g]=a},gradient:function(m,u,a,c){var g=m.node,e=m.grad;e&&this.D.remove(e);u=document.createElementNS(b.SVG_NS,u);e=b.getUniqueId();u.setAttribute("id",e);if(!isNaN(c)){var f=0,h=0,k=0,l=0;90==c?k=100:270==c?l=100:180==c?f=100:0===c&&(h=100);u.setAttribute("x1",f+"%");u.setAttribute("x2",h+"%");u.setAttribute("y1",k+"%");u.setAttribute("y2",l+"%")}for(c=0;c<a.length;c++){f=document.createElementNS(b.SVG_NS,"stop"),h=100*c/(a.length-1),0===c&&(h=0),f.setAttribute("offset",h+"%"),f.setAttribute("stop-color",a[c]),u.appendChild(f)}g.parentNode.appendChild(u);a="#";b.baseHref&&!b.isIE&&(a=this.removeTarget(window.location.href)+a);g.setAttribute("fill","url("+a+e+")");m.grad=u},removeTarget:function(a){return a.split("#")[0]},pattern:function(l,m,n,w){var e=l.node;isNaN(n)&&(n=1);var a=l.patternNode;a&&this.D.remove(a);var a=document.createElementNS(b.SVG_NS,"pattern"),c=b.getUniqueId(),f=m;m.url&&(f=m.url);b.isAbsolute(f)||(f=w+f);w=Number(m.width);isNaN(w)&&(w=4);var g=Number(m.height);isNaN(g)&&(g=4);w/=n;g/=n;n=m.x;isNaN(n)&&(n=0);var h=-Math.random()*Number(m.randomX);isNaN(h)||(n=h);h=m.y;isNaN(h)&&(h=0);var k=-Math.random()*Number(m.randomY);isNaN(k)||(h=k);a.setAttribute("id",c);a.setAttribute("width",w);a.setAttribute("height",g);a.setAttribute("patternUnits","userSpaceOnUse");a.setAttribute("xlink:href",f);m.color&&(k=document.createElementNS(b.SVG_NS,"rect"),k.setAttributeNS(null,"height",w),k.setAttributeNS(null,"width",g),k.setAttributeNS(null,"fill",m.color),a.appendChild(k));this.D.image(f,0,0,w,g,a).translate(n,h);f="#";b.baseHref&&!b.isIE&&(f=this.removeTarget(window.location.href)+f);e.setAttribute("fill","url("+f+c+")");l.patternNode=a;e.parentNode.appendChild(a)},remove:function(a){a.clipPath&&this.D.remove(a.clipPath);a.grad&&this.D.remove(a.grad);a.patternNode&&this.D.remove(a.patternNode);this.D.remove(a.node)}})})();AmCharts.AmDSet=AmCharts.Class({construct:function(b){this.create("g")},attr:function(b){this.R.attr(this.node,b)},move:function(d,a){this.R.move(this.node,d,a)}});(function(){var b=window.AmCharts;b.AmLegend=b.Class({construct:function(a){this.enabled=!0;this.cname="AmLegend";this.createEvents("rollOverMarker","rollOverItem","rollOutMarker","rollOutItem","showItem","hideItem","clickMarker","rollOverItem","rollOutItem","clickLabel");this.position="bottom";this.borderColor=this.color="#000000";this.borderAlpha=0;this.markerLabelGap=5;this.verticalGap=10;this.align="left";this.horizontalGap=0;this.spacing=10;this.markerDisabledColor="#AAB3B3";this.markerType="square";this.markerSize=16;this.markerBorderThickness=this.markerBorderAlpha=1;this.marginBottom=this.marginTop=0;this.marginLeft=this.marginRight=20;this.autoMargins=!0;this.valueWidth=50;this.switchable=!0;this.switchType="x";this.switchColor="#FFFFFF";this.rollOverColor="#CC0000";this.reversedOrder=!1;this.labelText="[[title]]";this.valueText="[[value]]";this.useMarkerColorForLabels=!1;this.rollOverGraphAlpha=1;this.textClickEnabled=!1;this.equalWidths=!0;this.backgroundColor="#FFFFFF";this.backgroundAlpha=0;this.useGraphSettings=!1;this.showEntries=!0;b.applyTheme(this,a,this.cname)},setData:function(a){this.legendData=a;this.invalidateSize()},invalidateSize:function(){this.destroy();this.entries=[];this.valueLabels=[];var a=this.legendData;this.enabled&&(b.ifArray(a)||b.ifArray(this.data))&&this.drawLegend()},drawLegend:function(){var f=this.chart,k=this.position,g=this.width,h=f.divRealWidth,c=f.divRealHeight,q=this.div,a=this.legendData;this.data&&(a=this.data);isNaN(this.fontSize)&&(this.fontSize=f.fontSize);if("right"==k||"left"==k){this.maxColumns=1,this.autoMargins&&(this.marginLeft=this.marginRight=10)}else{if(this.autoMargins){this.marginRight=f.marginRight;this.marginLeft=f.marginLeft;var e=f.autoMarginOffset;"bottom"==k?(this.marginBottom=e,this.marginTop=0):(this.marginTop=e,this.marginBottom=0)}}g=void 0!==g?b.toCoordinate(g,h):f.realWidth;"outside"==k?(g=q.offsetWidth,c=q.offsetHeight,q.clientHeight&&(g=q.clientWidth,c=q.clientHeight)):(isNaN(g)||(q.style.width=g+"px"),q.className="amChartsLegend "+f.classNamePrefix+"-legend-div");this.divWidth=g;(k=this.container)?(k.container.innerHTML="",q.appendChild(k.container),k.width=g,k.height=c,k.setSize(g,c),k.addDefs(f)):k=new b.AmDraw(q,g,c,f);this.container=k;this.lx=0;this.ly=8;c=this.markerSize;c>this.fontSize&&(this.ly=c/2-1);0<c&&(this.lx+=c+this.markerLabelGap);this.titleWidth=0;if(c=this.title){c=b.text(this.container,c,this.color,f.fontFamily,this.fontSize,"start",!0),b.setCN(f,c,"legend-title"),c.translate(this.marginLeft,this.marginTop+this.verticalGap+this.ly+1),f=c.getBBox(),this.titleWidth=f.width+15,this.titleHeight=f.height+6}this.index=this.maxLabelWidth=0;if(this.showEntries){for(f=0;f<a.length;f++){this.createEntry(a[f])}for(f=this.index=0;f<a.length;f++){this.createValue(a[f])}}this.arrangeEntries();this.updateValues()},arrangeEntries:function(){var a=this.position,c=this.marginLeft+this.titleWidth,e=this.marginRight,f=this.marginTop,k=this.marginBottom,g=this.horizontalGap,h=this.div,l=this.divWidth,m=this.maxColumns,n=this.verticalGap,p=this.spacing,q=l-e-c,t=0,v=0,y=this.container;this.set&&this.set.remove();var A=y.set();this.set=A;var r=y.set();A.push(r);var E=this.entries,C,D;for(D=0;D<E.length;D++){C=E[D].getBBox();var aa=C.width;aa>t&&(t=aa);C=C.height;C>v&&(v=C)}var aa=v=0,u=g,w=0,z=0;for(D=0;D<E.length;D++){var J=E[D];this.reversedOrder&&(J=E[E.length-D-1]);C=J.getBBox();var B;this.equalWidths?B=aa*(t+p+this.markerLabelGap):(B=u,u=u+C.width+g+p);C.height>z&&(z=C.height);B+C.width>q&&0<D&&0!==aa&&(v++,B=aa=0,u=B+C.width+g+p,w=w+z+n,z=0);J.translate(B,w);aa++;!isNaN(m)&&aa>=m&&(aa=0,v++,w=w+z+n,u=g,z=0);r.push(J)}C=r.getBBox();m=C.height+2*n-1;"left"==a||"right"==a?(p=C.width+2*g,l=p+c+e,h.style.width=l+"px",this.ieW=l):p=l-c-e-1;e=b.polygon(this.container,[0,p,p,0],[0,0,m,m],this.backgroundColor,this.backgroundAlpha,1,this.borderColor,this.borderAlpha);b.setCN(this.chart,e,"legend-bg");A.push(e);A.translate(c,f);e.toBack();c=g;if("top"==a||"bottom"==a||"absolute"==a||"outside"==a){"center"==this.align?c=g+(p-C.width)/2:"right"==this.align&&(c=g+p-C.width)}r.translate(c,n+1);this.titleHeight>m&&(m=this.titleHeight);a=m+f+k+1;0>a&&(a=0);a>this.chart.divRealHeight&&(h.style.top="0px");h.style.height=Math.round(a)+"px";y.setSize(this.divWidth,a)},createEntry:function(c){if(!1!==c.visibleInLegend){var e=this.chart,g=c.markerType;c.legendEntryWidth=this.markerSize;g||(g=this.markerType);var m=c.color,q=c.alpha;c.legendKeyColor&&(m=c.legendKeyColor());c.legendKeyAlpha&&(q=c.legendKeyAlpha());var n;!0===c.hidden&&(n=m=this.markerDisabledColor);var p=c.pattern,r=c.customMarker;r||(r=this.customMarker);var u=this.container,E=this.markerSize,f=0,h=0,k=E/2;if(this.useGraphSettings){g=c.type;this.switchType=void 0;if("line"==g||"step"==g||"smoothedLine"==g||"ohlc"==g){p=u.set(),c.hidden||(m=c.lineColorR,n=c.bulletBorderColorR),f=b.line(u,[0,2*E],[E/2,E/2],m,c.lineAlpha,c.lineThickness,c.dashLength),b.setCN(e,f,"graph-stroke"),p.push(f),c.bullet&&(c.hidden||(m=c.bulletColorR),f=b.bullet(u,c.bullet,c.bulletSize,m,c.bulletAlpha,c.bulletBorderThickness,n,c.bulletBorderAlpha))&&(b.setCN(e,f,"graph-bullet"),f.translate(E+1,E/2),p.push(f)),k=0,f=E,h=E/3}else{var l;c.getGradRotation&&(l=c.getGradRotation());f=c.fillColorsR;!0===c.hidden&&(f=m);if(p=this.createMarker("rectangle",f,c.fillAlphas,c.lineThickness,m,c.lineAlpha,l,p)){k=E,p.translate(k,E/2)}f=E}b.setCN(e,p,"graph-"+g);b.setCN(e,p,"graph-"+c.id)}else{r?p=u.image(r,0,0,E,E):(p=this.createMarker(g,m,q,void 0,void 0,void 0,void 0,p))&&p.translate(E/2,E/2)}b.setCN(e,p,"legend-marker");this.addListeners(p,c);u=u.set([p]);this.switchable&&c.switchable&&u.setAttr("cursor","pointer");void 0!==c.id&&b.setCN(e,u,"legend-item-"+c.id);b.setCN(e,u,c.className,!0);(n=this.switchType)&&"none"!=n&&0<E&&("x"==n?(g=this.createX(),g.translate(E/2,E/2)):g=this.createV(),g.dItem=c,!0!==c.hidden?"x"==n?g.hide():g.show():"x"!=n&&g.hide(),this.switchable||g.hide(),this.addListeners(g,c),c.legendSwitch=g,u.push(g),b.setCN(e,g,"legend-switch"));n=this.color;c.showBalloon&&this.textClickEnabled&&void 0!==this.selectedColor&&(n=this.selectedColor);this.useMarkerColorForLabels&&(n=m);!0===c.hidden&&(n=this.markerDisabledColor);m=b.massReplace(this.labelText,{"[[title]]":c.title});g=this.fontSize;p&&(E<=g&&p.translate(k,E/2+this.ly-g/2+(g+2-E)/2-h),c.legendEntryWidth=p.getBBox().width);var a;m&&(m=b.fixBrakes(m),c.legendTextReal=m,a=this.labelWidth,a=isNaN(a)?b.text(this.container,m,n,e.fontFamily,g,"start"):b.wrappedText(this.container,m,n,e.fontFamily,g,"start",!1,a,0),b.setCN(e,a,"legend-label"),a.translate(this.lx+f,this.ly),u.push(a),e=a.getBBox().width,this.maxLabelWidth<e&&(this.maxLabelWidth=e));this.entries[this.index]=u;c.legendEntry=this.entries[this.index];c.legendLabel=a;this.index++}},addListeners:function(c,g){var a=this;c&&c.mouseover(function(d){a.rollOverMarker(g,d)}).mouseout(function(d){a.rollOutMarker(g,d)}).click(function(d){a.clickMarker(g,d)})},rollOverMarker:function(a,e){this.switchable&&this.dispatch("rollOverMarker",a,e);this.dispatch("rollOverItem",a,e)},rollOutMarker:function(a,e){this.switchable&&this.dispatch("rollOutMarker",a,e);this.dispatch("rollOutItem",a,e)},clickMarker:function(a,e){this.switchable&&(!0===a.hidden?this.dispatch("showItem",a,e):this.dispatch("hideItem",a,e));this.dispatch("clickMarker",a,e)},rollOverLabel:function(a,e){a.hidden||(this.textClickEnabled&&a.legendLabel&&a.legendLabel.attr({fill:this.rollOverColor}),this.dispatch("rollOverItem",a,e))},rollOutLabel:function(c,g){if(!c.hidden){if(this.textClickEnabled&&c.legendLabel){var a=this.color;void 0!==this.selectedColor&&c.showBalloon&&(a=this.selectedColor);this.useMarkerColorForLabels&&(a=c.lineColor,void 0===a&&(a=c.color));c.legendLabel.attr({fill:a})}this.dispatch("rollOutItem",c,g)}},clickLabel:function(a,e){this.textClickEnabled?a.hidden||this.dispatch("clickLabel",a,e):this.switchable&&(!0===a.hidden?this.dispatch("showItem",a,e):this.dispatch("hideItem",a,e))},dispatch:function(c,g,a){g={type:c,dataItem:g,target:this,event:a,chart:this.chart};this.chart&&this.chart.handleLegendEvent(g);this.fire(c,g)},createValue:function(a){var c=this,e=c.fontSize,f=c.chart;if(!1!==a.visibleInLegend){var k=c.maxLabelWidth;c.forceWidth&&(k=c.labelWidth);c.equalWidths||(c.valueAlign="left");"left"==c.valueAlign&&(k=a.legendEntry.getBBox().width);var g=k;if(c.valueText&&0<c.valueWidth){var h=c.color;c.useMarkerColorForValues&&(h=a.color,a.legendKeyColor&&(h=a.legendKeyColor()));!0===a.hidden&&(h=c.markerDisabledColor);var l=c.valueText,k=k+c.lx+c.markerLabelGap+c.valueWidth,s="end";"left"==c.valueAlign&&(k-=c.valueWidth,s="start");h=b.text(c.container,l,h,c.chart.fontFamily,e,s);b.setCN(f,h,"legend-value");h.translate(k,c.ly);c.entries[c.index].push(h);g+=c.valueWidth+2*c.markerLabelGap;h.dItem=a;c.valueLabels.push(h)}c.index++;f=c.markerSize;f<e+7&&(f=e+7,b.VML&&(f+=3));e=c.container.rect(a.legendEntryWidth,0,g,f,0,0).attr({stroke:"none",fill:"#fff","fill-opacity":0.005});e.dItem=a;c.entries[c.index-1].push(e);e.mouseover(function(d){c.rollOverLabel(a,d)}).mouseout(function(d){c.rollOutLabel(a,d)}).click(function(d){c.clickLabel(a,d)})}},createV:function(){var a=this.markerSize;return b.polygon(this.container,[a/5,a/2,a-a/5,a/2],[a/3,a-a/5,a/5,a/1.7],this.switchColor)},createX:function(){var e=(this.markerSize-4)/2,i={stroke:this.switchColor,"stroke-width":3},a=this.container,c=b.line(a,[-e,e],[-e,e]).attr(i),e=b.line(a,[-e,e],[e,-e]).attr(i);return this.container.set([c,e])},createMarker:function(m,u,a,c,g,e,f,h){var k=this.markerSize,l=this.container;g||(g=this.markerBorderColor);g||(g=u);isNaN(c)&&(c=this.markerBorderThickness);isNaN(e)&&(e=this.markerBorderAlpha);return b.bullet(l,m,k,u,a,c,g,e,k,f,h,this.chart.path)},validateNow:function(){this.invalidateSize()},updateValues:function(){var a=this.valueLabels,c=this.chart,e,f=this.data;for(e=0;e<a.length;e++){var k=a[e],g=k.dItem,h=" ";if(f){g.value?k.text(g.value):k.text("")}else{var l;if(void 0!==g.type){l=g.currentDataItem;var s=this.periodValueText;g.legendPeriodValueText&&(s=g.legendPeriodValueText);l?(h=this.valueText,g.legendValueText&&(h=g.legendValueText),h=c.formatString(h,l)):s&&c.formatPeriodString&&(s=b.massReplace(s,{"[[title]]":g.title}),h=c.formatPeriodString(s,g))}else{h=c.formatString(this.valueText,g)}if(s=this.valueFunction){l&&(g=l),h=s(g,h)}k.text(h)}}},renderFix:function(){if(!b.VML){var a=this.container;a&&a.renderFix()}},destroy:function(){this.div.innerHTML="";b.remove(this.set)}})})();(function(){var b=window.AmCharts;b.formatMilliseconds=function(d,i){if(-1!=d.indexOf("fff")){var a=i.getMilliseconds(),c=String(a);10>a&&(c="00"+a);10<=a&&100>a&&(c="0"+a);d=d.replace(/fff/g,c)}return d};b.extractPeriod=function(c){var g=b.stripNumbers(c),a=1;g!=c&&(a=Number(c.slice(0,c.indexOf(g))));return{period:g,count:a}};b.getDate=function(c,g,a){return c instanceof Date?b.newDate(c,a):g&&isNaN(c)?b.stringToDate(c,g):new Date(c)};b.newDate=function(a,e){return e&&-1==e.indexOf("fff")?new Date(a):b.useUTC?new Date(a.getUTCFullYear(),a.getUTCMonth(),a.getUTCDate(),a.getUTCHours(),a.getUTCMinutes(),a.getUTCSeconds(),a.getUTCMilliseconds()):new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds())};b.resetDateToMin=function(l,m,n,w){void 0===w&&(w=1);var e,a,c,f,g,h,k;b.useUTC?(e=l.getUTCFullYear(),a=l.getUTCMonth(),c=l.getUTCDate(),f=l.getUTCHours(),g=l.getUTCMinutes(),h=l.getUTCSeconds(),k=l.getUTCMilliseconds(),l=l.getUTCDay()):(e=l.getFullYear(),a=l.getMonth(),c=l.getDate(),f=l.getHours(),g=l.getMinutes(),h=l.getSeconds(),k=l.getMilliseconds(),l=l.getDay());switch(m){case"YYYY":e=Math.floor(e/n)*n;a=0;c=1;k=h=g=f=0;break;case"MM":a=Math.floor(a/n)*n;c=1;k=h=g=f=0;break;case"WW":c=l>=w?c-l+w:c-(7+l)+w;k=h=g=f=0;break;case"DD":k=h=g=f=0;break;case"hh":f=Math.floor(f/n)*n;k=h=g=0;break;case"mm":g=Math.floor(g/n)*n;k=h=0;break;case"ss":h=Math.floor(h/n)*n;k=0;break;case"fff":k=Math.floor(k/n)*n}b.useUTC?(l=new Date,l.setUTCFullYear(e,a,c),l.setUTCHours(f,g,h,k)):l=new Date(e,a,c,f,g,h,k);return l};b.getPeriodDuration=function(c,g){void 0===g&&(g=1);var a;switch(c){case"YYYY":a=31622400000;break;case"MM":a=2678400000;break;case"WW":a=604800000;break;case"DD":a=86400000;break;case"hh":a=3600000;break;case"mm":a=60000;break;case"ss":a=1000;break;case"fff":a=1}return a*g};b.intervals={s:{nextInterval:"ss",contains:1000},ss:{nextInterval:"mm",contains:60,count:0},mm:{nextInterval:"hh",contains:60,count:1},hh:{nextInterval:"DD",contains:24,count:2},DD:{nextInterval:"",contains:Infinity,count:3}};b.getMaxInterval=function(c,g){var a=b.intervals;return c>=a[g].contains?(c=Math.round(c/a[g].contains),g=a[g].nextInterval,b.getMaxInterval(c,g)):"ss"==g?a[g].nextInterval:g};b.dayNames="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" ");b.shortDayNames="Sun Mon Tue Wed Thu Fri Sat".split(" ");b.monthNames="January February March April May June July August September October November December".split(" ");b.shortMonthNames="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" ");b.getWeekNumber=function(a){a=new Date(a);a.setHours(0,0,0);a.setDate(a.getDate()+4-(a.getDay()||7));var e=new Date(a.getFullYear(),0,1);return Math.ceil(((a-e)/86400000+1)/7)};b.stringToDate=function(m,u){var a={},c=[{pattern:"YYYY",period:"year"},{pattern:"YY",period:"year"},{pattern:"MM",period:"month"},{pattern:"M",period:"month"},{pattern:"DD",period:"date"},{pattern:"D",period:"date"},{pattern:"JJ",period:"hours"},{pattern:"J",period:"hours"},{pattern:"HH",period:"hours"},{pattern:"H",period:"hours"},{pattern:"KK",period:"hours"},{pattern:"K",period:"hours"},{pattern:"LL",period:"hours"},{pattern:"L",period:"hours"},{pattern:"NN",period:"minutes"},{pattern:"N",period:"minutes"},{pattern:"SS",period:"seconds"},{pattern:"S",period:"seconds"},{pattern:"QQQ",period:"milliseconds"},{pattern:"QQ",period:"milliseconds"},{pattern:"Q",period:"milliseconds"}],g=!0,e=u.indexOf("AA");-1!=e&&(m.substr(e,2),"pm"==m.toLowerCase&&(g=!1));var e=u,f,h,k;for(k=0;k<c.length;k++){h=c[k].period,a[h]=0,"date"==h&&(a[h]=1)}for(k=0;k<c.length;k++){if(f=c[k].pattern,h=c[k].period,-1!=u.indexOf(f)){var l=b.getFromDateString(f,m,e);u=u.replace(f,"");if("KK"==f||"K"==f||"LL"==f||"L"==f){g||(l+=12)}a[h]=l}}b.useUTC?(c=new Date,c.setUTCFullYear(a.year,a.month,a.date),c.setUTCHours(a.hours,a.minutes,a.seconds,a.milliseconds)):c=new Date(a.year,a.month,a.date,a.hours,a.minutes,a.seconds,a.milliseconds);return c};b.getFromDateString=function(c,g,a){if(void 0!==g){return a=a.indexOf(c),g=String(g),g=g.substr(a,c.length),"0"==g.charAt(0)&&(g=g.substr(1,g.length-1)),g=Number(g),isNaN(g)&&(g=0),-1!=c.indexOf("M")&&g--,g}};b.formatDate=function(a,c,e){e||(e=b);var g,p,m,n,q,r,G,f=b.getWeekNumber(a);b.useUTC?(g=a.getUTCFullYear(),p=a.getUTCMonth(),m=a.getUTCDate(),n=a.getUTCDay(),q=a.getUTCHours(),r=a.getUTCMinutes(),G=a.getUTCSeconds(),a=a.getUTCMilliseconds()):(g=a.getFullYear(),p=a.getMonth(),m=a.getDate(),n=a.getDay(),q=a.getHours(),r=a.getMinutes(),G=a.getSeconds(),a=a.getMilliseconds());var h=String(g).substr(2,2),k=p+1;9>p&&(k="0"+k);var l="0"+n;c=c.replace(/W/g,f);f=q;24==f&&(f=0);var u=f;10>u&&(u="0"+u);c=c.replace(/JJ/g,u);c=c.replace(/J/g,f);u=q;0===u&&(u=24,-1!=c.indexOf("H")&&m--);f=m;10>m&&(f="0"+m);var t=u;10>t&&(t="0"+t);c=c.replace(/HH/g,t);c=c.replace(/H/g,u);u=q;11<u&&(u-=12);t=u;10>t&&(t="0"+t);c=c.replace(/KK/g,t);c=c.replace(/K/g,u);u=q;0===u&&(u=12);12<u&&(u-=12);t=u;10>t&&(t="0"+t);c=c.replace(/LL/g,t);c=c.replace(/L/g,u);u=r;10>u&&(u="0"+u);c=c.replace(/NN/g,u);c=c.replace(/N/g,r);r=G;10>r&&(r="0"+r);c=c.replace(/SS/g,r);c=c.replace(/S/g,G);G=a;10>G&&(G="00"+G);100>G&&(G="0"+G);r=a;10>r&&(r="00"+r);c=c.replace(/QQQ/g,G);c=c.replace(/QQ/g,r);c=c.replace(/Q/g,a);c=12>q?c.replace(/A/g,"am"):c.replace(/A/g,"pm");c=c.replace(/YYYY/g,"@IIII@");c=c.replace(/YY/g,"@II@");c=c.replace(/MMMM/g,"@XXXX@");c=c.replace(/MMM/g,"@XXX@");c=c.replace(/MM/g,"@XX@");c=c.replace(/M/g,"@X@");c=c.replace(/DD/g,"@RR@");c=c.replace(/D/g,"@R@");c=c.replace(/EEEE/g,"@PPPP@");c=c.replace(/EEE/g,"@PPP@");c=c.replace(/EE/g,"@PP@");c=c.replace(/E/g,"@P@");c=c.replace(/@IIII@/g,g);c=c.replace(/@II@/g,h);c=c.replace(/@XXXX@/g,e.monthNames[p]);c=c.replace(/@XXX@/g,e.shortMonthNames[p]);c=c.replace(/@XX@/g,k);c=c.replace(/@X@/g,p+1);c=c.replace(/@RR@/g,f);c=c.replace(/@R@/g,m);c=c.replace(/@PPPP@/g,e.dayNames[n]);c=c.replace(/@PPP@/g,e.shortDayNames[n]);c=c.replace(/@PP@/g,l);return c=c.replace(/@P@/g,n)};b.changeDate=function(h,m,a,c,f){if(b.useUTC){return b.changeUTCDate(h,m,a,c,f)}var e=-1;void 0===c&&(c=!0);void 0===f&&(f=!1);!0===c&&(e=1);switch(m){case"YYYY":h.setFullYear(h.getFullYear()+a*e);c||f||h.setDate(h.getDate()+1);break;case"MM":m=h.getMonth();h.setMonth(h.getMonth()+a*e);h.getMonth()>m+a*e&&h.setDate(h.getDate()-1);c||f||h.setDate(h.getDate()+1);break;case"DD":h.setDate(h.getDate()+a*e);break;case"WW":h.setDate(h.getDate()+a*e*7);break;case"hh":h.setHours(h.getHours()+a*e);break;case"mm":h.setMinutes(h.getMinutes()+a*e);break;case"ss":h.setSeconds(h.getSeconds()+a*e);break;case"fff":h.setMilliseconds(h.getMilliseconds()+a*e)}return h};b.changeUTCDate=function(h,m,a,c,f){var d=-1;void 0===c&&(c=!0);void 0===f&&(f=!1);!0===c&&(d=1);switch(m){case"YYYY":h.setUTCFullYear(h.getUTCFullYear()+a*d);c||f||h.setUTCDate(h.getUTCDate()+1);break;case"MM":m=h.getUTCMonth();h.setUTCMonth(h.getUTCMonth()+a*d);h.getUTCMonth()>m+a*d&&h.setUTCDate(h.getUTCDate()-1);c||f||h.setUTCDate(h.getUTCDate()+1);break;case"DD":h.setUTCDate(h.getUTCDate()+a*d);break;case"WW":h.setUTCDate(h.getUTCDate()+a*d*7);break;case"hh":h.setUTCHours(h.getUTCHours()+a*d);break;case"mm":h.setUTCMinutes(h.getUTCMinutes()+a*d);break;case"ss":h.setUTCSeconds(h.getUTCSeconds()+a*d);break;case"fff":h.setUTCMilliseconds(h.getUTCMilliseconds()+a*d)}return h}})();