AmCharts.translations.dataLoader={};AmCharts.addInitHandler(function(s){if(undefined===s.dataLoader||!l(s.dataLoader)){s.dataLoader={}}var t=s.version.split(".");if((Number(t[0])<3)||(3===Number(t[0])&&(Number(t[1])<13))){return}var z=s.dataLoader;z.remaining=0;var y={async:true,format:"json",showErrors:true,showCurtain:true,noStyles:false,reload:0,timestamp:false,delimiter:",",skip:0,useColumnNames:false,reverse:false,reloading:false,complete:false,error:false,chart:s};z.loadData=function(){if("stock"===s.type){setTimeout(function(){if(0>s.panelsSettings.startDuration){z.startDuration=s.panelsSettings.startDuration;s.panelsSettings.startDuration=0}for(var a=0;a<s.dataSets.length;a++){var b=s.dataSets[a];if(undefined!==b.dataLoader&&undefined!==b.dataLoader.url){b.dataProvider=[];u(b.dataLoader);x(b.dataLoader.url,b,b.dataLoader,"dataProvider")}if(undefined!==b.eventDataLoader&&undefined!==b.eventDataLoader.url){b.events=[];u(b.eventDataLoader);x(b.eventDataLoader.url,b,b.eventDataLoader,"stockEvents")}}},100)}else{u(z);if(undefined===z.url){return}if(undefined!==s.startDuration&&(0<s.startDuration)){z.startDuration=s.startDuration;s.startDuration=0}if("gauge"===s.type){if(undefined===s.arrows){s.arrows=[]}x(z.url,s,z,"arrows")}else{if(undefined===s.dataProvider){s.dataProvider=s.type==="map"?{}:[]}x(z.url,s,z,"dataProvider")}}};z.loadData();function x(d,b,a,c){if(undefined===c){c="dataProvider"}if(a.showCurtain){B(undefined,a.noStyles)}z.remaining++;AmCharts.loadFile(d,a,function(e){if(false===e){v(a.error,a,s);p(AmCharts.__("Error loading the file",s.language)+": "+d,false,a)}else{if(undefined===a.format){a.format="json"}a.format=a.format.toLowerCase();switch(a.format){case"json":b[c]=AmCharts.parseJSON(e);if(false===b[c]){v(a.error,a,s);p(AmCharts.__("Error parsing JSON file",s.language)+": "+z.url,false,a);b[c]=[];return}else{b[c]=w(b[c],a);v(a.load,a,s)}break;case"csv":b[c]=AmCharts.parseCSV(e,a);if(false===b[c]){v(a.error,a,s);p(AmCharts.__("Error parsing CSV file",s.language)+": "+z.url,false,a);b[c]=[];return}else{b[c]=w(b[c],a);v(a.load,a,s)}break;default:v(a.error,a,s);p(AmCharts.__("Unsupported data format",s.language)+": "+a.format,false,a.noStyles);return}z.remaining--;if(0===z.remaining){v(a.complete,s);if(a.async){if("map"===s.type){s.validateNow(true)}else{s.validateData();if(z.startDuration){if("stock"===s.type){s.panelsSettings.startDuration=z.startDuration;for(var f=0;f<s.panels.length;f++){s.panels[f].startDuration=z.startDuration;s.panels[f].animateAgain()}}else{s.startDuration=z.startDuration;if(s.animateAgain!==undefined){s.animateAgain()}}}}}if("stock"===s.type&&!a.reloading&&undefined!==s.periodSelector){s.periodSelector.setDefaultPeriod()}q()}if(a.reload){if(a.timeout){clearTimeout(a.timeout)}a.timeout=setTimeout(x,1000*a.reload,d,b,a);a.reloading=true}}})}function w(c,a){if(undefined!==a.postProcess&&A(a.postProcess)){try{return a.postProcess.call(z,c,a,s)}catch(b){p(AmCharts.__("Error loading file",s.language)+": "+a.url,false,a);return c}}else{return c}}function l(a){return"object"===typeof(a)}function A(a){return"function"===typeof(a)}function u(b){for(var a in y){if(y.hasOwnProperty(a)){r(b,a,y[a])}}}function r(b,a,c){if(undefined===b[a]){b[a]=c}}function p(b,c,a){if(a.showErrors){B(b,a.noStyles)}else{q();console.log(b)}}function B(b,a){q();if(undefined===b){b=AmCharts.__("Loading data...",s.language)}var d=document.createElement("div");d.setAttribute("id",s.div.id+"-curtain");d.className="amcharts-dataloader-curtain";if(true!==a){d.style.position="absolute";d.style.top=0;d.style.left=0;d.style.width=(undefined!==s.realWidth?s.realWidth:s.divRealWidth)+"px";d.style.height=(undefined!==s.realHeight?s.realHeight:s.divRealHeight)+"px";d.style.textAlign="center";d.style.display="table";d.style.fontSize="20px";try{d.style.background="rgba(255, 255, 255, 0.3)"}catch(c){d.style.background="rgb(255, 255, 255)"}d.innerHTML='<div style="display: table-cell; vertical-align: middle;">'+b+"</div>"}else{d.innerHTML=b}s.containerDiv.appendChild(d);z.curtain=d}function q(){try{if(undefined!==z.curtain){s.containerDiv.removeChild(z.curtain)}}catch(a){}z.curtain=undefined}function v(a,b,c,d){if("function"===typeof a){a.call(z,b,c,d)}}},["pie","serial","xy","funnel","radar","gauge","gantt","stock","map"]);if(undefined===AmCharts.__){AmCharts.__=function(d,c){if(undefined!==c&&undefined!==AmCharts.translations.dataLoader[c]&&undefined!==AmCharts.translations.dataLoader[c][d]){return AmCharts.translations.dataLoader[c][d]}else{return d}}}AmCharts.loadFile=function(e,g,j){var i;if(window.XMLHttpRequest){i=new XMLHttpRequest()}else{i=new ActiveXObject("Microsoft.XMLHTTP")}i.onreadystatechange=function(){if(4===i.readyState&&404===i.status){j.call(this,false)}else{if(4===i.readyState&&200===i.status){j.call(this,i.responseText)}}};try{i.open("GET",g.timestamp?AmCharts.timestampUrl(e):e,g.async);i.send()}catch(h){j.call(this,false)}};AmCharts.parseJSON=function(response){try{if(undefined!==JSON){return JSON.parse(response)}else{return eval(response)}}catch(e){return false}};AmCharts.parseCSV=function(r,i){var q=AmCharts.CSVToArray(r,i.delimiter);var o=[];var n=[];var s,p;if(i.useColumnNames){n=q.shift();for(var m=0;m<n.length;m++){s=n[m].replace(/^\s+|\s+$/gm,"");if(""===s){s="col"+m}n[m]=s}if(0<i.skip){i.skip--}}for(p=0;p<i.skip;p++){q.shift()}var l;while((l=i.reverse?q.pop():q.shift())){var t={};for(p=0;p<l.length;p++){s=undefined===n[p]?"col"+p:n[p];t[s]=l[p]}o.push(t)}return o};AmCharts.CSVToArray=function(l,j){j=(j||",");var k=new RegExp(("(\\"+j+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+j+"\\r\\n]*))"),"gi");var h=[[]];var m=null;while((m=k.exec(l))){var i=m[1];if(i.length&&(i!==j)){h.push([])}var n;if(m[2]){n=m[2].replace(new RegExp('""',"g"),'"')}else{n=m[3]}h[h.length-1].push(n)}return(h)};AmCharts.timestampUrl=function(d){var c=d.split("?");if(1===c.length){c[1]=new Date().getTime()}else{c[1]+="&"+new Date().getTime()}return c.join("?")};