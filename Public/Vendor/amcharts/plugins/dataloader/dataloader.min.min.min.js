AmCharts.translations.dataLoader={};AmCharts.addInitHandler(function(o){if(undefined===o.dataLoader||!f(o.dataLoader)){o.dataLoader={}}var n=o.version.split(".");if((Number(n[0])<3)||(3===Number(n[0])&&(Number(n[1])<13))){return}var g=o.dataLoader;g.remaining=0;var h={async:true,format:"json",showErrors:true,showCurtain:true,noStyles:false,reload:0,timestamp:false,delimiter:",",skip:0,useColumnNames:false,reverse:false,reloading:false,complete:false,error:false,chart:o};g.loadData=function(){if("stock"===o.type){setTimeout(function(){if(0>o.panelsSettings.startDuration){g.startDuration=o.panelsSettings.startDuration;o.panelsSettings.startDuration=0}for(var p=0;p<o.dataSets.length;p++){var l=o.dataSets[p];if(undefined!==l.dataLoader&&undefined!==l.dataLoader.url){l.dataProvider=[];m(l.dataLoader);i(l.dataLoader.url,l,l.dataLoader,"dataProvider")}if(undefined!==l.eventDataLoader&&undefined!==l.eventDataLoader.url){l.events=[];m(l.eventDataLoader);i(l.eventDataLoader.url,l,l.eventDataLoader,"stockEvents")}}},100)}else{m(g);if(undefined===g.url){return}if(undefined!==o.startDuration&&(0<o.startDuration)){g.startDuration=o.startDuration;o.startDuration=0}if("gauge"===o.type){if(undefined===o.arrows){o.arrows=[]}i(g.url,o,g,"arrows")}else{if(undefined===o.dataProvider){o.dataProvider=o.type==="map"?{}:[]}i(g.url,o,g,"dataProvider")}}};g.loadData();function i(q,l,p,r){if(undefined===r){r="dataProvider"}if(p.showCurtain){c(undefined,p.noStyles)}g.remaining++;AmCharts.loadFile(q,p,function(t){if(false===t){k(p.error,p,o);d(AmCharts.__("Error loading the file",o.language)+": "+q,false,p)}else{if(undefined===p.format){p.format="json"}p.format=p.format.toLowerCase();switch(p.format){case"json":l[r]=AmCharts.parseJSON(t);if(false===l[r]){k(p.error,p,o);d(AmCharts.__("Error parsing JSON file",o.language)+": "+g.url,false,p);l[r]=[];return}else{l[r]=j(l[r],p);k(p.load,p,o)}break;case"csv":l[r]=AmCharts.parseCSV(t,p);if(false===l[r]){k(p.error,p,o);d(AmCharts.__("Error parsing CSV file",o.language)+": "+g.url,false,p);l[r]=[];return}else{l[r]=j(l[r],p);k(p.load,p,o)}break;default:k(p.error,p,o);d(AmCharts.__("Unsupported data format",o.language)+": "+p.format,false,p.noStyles);return}g.remaining--;if(0===g.remaining){k(p.complete,o);if(p.async){if("map"===o.type){o.validateNow(true)}else{o.validateData();if(g.startDuration){if("stock"===o.type){o.panelsSettings.startDuration=g.startDuration;for(var s=0;s<o.panels.length;s++){o.panels[s].startDuration=g.startDuration;o.panels[s].animateAgain()}}else{o.startDuration=g.startDuration;if(o.animateAgain!==undefined){o.animateAgain()}}}}}if("stock"===o.type&&!p.reloading&&undefined!==o.periodSelector){o.periodSelector.setDefaultPeriod()}b()}if(p.reload){if(p.timeout){clearTimeout(p.timeout)}p.timeout=setTimeout(i,1000*p.reload,q,l,p);p.reloading=true}}})}function j(q,p){if(undefined!==p.postProcess&&e(p.postProcess)){try{return p.postProcess.call(g,q,p,o)}catch(l){d(AmCharts.__("Error loading file",o.language)+": "+p.url,false,p);return q}}else{return q}}function f(l){return"object"===typeof(l)}function e(l){return"function"===typeof(l)}function m(l){for(var p in h){if(h.hasOwnProperty(p)){a(l,p,h[p])}}}function a(l,p,q){if(undefined===l[p]){l[p]=q}}function d(l,q,p){if(p.showErrors){c(l,p.noStyles)}else{b();console.log(l)}}function c(l,p){b();if(undefined===l){l=AmCharts.__("Loading data...",o.language)}var q=document.createElement("div");q.setAttribute("id",o.div.id+"-curtain");q.className="amcharts-dataloader-curtain";if(true!==p){q.style.position="absolute";q.style.top=0;q.style.left=0;q.style.width=(undefined!==o.realWidth?o.realWidth:o.divRealWidth)+"px";q.style.height=(undefined!==o.realHeight?o.realHeight:o.divRealHeight)+"px";q.style.textAlign="center";q.style.display="table";q.style.fontSize="20px";try{q.style.background="rgba(255, 255, 255, 0.3)"}catch(r){q.style.background="rgb(255, 255, 255)"}q.innerHTML='<div style="display: table-cell; vertical-align: middle;">'+l+"</div>"}else{q.innerHTML=l}o.containerDiv.appendChild(q);g.curtain=q}function b(){try{if(undefined!==g.curtain){o.containerDiv.removeChild(g.curtain)}}catch(l){}g.curtain=undefined}function k(p,l,r,q){if("function"===typeof p){p.call(g,l,r,q)}}},["pie","serial","xy","funnel","radar","gauge","gantt","stock","map"]);if(undefined===AmCharts.__){AmCharts.__=function(a,b){if(undefined!==b&&undefined!==AmCharts.translations.dataLoader[b]&&undefined!==AmCharts.translations.dataLoader[b][a]){return AmCharts.translations.dataLoader[b][a]}else{return a}}}AmCharts.loadFile=function(f,d,a){var b;if(window.XMLHttpRequest){b=new XMLHttpRequest()}else{b=new ActiveXObject("Microsoft.XMLHTTP")}b.onreadystatechange=function(){if(4===b.readyState&&404===b.status){a.call(this,false)}else{if(4===b.readyState&&200===b.status){a.call(this,b.responseText)}}};try{b.open("GET",d.timestamp?AmCharts.timestampUrl(f):f,d.async);b.send()}catch(c){a.call(this,false)}};AmCharts.parseJSON=function(response){try{if(undefined!==JSON){return JSON.parse(response)}else{return eval(response)}}catch(e){return false}};AmCharts.parseCSV=function(a,h){var b=AmCharts.CSVToArray(a,h.delimiter);var d=[];var e=[];var k,c;if(h.useColumnNames){e=b.shift();for(var f=0;f<e.length;f++){k=e[f].replace(/^\s+|\s+$/gm,"");if(""===k){k="col"+f}e[f]=k}if(0<h.skip){h.skip--}}for(c=0;c<h.skip;c++){b.shift()}var g;while((g=h.reverse?b.pop():b.shift())){var j={};for(c=0;c<g.length;c++){k=undefined===e[c]?"col"+c:e[c];j[k]=g[c]}d.push(j)}return d};AmCharts.CSVToArray=function(b,d){d=(d||",");var c=new RegExp(("(\\"+d+'|\\r?\\n|\\r|^)(?:"([^"]*(?:""[^"]*)*)"|([^"\\'+d+"\\r\\n]*))"),"gi");var f=[[]];var a=null;while((a=c.exec(b))){var e=a[1];if(e.length&&(e!==d)){f.push([])}var g;if(a[2]){g=a[2].replace(new RegExp('""',"g"),'"')}else{g=a[3]}f[f.length-1].push(g)}return(f)};AmCharts.timestampUrl=function(a){var b=a.split("?");if(1===b.length){b[1]=new Date().getTime()}else{b[1]+="&"+new Date().getTime()}return b.join("?")};