/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
(function(f){f.URL=f.URL||f.webkitURL;if(f.Blob&&f.URL){try{new Blob;return}catch(g){}}var h=f.BlobBuilder||f.WebKitBlobBuilder||f.MozBlobBuilder||(function(E){var N=function(i){return Object.prototype.toString.call(i).match(/^\[object\s(.*)\]$/)[1]},a=function H(){this.data=[]},c=function L(k,j,i){this.data=k;this.size=k.length;this.type=j;this.encoding=i},D=a.prototype,d=c.prototype,B=E.FileReaderSync,P=function(i){this.code=this[this.name=i]},C=("NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR").split(" "),z=C.length,I=E.URL||E.webkitURL||E,A=I.createObjectURL,O=I.revokeObjectURL,J=I,F=E.btoa,K=E.atob,M=E.ArrayBuffer,G=E.Uint8Array,b=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;c.fake=d.fake=true;while(z--){P.prototype[C[z]]=z+1}if(!I.createObjectURL){J=E.URL=function(i){var j=document.createElementNS("http://www.w3.org/1999/xhtml","a"),k;j.href=i;if(!("origin" in j)){if(j.protocol.toLowerCase()==="data:"){j.origin=null}else{k=i.match(b);j.origin=k&&k[1]}}return j}}J.createObjectURL=function(i){var k=i.type,j;if(k===null){k="application/octet-stream"}if(i instanceof c){j="data:"+k;if(i.encoding==="base64"){return j+";base64,"+i.data}else{if(i.encoding==="URI"){return j+","+decodeURIComponent(i.data)}}if(F){return j+";base64,"+F(i.data)}else{return j+","+encodeURIComponent(i.data)}}else{if(A){return A.call(I,i)}}};J.revokeObjectURL=function(i){if(i.substring(0,5)!=="data:"&&O){O.call(I,i)}};D.append=function(l){var j=this.data;if(G&&(l instanceof M||l instanceof G)){var k="",i=new G(l),o=0,n=i.length;for(;o<n;o++){k+=String.fromCharCode(i[o])}j.push(k)}else{if(N(l)==="Blob"||N(l)==="File"){if(B){var m=new B;j.push(m.readAsBinaryString(l))}else{throw new P("NOT_READABLE_ERR")}}else{if(l instanceof c){if(l.encoding==="base64"&&K){j.push(K(l.data))}else{if(l.encoding==="URI"){j.push(decodeURIComponent(l.data))}else{if(l.encoding==="raw"){j.push(l.data)}}}}else{if(typeof l!=="string"){l+=""}j.push(unescape(encodeURIComponent(l)))}}}};D.getBlob=function(i){if(!arguments.length){i=null}return new c(this.data.join(""),i,"raw")};D.toString=function(){return"[object BlobBuilder]"};d.slice=function(k,j,l){var i=arguments.length;if(i<3){l=null}return new c(this.data.slice(k,i>1?j:this.data.length),l,this.encoding)};d.toString=function(){return"[object Blob]"};d.close=function(){this.size=0;delete this.data};return a}(f));f.Blob=function(c,d){var a=d?(d.type||""):"";var i=new h();if(c){for(var b=0,n=c.length;b<n;b++){if(Uint8Array&&c[b] instanceof Uint8Array){i.append(c[b].buffer)}else{i.append(c[b])}}}var m=i.getBlob(a);if(!m.slice&&m.webkitSlice){m.slice=m.webkitSlice}return m};var e=Object.getPrototypeOf||function(a){return a.__proto__};f.Blob.prototype=e(new f.Blob())}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content||this));