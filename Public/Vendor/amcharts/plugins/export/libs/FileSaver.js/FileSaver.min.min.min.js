/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||(function(o){if(typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var n=o.document,c=function(){return o.URL||o.webkitURL||o},g=n.createElementNS("http://www.w3.org/1999/xhtml","a"),j="download" in g,r=function(t){var s=n.createEvent("MouseEvents");s.initMouseEvent("click",true,false,o,0,0,0,0,0,false,false,false,false,0,null);t.dispatchEvent(s)},i=o.webkitRequestFileSystem,k=o.requestFileSystem||i||o.mozRequestFileSystem,e=function(s){(o.setImmediate||o.setTimeout)(function(){throw s},0)},d="application/octet-stream",a=0,p=500,q=function(t){var s=function(){if(typeof t==="string"){c().revokeObjectURL(t)}else{t.remove()}};if(o.chrome){s()}else{setTimeout(s,p)}},m=function(v,u,s){u=[].concat(u);var x=u.length;while(x--){var t=v["on"+u[x]];if(typeof t==="function"){try{t.call(v,s||v)}catch(w){e(w)}}}},l=function(s){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)){return new Blob(["\ufeff",s],{type:s.type})}return s},h=function(s,t){s=l(s);var u=this,A=s.type,D=false,w,v,z=function(){m(u,"writestart progress write writeend".split(" "))},C=function(){if(D||!w){w=c().createObjectURL(s)}if(v){v.location.href=w}else{var E=o.open(w,"_blank");if(E==undefined&&typeof safari!=="undefined"){o.location.href=w}}u.readyState=u.DONE;z();q(w)},y=function(E){return function(){if(u.readyState!==u.DONE){return E.apply(this,arguments)}}},x={create:true,exclusive:false},B;u.readyState=u.INIT;if(!t){t="download"}if(j){w=c().createObjectURL(s);g.href=w;g.download=t;r(g);u.readyState=u.DONE;z();q(w);return}if(o.chrome&&A&&A!==d){B=s.slice||s.webkitSlice;s=B.call(s,0,s.size,d);D=true}if(i&&t!=="download"){t+=".download"}if(A===d||i){v=o}if(!k){C();return}a+=s.size;k(o.TEMPORARY,a,y(function(E){E.root.getDirectory("saved",x,y(function(F){var G=function(){F.getFile(t,x,y(function(H){H.createWriter(y(function(I){I.onwriteend=function(J){v.location.href=H.toURL();u.readyState=u.DONE;m(u,"writeend",J);q(H)};I.onerror=function(){var J=I.error;if(J.code!==J.ABORT_ERR){C()}};"writestart progress write abort".split(" ").forEach(function(J){I["on"+J]=u["on"+J]});I.write(s);u.abort=function(){I.abort();u.readyState=u.DONE};u.readyState=u.WRITING}),C)}),C)};F.getFile(t,{create:false},y(function(H){H.remove();G()}),y(function(H){if(H.code===H.NOT_FOUND_ERR){G()}else{C()}}))}),C)}),C)},f=h.prototype,b=function(s,t){return new h(s,t)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(s,t){return navigator.msSaveOrOpenBlob(l(s),t)}}f.abort=function(){var s=this;s.readyState=s.DONE;m(s,"abort")};f.readyState=f.INIT=0;f.WRITING=1;f.DONE=2;f.error=f.onwritestart=f.onprogress=f.onwrite=f.onabort=f.onerror=f.onwriteend=null;return b}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content));if(typeof module!=="undefined"&&module.exports){module.exports.saveAs=saveAs}else{if((typeof define!=="undefined"&&define!==null)&&(define.amd!=null)){define([],function(){return saveAs})}};