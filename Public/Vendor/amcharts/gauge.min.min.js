(function(){var b=window.AmCharts;b.GaugeAxis=b.Class({construct:function(a){this.cname="GaugeAxis";this.radius="95%";this.createEvents("rollOverBand","rollOutBand","clickBand");this.labelsEnabled=!0;this.startAngle=-120;this.endAngle=120;this.startValue=0;this.endValue=200;this.gridCount=5;this.tickLength=10;this.minorTickLength=5;this.tickColor="#555555";this.labelFrequency=this.tickThickness=this.tickAlpha=1;this.inside=!0;this.labelOffset=10;this.showLastLabel=this.showFirstLabel=!0;this.axisThickness=1;this.axisColor="#000000";this.axisAlpha=1;this.gridInside=!0;this.topTextYOffset=0;this.topTextBold=!0;this.bottomTextYOffset=0;this.bottomTextBold=!0;this.centerY=this.centerX="0%";this.bandOutlineAlpha=this.bandOutlineThickness=0;this.bandOutlineColor="#000000";this.bandAlpha=1;this.bcn="gauge-axis";b.applyTheme(this,a,"GaugeAxis")},value2angle:function(a){return(a-this.startValue)/(this.endValue-this.startValue)*(this.endAngle-this.startAngle)+this.startAngle},setTopText:function(e){if(void 0!==e){this.topText=e;var i=this.chart;if(this.axisCreated){this.topTF&&this.topTF.remove();var d=this.topTextFontSize;d||(d=i.fontSize);var a=this.topTextColor;a||(a=i.color);e=b.text(i.container,e,a,i.fontFamily,d,void 0,this.topTextBold);b.setCN(i,e,"axis-top-label");e.translate(this.centerXReal,this.centerYReal-this.radiusReal/2+this.topTextYOffset);this.set.push(e);this.topTF=e}}},setBottomText:function(e){if(void 0!==e){this.bottomText=e;var i=this.chart;if(this.axisCreated){this.bottomTF&&this.bottomTF.remove();var d=this.bottomTextFontSize;d||(d=i.fontSize);var a=this.bottomTextColor;a||(a=i.color);e=b.text(i.container,e,a,i.fontFamily,d,void 0,this.bottomTextBold);b.setCN(i,e,"axis-bottom-label");e.translate(this.centerXReal,this.centerYReal+this.radiusReal/2+this.bottomTextYOffset);this.bottomTF=e;this.set.push(e)}}},draw:function(){var t=this.chart,u=t.container.set();this.set=u;b.setCN(t,u,this.bcn);b.setCN(t,u,this.bcn+"-"+this.id);t.graphsSet.push(u);var x=this.startValue,w=this.endValue,z=this.valueInterval;isNaN(z)&&(z=(w-x)/this.gridCount);var G=this.minorTickInterval;isNaN(G)&&(G=z/5);var g=this.startAngle,C=this.endAngle,A=this.tickLength,w=(w-x)/z+1,k=(C-g)/(w-1),y=k/z;this.singleValueAngle=y;var H=t.container,h=this.tickColor,a=this.tickAlpha,E=this.tickThickness,G=z/G,L=k/G,l=this.minorTickLength,m=this.labelFrequency,p=this.radiusReal;this.inside||(p-=15);var M=t.centerX+b.toCoordinate(this.centerX,t.realWidth),ab=t.centerY+b.toCoordinate(this.centerY,t.realHeight);this.centerXReal=M;this.centerYReal=ab;var r={fill:this.axisColor,"fill-opacity":this.axisAlpha,"stroke-width":0,"stroke-opacity":0},N,e;this.gridInside?e=N=p:(N=p-A,e=N+l);var d=this.bands;if(d){for(var J=0;J<d.length;J++){var D=d[J];if(D){var n=D.startValue,K=D.endValue,F=b.toCoordinate(D.radius,p);isNaN(F)&&(F=e);var f=b.toCoordinate(D.innerRadius,p);isNaN(f)&&(f=F-l);var q=g+y*(n-this.startValue),K=y*(K-n),I=D.outlineColor;void 0==I&&(I=this.bandOutlineColor);var v=D.outlineThickness;isNaN(v)&&(v=this.bandOutlineThickness);var B=D.outlineAlpha;isNaN(B)&&(B=this.bandOutlineAlpha);n=D.alpha;isNaN(n)&&(n=this.bandAlpha);I={fill:D.color,stroke:I,"stroke-width":v,"stroke-opacity":B};D.url&&(I.cursor="pointer");F=b.wedge(H,M,ab,q,K,F,F,f,0,I);b.setCN(t,F.wedge,"axis-band");void 0!==D.id&&b.setCN(t,F.wedge,"axis-band-"+D.id);F.setAttr("opacity",n);this.set.push(F);this.addEventListeners(F,D)}}}y=this.axisThickness/2;C=b.wedge(H,M,ab,g,C-g,N+y,N+y,N-y,0,r);b.setCN(t,C.wedge,"axis-line");u.push(C);C=b.doNothing;b.isModern||(C=Math.round);z=b.roundTo(z,14);y=b.getDecimals(z);for(r=0;r<w;r++){if(d=x+r*z,N=g+r*k,J=C(M+p*Math.sin(N/180*Math.PI)),D=C(ab-p*Math.cos(N/180*Math.PI)),F=C(M+(p-A)*Math.sin(N/180*Math.PI)),f=C(ab-(p-A)*Math.cos(N/180*Math.PI)),J=b.line(H,[J,F],[D,f],h,a,E,0,!1,!1,!0),b.setCN(t,J,"axis-tick"),u.push(J),J=-1,F=this.labelOffset,this.inside||(F=-F-A,J=1),D=Math.sin(N/180*Math.PI),f=Math.cos(N/180*Math.PI),D=M+(p-A-F)*D,F=ab-(p-A-F)*f,n=this.fontSize,isNaN(n)&&(n=t.fontSize),f=Math.sin((N-90)/180*Math.PI),q=Math.cos((N-90)/180*Math.PI),0<m&&this.labelsEnabled&&r/m==Math.round(r/m)&&(this.showLastLabel||r!=w-1)&&(this.showFirstLabel||0!==r)&&(K=this.usePrefixes?b.addPrefix(d,t.prefixesOfBigNumbers,t.prefixesOfSmallNumbers,t.nf,!0):b.formatNumber(d,t.nf,y),(I=this.unit)&&(K="left"==this.unitPosition?I+K:K+I),(I=this.labelFunction)&&(K=I(d)),d=b.text(H,K,t.color,t.fontFamily,n),b.setCN(t,d,"axis-label"),n=d.getBBox(),d.translate(D+J*n.width/2*q,F+J*n.height/2*f),u.push(d)),r<w-1){for(d=1;d<G;d++){f=N+L*d,J=C(M+e*Math.sin(f/180*Math.PI)),D=C(ab-e*Math.cos(f/180*Math.PI)),F=C(M+(e-l)*Math.sin(f/180*Math.PI)),f=C(ab-(e-l)*Math.cos(f/180*Math.PI)),J=b.line(H,[J,F],[D,f],h,a,E,0,!1,!1,!0),b.setCN(t,J,"axis-tick-minor"),u.push(J)}}}this.axisCreated=!0;this.setTopText(this.topText);this.setBottomText(this.bottomText);t=t.graphsSet.getBBox();this.width=t.width;this.height=t.height},addListeners:function(c,g){var a=this;g.mouseover(function(d){}).mouseout(function(d){a.fireEvent("rollOutBand",c,d)}).touchend(function(d){a.fireEvent("clickBand",c,d)}).touchstart(function(d){a.fireEvent("rollOverBand",c,d)}).click(function(d){a.fireEvent("clickBand",c,d)})},fireEvent:function(c,g,a){c={type:c,dataItem:g,chart:this,event:a};this.fire(c.type,c)},addEventListeners:function(e,i){var d=this,a=d.chart;e.mouseover(function(c){a.showBalloon(i.balloonText,i.color,!0);d.fireEvent("rollOverBand",i,c)}).mouseout(function(c){a.hideBalloon();d.fireEvent("rollOutBand",i,c)}).click(function(c){d.fireEvent("clickBand",i,c);b.getURL(i.url,a.urlTarget)}).touchend(function(c){d.fireEvent("clickBand",i,c);b.getURL(i.url,a.urlTarget)})}})})();(function(){var b=window.AmCharts;b.GaugeArrow=b.Class({construct:function(a){this.cname="GaugeArrow";this.color="#000000";this.nailAlpha=this.alpha=1;this.startWidth=this.nailRadius=8;this.endWidth=0;this.borderAlpha=1;this.radius="90%";this.nailBorderAlpha=this.innerRadius=0;this.nailBorderThickness=1;this.frame=0;b.applyTheme(this,a,"GaugeArrow")},setValue:function(a){var e=this.chart;e?e.setValue?e.setValue(this,a):this.previousValue=this.value=a:this.previousValue=this.value=a}});b.GaugeBand=b.Class({construct:function(){this.cname="GaugeBand"}})})();(function(){var b=window.AmCharts;b.AmAngularGauge=b.Class({inherits:b.AmChart,construct:function(a){this.cname="AmAngularGauge";b.AmAngularGauge.base.construct.call(this,a);this.theme=a;this.type="gauge";this.minRadius=this.marginRight=this.marginBottom=this.marginTop=this.marginLeft=10;this.faceColor="#FAFAFA";this.faceAlpha=0;this.faceBorderWidth=1;this.faceBorderColor="#555555";this.faceBorderAlpha=0;this.arrows=[];this.axes=[];this.startDuration=1;this.startEffect="easeOutSine";this.adjustSize=!0;this.extraHeight=this.extraWidth=0;b.applyTheme(this,a,this.cname)},addAxis:function(a){this.axes.push(a)},formatString:function(a,e){return a=b.formatValue(a,e,["value"],this.nf,"",this.usePrefixes,this.prefixesOfSmallNumbers,this.prefixesOfBigNumbers)},initChart:function(){b.AmAngularGauge.base.initChart.call(this);var e;0===this.axes.length&&(e=new b.GaugeAxis(this.theme),this.addAxis(e));var i;for(i=0;i<this.axes.length;i++){e=this.axes[i],e=b.processObject(e,b.GaugeAxis,this.theme),e.id||(e.id="axisAuto"+i+"_"+(new Date).getTime()),e.chart=this,this.axes[i]=e}var d=this.arrows;for(i=0;i<d.length;i++){e=d[i];e=b.processObject(e,b.GaugeArrow,this.theme);e.id||(e.id="arrowAuto"+i+"_"+(new Date).getTime());e.chart=this;d[i]=e;var a=e.axis;b.isString(a)&&(e.axis=b.getObjById(this.axes,a));e.axis||(e.axis=this.axes[0]);isNaN(e.value)&&e.setValue(e.axis.startValue);isNaN(e.previousValue)&&(e.previousValue=e.axis.startValue)}this.setLegendData(d);this.drawChart();this.totalFrames=1000*this.startDuration/b.updateRate},drawChart:function(){b.AmAngularGauge.base.drawChart.call(this);var a=this.container,d=this.updateWidth();this.realWidth=d;var f=this.updateHeight();this.realHeight=f;var e=b.toCoordinate,h=e(this.marginLeft,d),u=e(this.marginRight,d),v=e(this.marginTop,f)+this.getTitleHeight(),n=e(this.marginBottom,f),k=e(this.radius,d,f),e=d-h-u,w=f-v-n+this.extraHeight;k||(k=Math.min(e,w)/2);k<this.minRadius&&(k=this.minRadius);this.radiusReal=k;this.centerX=(d-h-u)/2+h;this.centerY=(f-v-n)/2+v+this.extraHeight/2;isNaN(this.gaugeX)||(this.centerX=this.gaugeX);isNaN(this.gaugeY)||(this.centerY=this.gaugeY);var d=this.faceAlpha,f=this.faceBorderAlpha,g;if(0<d||0<f){g=b.circle(a,k,this.faceColor,d,this.faceBorderWidth,this.faceBorderColor,f,!1),g.translate(this.centerX,this.centerY),g.toBack(),(a=this.facePattern)&&g.pattern(a,NaN,this.path)}for(d=k=a=0;d<this.axes.length;d++){f=this.axes[d],h=f.radius,f.radiusReal=b.toCoordinate(h,this.radiusReal),f.draw(),u=1,-1!==String(h).indexOf("%")&&(u=1+(100-Number(h.substr(0,h.length-1)))/100),f.width*u>a&&(a=f.width*u),f.height*u>k&&(k=f.height*u)}(d=this.legend)&&d.invalidateSize();if(this.adjustSize&&!this.chartCreated){g&&(g=g.getBBox(),g.width>a&&(a=g.width),g.height>k&&(k=g.height));g=0;if(w>k||e>a){g=Math.min(w-k,e-a)}0<g&&(this.extraHeight=w-k,this.chartCreated=!0,this.validateNow())}e=this.arrows.length;for(d=0;d<e;d++){w=this.arrows[d],w.drawnAngle=NaN}this.dispDUpd()},validateSize:function(){this.extraHeight=this.extraWidth=0;this.chartCreated=!1;b.AmAngularGauge.base.validateSize.call(this)},addArrow:function(a){this.arrows.push(a)},removeArrow:function(a){b.removeFromArray(this.arrows,a);this.validateNow()},removeAxis:function(a){b.removeFromArray(this.axes,a);this.validateNow()},drawArrow:function(B,C){B.set&&B.set.remove();var d=this.container;B.set=d.set();b.setCN(this,B.set,"gauge-arrow");b.setCN(this,B.set,"gauge-arrow-"+B.id);if(!B.hidden){var a=B.axis,f=a.radiusReal,k=a.centerXReal,w=a.centerYReal,h=B.startWidth,g=B.endWidth,A=b.toCoordinate(B.innerRadius,a.radiusReal),e=b.toCoordinate(B.radius,a.radiusReal);a.inside||(e-=15);var p=B.nailColor;p||(p=B.color);var v=B.nailColor;v||(v=B.color);0<B.nailRadius&&(p=b.circle(d,B.nailRadius,p,B.nailAlpha,B.nailBorderThickness,p,B.nailBorderAlpha),b.setCN(this,p,"gauge-arrow-nail"),B.set.push(p),p.translate(k,w));isNaN(e)&&(e=f-a.tickLength);var a=Math.sin(C/180*Math.PI),f=Math.cos(C/180*Math.PI),p=Math.sin((C+90)/180*Math.PI),n=Math.cos((C+90)/180*Math.PI),d=b.polygon(d,[k-h/2*p+A*a,k+e*a-g/2*p,k+e*a+g/2*p,k+h/2*p+A*a],[w+h/2*n-A*f,w-e*f+g/2*n,w-e*f-g/2*n,w-h/2*n-A*f],B.color,B.alpha,1,v,B.borderAlpha,void 0,!0);b.setCN(this,d,"gauge-arrow");B.set.push(d);this.graphsSet.push(B.set)}},setValue:function(c,g){c.axis&&c.axis.value2angle&&(c.frame=0,c.previousValue=c.value);c.value=g;var a=this.legend;a&&a.updateValues()},handleLegendEvent:function(a){var e=a.type;a=a.dataItem;if(!this.legend.data&&a){switch(e){case"hideItem":this.hideArrow(a);break;case"showItem":this.showArrow(a)}}},hideArrow:function(a){a.set.hide();a.hidden=!0},showArrow:function(a){a.set.show();a.hidden=!1},updateAnimations:function(){b.AmAngularGauge.base.updateAnimations.call(this);for(var e=this.arrows.length,i,d=0;d<e;d++){if(i=this.arrows[d],i.axis&&i.axis.value2angle){var a;i.frame>=this.totalFrames?a=i.value:(i.frame++,i.clockWiseOnly&&i.value<i.previousValue&&(a=i.axis,i.previousValue-=a.endValue-a.startValue),a=b.getEffect(this.startEffect),a=b[a](0,i.frame,i.previousValue,i.value-i.previousValue,this.totalFrames),isNaN(a)&&(a=i.value));a=i.axis.value2angle(a);i.drawnAngle!=a&&(this.drawArrow(i,a),i.drawnAngle=a)}}}})})();