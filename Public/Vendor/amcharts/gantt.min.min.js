(function(){var b=window.AmCharts;b.AmGanttChart=b.Class({inherits:b.AmSerialChart,construct:function(a){this.type="gantt";b.AmGanttChart.base.construct.call(this,a);this.cname="AmGanttChart";this.period="ss"},initChart:function(){this.processGanttData();this.dataChanged=!0;b.AmGanttChart.base.initChart.call(this)},parseData:function(){b.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.ganttDataProvider)},processGanttData:function(){var F;this.graphs=[];var C=this.dataProvider;this.ganttDataProvider=[];var D=this.categoryField,q=this.startField,t=this.endField,v=this.durationField,x=this.startDateField,z=this.endDateField,y=this.colorField,e=this.period,n=b.getDate(this.startDate,this.dataDateFormat,"fff");this.categoryAxis.gridPosition="start";F=this.valueAxis;this.valueAxes=[F];var E;"date"==F.type&&(E=!0);F.minimumDate&&(F.minimumDate=b.getDate(F.minimumDate,w,e));F.maximumDate&&(F.maximumDate=b.getDate(F.maximumDate,w,e));isNaN(F.minimum)||(F.minimumDate=b.changeDate(new Date(n),e,F.minimum,!0,!0));isNaN(F.maximum)||(F.maximumDate=b.changeDate(new Date(n),e,F.maximum,!0,!0));var w=this.dataDateFormat;for(F=0;F<C.length;F++){var d=C[F],k={};k[D]=d[D];var A=d[this.segmentsField],l;this.ganttDataProvider.push(k);d=d[y];if(A){for(var f=0;f<A.length;f++){var a=A[f],ab=a[q],g=a[t],m=a[v];isNaN(ab)&&(ab=l);isNaN(m)||(g=ab+m);var m="start_"+F+"_"+f,B="end_"+F+"_"+f;k[m]=ab;k[B]=g;var r="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" "),h,u;for(u in r){h=r[u]+"Field",(l=this.graph[h])&&void 0!==a[l]&&(k[l+"_"+F+"_"+f]=a[l])}l=g;if(E){h=b.getDate(a[x],w,e);var p=b.getDate(a[z],w,e);n&&(isNaN(ab)||(h=b.changeDate(new Date(n),e,ab,!0,!0)),isNaN(g)||(p=b.changeDate(new Date(n),e,g,!0,!0)));k[m]=h.getTime();k[B]=p.getTime()}g={};b.copyProperties(a,g);ab={};b.copyProperties(this.graph,ab,!0);for(u in r){h=r[u]+"Field",this.graph[h]&&(ab[h]=r[u]+"_"+F+"_"+f)}ab.customData=g;ab.segmentData=a;ab.labelFunction=this.graph.labelFunction;ab.balloonFunction=this.graph.balloonFunction;ab.customBullet=this.graph.customBullet;ab.type="column";ab.openField=m;ab.valueField=B;ab.clustered=!1;a[y]&&(d=a[y]);ab.columnWidth=a[this.columnWidthField];void 0===d&&(d=this.colors[F]);(a=this.brightnessStep)&&(d=b.adjustLuminosity(d,f*a/100));void 0===this.graph.lineColor&&(ab.lineColor=d);void 0===this.graph.fillColors&&(ab.fillColors=d);this.graphs.push(ab)}}}}})})();