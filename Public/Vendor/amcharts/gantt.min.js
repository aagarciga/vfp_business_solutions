(function(){var a=window.AmCharts;a.AmGanttChart=a.Class({inherits:a.AmSerialChart,construct:function(b){this.type="gantt";a.AmGanttChart.base.construct.call(this,b);this.cname="AmGanttChart";this.period="ss"},initChart:function(){this.processGanttData();this.dataChanged=!0;a.AmGanttChart.base.initChart.call(this)},parseData:function(){a.AmSerialChart.base.parseData.call(this);this.parseSerialData(this.ganttDataProvider)},processGanttData:function(){var ab;this.graphs=[];var j=this.dataProvider;this.ganttDataProvider=[];var i=this.categoryField,O=this.startField,M=this.endField,K=this.durationField,I=this.startDateField,G=this.endDateField,H=this.colorField,X=this.period,Q=a.getDate(this.startDate,this.dataDateFormat,"fff");this.categoryAxis.gridPosition="start";ab=this.valueAxis;this.valueAxes=[ab];var c;"date"==ab.type&&(c=!0);ab.minimumDate&&(ab.minimumDate=a.getDate(ab.minimumDate,J,X));ab.maximumDate&&(ab.maximumDate=a.getDate(ab.maximumDate,J,X));isNaN(ab.minimum)||(ab.minimumDate=a.changeDate(new Date(Q),X,ab.minimum,!0,!0));isNaN(ab.maximum)||(ab.maximumDate=a.changeDate(new Date(Q),X,ab.maximum,!0,!0));var J=this.dataDateFormat;for(ab=0;ab<j.length;ab++){var Y=j[ab],T={};T[i]=Y[i];var s=Y[this.segmentsField],S;this.ganttDataProvider.push(T);Y=Y[H];if(s){for(var W=0;W<s.length;W++){var Z=s[W],aa=Z[O],V=Z[M],R=Z[K];isNaN(aa)&&(aa=S);isNaN(R)||(V=aa+R);var R="start_"+ab+"_"+W,o="end_"+ab+"_"+W;T[R]=aa;T[o]=V;var N="lineColor color alpha fillColors description bullet customBullet bulletSize bulletConfig url labelColor dashLength pattern gap className".split(" "),U,L;for(L in N){U=N[L]+"Field",(S=this.graph[U])&&void 0!==Z[S]&&(T[S+"_"+ab+"_"+W]=Z[S])}S=V;if(c){U=a.getDate(Z[I],J,X);var P=a.getDate(Z[G],J,X);Q&&(isNaN(aa)||(U=a.changeDate(new Date(Q),X,aa,!0,!0)),isNaN(V)||(P=a.changeDate(new Date(Q),X,V,!0,!0)));T[R]=U.getTime();T[o]=P.getTime()}V={};a.copyProperties(Z,V);aa={};a.copyProperties(this.graph,aa,!0);for(L in N){U=N[L]+"Field",this.graph[U]&&(aa[U]=N[L]+"_"+ab+"_"+W)}aa.customData=V;aa.segmentData=Z;aa.labelFunction=this.graph.labelFunction;aa.balloonFunction=this.graph.balloonFunction;aa.customBullet=this.graph.customBullet;aa.type="column";aa.openField=R;aa.valueField=o;aa.clustered=!1;Z[H]&&(Y=Z[H]);aa.columnWidth=Z[this.columnWidthField];void 0===Y&&(Y=this.colors[ab]);(Z=this.brightnessStep)&&(Y=a.adjustLuminosity(Y,W*Z/100));void 0===this.graph.lineColor&&(aa.lineColor=Y);void 0===this.graph.fillColors&&(aa.fillColors=Y);this.graphs.push(aa)}}}}})})();